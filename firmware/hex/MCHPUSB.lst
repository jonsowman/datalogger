MP2COD 4.1, COFF to COD File Converter
Copyright (c) 2006 Microchip Technology Inc.
Listing File Generated: Mon May 21 16:51:09 2012


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           /* $Id: c018i.c,v 1.7 2006/11/15 22:53:12 moshtaa Exp $ */                       C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* Copyright (c)1999 Microchip Technology */                                     C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* MPLAB-C18 startup code, including initialized data */                         C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* external reference to __init() function */                                    C:\MCC18\src\traditional\startup\c018i.c
                                           extern void __init (void);                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           /* external reference to the user's main routine */                              C:\MCC18\src\traditional\startup\c018i.c
                                           extern void main (void);                                                         C:\MCC18\src\traditional\startup\c018i.c
                                           /* prototype for the startup function */                                         C:\MCC18\src\traditional\startup\c018i.c
                                           void _entry (void);                                                              C:\MCC18\src\traditional\startup\c018i.c
                                           void _startup (void);                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* prototype for the initialized data setup */                                   C:\MCC18\src\traditional\startup\c018i.c
                                           void _do_cinit (void);                                                           C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           extern volatile near unsigned long short TBLPTR;                                 C:\MCC18\src\traditional\startup\c018i.c
                                           extern near unsigned FSR0;                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           extern near char __FPFLAGS;                                                      C:\MCC18\src\traditional\startup\c018i.c
                                           #define RND 6                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _entry_scn=0x000000                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _entry (void)                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
000000   ef7a     GOTO      0x18f4         _asm goto _startup _endasm                                                       C:\MCC18\src\traditional\startup\c018i.c
000002   f00c                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
000004   0012     RETURN    0x0            }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _startup_scn                                                        C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _startup (void)                                                                  C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             _asm                                                                           C:\MCC18\src\traditional\startup\c018i.c
                                               // Initialize the stack pointer                                              C:\MCC18\src\traditional\startup\c018i.c
0018f4   ee13     LFSR      0x1,0x300          lfsr 1, _stack                                                               C:\MCC18\src\traditional\startup\c018i.c
0018f6   f000                                                                                                               
0018f8   ee23     LFSR      0x2,0x300          lfsr 2, _stack                                                               C:\MCC18\src\traditional\startup\c018i.c
0018fa   f000                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
0018fc   6af8     CLRF      0xf8,0x0           clrf TBLPTRU, 0 // 1st silicon doesn't do this on POR                        C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
0018fe   9c01     BCF       0x1,0x6,0x0        bcf __FPFLAGS,RND,0 // Initialize rounding flag for floating point libs      C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                               _endasm                                                                      C:\MCC18\src\traditional\startup\c018i.c
001900   ecbf     CALL      0x177e,0x0         _do_cinit ();                                                                C:\MCC18\src\traditional\startup\c018i.c
001902   f00b                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           loop:                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // If user defined __init is not found, the one in clib.lib will be used       C:\MCC18\src\traditional\startup\c018i.c
001904   ec88     CALL      0x1910,0x0       __init ();                                                                     C:\MCC18\src\traditional\startup\c018i.c
001906   f00c                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // Call the user's main routine                                                C:\MCC18\src\traditional\startup\c018i.c
001908   ec63     CALL      0x18c6,0x0       main ();                                                                       C:\MCC18\src\traditional\startup\c018i.c
00190a   f00c                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
00190c   d7fb     BRA       0x1904           goto loop;                                                                     C:\MCC18\src\traditional\startup\c018i.c
00190e   0012     RETURN    0x0            }                               /* end _startup() */                             C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* MPLAB-C18 initialized data memory support */                                  C:\MCC18\src\traditional\startup\c018i.c
                                           /* The linker will populate the _cinit table */                                  C:\MCC18\src\traditional\startup\c018i.c
                                           extern far rom struct                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             unsigned short num_init;                                                       C:\MCC18\src\traditional\startup\c018i.c
                                             struct _init_entry                                                             C:\MCC18\src\traditional\startup\c018i.c
                                             {                                                                              C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long from;                                                          C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long to;                                                            C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long size;                                                          C:\MCC18\src\traditional\startup\c018i.c
                                             }                                                                              C:\MCC18\src\traditional\startup\c018i.c
                                             entries[];                                                                     C:\MCC18\src\traditional\startup\c018i.c
                                           }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           _cinit;                                                                          C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _cinit_scn                                                          C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _do_cinit (void)                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             /* we'll make the assumption in the following code that these statics          C:\MCC18\src\traditional\startup\c018i.c
                                              * will be allocated into the same bank.                                       C:\MCC18\src\traditional\startup\c018i.c
                                              */                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             static short long prom;                                                        C:\MCC18\src\traditional\startup\c018i.c
                                             static unsigned short curr_byte;                                               C:\MCC18\src\traditional\startup\c018i.c
                                             static unsigned short curr_entry;                                              C:\MCC18\src\traditional\startup\c018i.c
                                             static short long data_ptr;                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // Initialized data...                                                         C:\MCC18\src\traditional\startup\c018i.c
00177e   0e2a     MOVLW     0x2a             TBLPTR = (short long)&_cinit;                                                  C:\MCC18\src\traditional\startup\c018i.c
001780   6ef6     MOVWF     0xf6,0x0                                                                                        
001782   0e08     MOVLW     0x8                                                                                             
001784   6ef7     MOVWF     0xf7,0x0                                                                                        
001786   0e00     MOVLW     0x0                                                                                             
001788   6ef8     MOVWF     0xf8,0x0                                                                                        
                                             _asm                                                                           C:\MCC18\src\traditional\startup\c018i.c
00178a   0100     MOVLB     0x0                movlb data_ptr                                                               C:\MCC18\src\traditional\startup\c018i.c
00178c   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\MCC18\src\traditional\startup\c018i.c
00178e   50f5     MOVF      0xf5,0x0,0x0       movf TABLAT, 0, 0                                                            C:\MCC18\src\traditional\startup\c018i.c
001790   6fe4     MOVWF     0xe4,0x1           movwf curr_entry, 1                                                          C:\MCC18\src\traditional\startup\c018i.c
001792   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\MCC18\src\traditional\startup\c018i.c
001794   50f5     MOVF      0xf5,0x0,0x0       movf TABLAT, 0, 0                                                            C:\MCC18\src\traditional\startup\c018i.c
001796   6fe5     MOVWF     0xe5,0x1           movwf curr_entry+1, 1                                                        C:\MCC18\src\traditional\startup\c018i.c
                                             _endasm                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               //while (curr_entry)                                                         C:\MCC18\src\traditional\startup\c018i.c
                                               //{                                                                          C:\MCC18\src\traditional\startup\c018i.c
                                               test:                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               _asm                                                                         C:\MCC18\src\traditional\startup\c018i.c
001798   e103     BNZ       0x17a0              bnz 3                                                                       C:\MCC18\src\traditional\startup\c018i.c
00179a   67e4     TSTFSZ    0xe4,0x1           tstfsz curr_entry, 1                                                         C:\MCC18\src\traditional\startup\c018i.c
00179c   d001     BRA       0x17a0             bra 1                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               _endasm                                                                      C:\MCC18\src\traditional\startup\c018i.c
00179e   d03d     BRA       0x181a             goto done;                                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                 /* Count down so we only have to look up the data in _cinit                C:\MCC18\src\traditional\startup\c018i.c
                                                  * once.                                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                  *                                                                         C:\MCC18\src\traditional\startup\c018i.c
                                                  * At this point we know that TBLPTR points to the top of the current      C:\MCC18\src\traditional\startup\c018i.c
                                                  * entry in _cinit, so we can just start reading the from, to, and         C:\MCC18\src\traditional\startup\c018i.c
                                                  * size values.                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                  */                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                                 _asm                                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the source address */                                                   C:\MCC18\src\traditional\startup\c018i.c
0017a0   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0017a2   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
0017a4   6fdf     MOVWF     0xdf,0x1       	movwf prom, 1                                                                   C:\MCC18\src\traditional\startup\c018i.c
0017a6   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0017a8   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
0017aa   6fe0     MOVWF     0xe0,0x1       	movwf prom+1, 1                                                                 C:\MCC18\src\traditional\startup\c018i.c
0017ac   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0017ae   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
0017b0   6fe1     MOVWF     0xe1,0x1       	movwf prom+2, 1                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip a byte since it's stored as a 32bit int */                              C:\MCC18\src\traditional\startup\c018i.c
0017b2   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the destination address directly into FSR0 */                           C:\MCC18\src\traditional\startup\c018i.c
0017b4   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0017b6   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
0017b8   6ee9     MOVWF     0xe9,0x0       	movwf FSR0L, 0                                                                  C:\MCC18\src\traditional\startup\c018i.c
0017ba   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0017bc   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
0017be   6eea     MOVWF     0xea,0x0       	movwf FSR0H, 0                                                                  C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip two bytes since it's stored as a 32bit int */                           C:\MCC18\src\traditional\startup\c018i.c
0017c0   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0017c2   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the destination address directly into FSR0 */                           C:\MCC18\src\traditional\startup\c018i.c
0017c4   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0017c6   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
0017c8   6fe2     MOVWF     0xe2,0x1       	movwf curr_byte, 1                                                              C:\MCC18\src\traditional\startup\c018i.c
0017ca   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0017cc   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
0017ce   6fe3     MOVWF     0xe3,0x1       	movwf curr_byte+1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip two bytes since it's stored as a 32bit int */                           C:\MCC18\src\traditional\startup\c018i.c
0017d0   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0017d2   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 _endasm                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 //prom = data_ptr->from;                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                 //FSR0 = data_ptr->to;                                                     C:\MCC18\src\traditional\startup\c018i.c
                                                 //curr_byte = (unsigned short) data_ptr->size;                             C:\MCC18\src\traditional\startup\c018i.c
                                                 /* the table pointer now points to the next entry. Save it                 C:\MCC18\src\traditional\startup\c018i.c
                                                  * off since we'll be using the table pointer to do the copying            C:\MCC18\src\traditional\startup\c018i.c
                                                  * for the entry.                                                          C:\MCC18\src\traditional\startup\c018i.c
                                                  */                                                                        C:\MCC18\src\traditional\startup\c018i.c
0017d4   cff6     MOVFF     0xff6,0xe6           data_ptr = TBLPTR;                                                         C:\MCC18\src\traditional\startup\c018i.c
0017d6   f0e6                                                                                                               
0017d8   cff7     MOVFF     0xff7,0xe7                                                                                      
0017da   f0e7                                                                                                               
0017dc   cff8     MOVFF     0xff8,0xe8                                                                                      
0017de   f0e8                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 /* now assign the source address to the table pointer */                   C:\MCC18\src\traditional\startup\c018i.c
0017e0   c0df     MOVFF     0xdf,0xff6           TBLPTR = prom;                                                             C:\MCC18\src\traditional\startup\c018i.c
0017e2   fff6                                                                                                               
0017e4   c0e0     MOVFF     0xe0,0xff7                                                                                      
0017e6   fff7                                                                                                               
0017e8   c0e1     MOVFF     0xe1,0xff8                                                                                      
0017ea   fff8                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 /* do the copy loop */                                                     C:\MCC18\src\traditional\startup\c018i.c
                                                 _asm                                                                       C:\MCC18\src\traditional\startup\c018i.c
                                                   // determine if we have any more bytes to copy                           C:\MCC18\src\traditional\startup\c018i.c
0017ec   0100     MOVLB     0x0            	movlb curr_byte                                                                 C:\MCC18\src\traditional\startup\c018i.c
0017ee   53e2     MOVF      0xe2,0x1,0x1   	movf curr_byte, 1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           copy_loop:                                                                       C:\MCC18\src\traditional\startup\c018i.c
0017f0   e102     BNZ       0x17f6         	bnz 2 // copy_one_byte                                                          C:\MCC18\src\traditional\startup\c018i.c
0017f2   53e3     MOVF      0xe3,0x1,0x1   	movf curr_byte + 1, 1, 1                                                        C:\MCC18\src\traditional\startup\c018i.c
0017f4   e007     BZ        0x1804         	bz 7 // done_copying                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           copy_one_byte:                                                                   C:\MCC18\src\traditional\startup\c018i.c
0017f6   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0017f8   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
0017fa   6eee     MOVWF     0xee,0x0       	movwf POSTINC0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           	// decrement byte counter                                                       C:\MCC18\src\traditional\startup\c018i.c
0017fc   07e2     DECF      0xe2,0x1,0x1   	decf curr_byte, 1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
0017fe   e2f8     BC        0x17f0         	bc -8 // copy_loop                                                              C:\MCC18\src\traditional\startup\c018i.c
001800   07e3     DECF      0xe3,0x1,0x1           decf curr_byte + 1, 1, 1                                                 C:\MCC18\src\traditional\startup\c018i.c
001802   d7f9     BRA       0x17f6         	bra -7 // copy_one_byte                                                         C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           done_copying:                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 _endasm                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 /* restore the table pointer for the next entry */                         C:\MCC18\src\traditional\startup\c018i.c
001804   c0e6     MOVFF     0xe6,0xff6           TBLPTR = data_ptr;                                                         C:\MCC18\src\traditional\startup\c018i.c
001806   fff6                                                                                                               
001808   c0e7     MOVFF     0xe7,0xff7                                                                                      
00180a   fff7                                                                                                               
00180c   c0e8     MOVFF     0xe8,0xff8                                                                                      
00180e   fff8                                                                                                               
                                                 /* next entry... */                                                        C:\MCC18\src\traditional\startup\c018i.c
001810   0100     MOVLB     0x0                  curr_entry--;                                                              C:\MCC18\src\traditional\startup\c018i.c
001812   07e4     DECF      0xe4,0x1,0x1                                                                                    
001814   0e00     MOVLW     0x0                                                                                             
001816   5be5     SUBWFB    0xe5,0x1,0x1                                                                                    
001818   d7bf     BRA       0x1798               goto test;                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           done:                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           ;                                                                                C:\MCC18\src\traditional\startup\c018i.c
00181a   0012     RETURN    0x0            }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           /** I N C L U D E S **********************************************************/  C:\datalogger\firmware\main.c
                                           #include <p18cxxx.h>                                                             C:\datalogger\firmware\main.c
                                           #include "system\typedefs.h"                        // Required                  C:\datalogger\firmware\main.c
                                           #include "system\usb\usb.h"                         // Required                  C:\datalogger\firmware\main.c
                                           #include "io_cfg.h"                                 // Required                  C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
                                           #include "system\usb\usb_compile_time_validation.h" // Optional                  C:\datalogger\firmware\main.c
                                           #include "user\user.h"                              // Modifiable                C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
                                           /** V A R I A B L E S ********************************************************/  C:\datalogger\firmware\main.c
                                           #pragma udata                                                                    C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  C:\datalogger\firmware\main.c
                                           static void InitializeSystem(void);                                              C:\datalogger\firmware\main.c
                                           void USBTasks(void);                                                             C:\datalogger\firmware\main.c
                                           void low_isr(void);                                                              C:\datalogger\firmware\main.c
                                           void high_isr(void);                                                             C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
                                           /** V E C T O R  R E M A P P I N G *******************************************/  C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
                                           extern void _startup (void);        // See c018i.c in your C18 compiler dir      C:\datalogger\firmware\main.c
                                           #pragma code _RESET_INTERRUPT_VECTOR = 0x000800                                  C:\datalogger\firmware\main.c
                                           void _reset (void)                                                               C:\datalogger\firmware\main.c
                                           {                                                                                C:\datalogger\firmware\main.c
000800   ef7a     GOTO      0x18f4         	_asm goto _startup _endasm                                                      C:\datalogger\firmware\main.c
000802   f00c                                                                                                               
000804   0012     RETURN    0x0            }                                                                                C:\datalogger\firmware\main.c
                                           #pragma code                                                                     C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
                                           #pragma code highVector=0x08                                                     C:\datalogger\firmware\main.c
                                           void _high_ISR (void)                                                            C:\datalogger\firmware\main.c
                                           {                                                                                C:\datalogger\firmware\main.c
000008   ef0f     GOTO      0x1e           	_asm goto high_isr _endasm                                                      C:\datalogger\firmware\main.c
00000a   f000                                                                                                               
00000c   0012     RETURN    0x0            }                                                                                C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
                                           #pragma code lowVector=0x18                                                      C:\datalogger\firmware\main.c
                                           void _low_ISR (void)                                                             C:\datalogger\firmware\main.c
                                           {                                                                                C:\datalogger\firmware\main.c
000018   ef1a     GOTO      0x34           	_asm goto low_isr _endasm                                                       C:\datalogger\firmware\main.c
00001a   f000                                                                                                               
00001c   0012     RETURN    0x0            }                                                                                C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
                                           #pragma interrupt high_isr                                                       C:\datalogger\firmware\main.c
00001e   cfda     MOVFF     0xfda,0xfe4    void high_isr(void)                                                              C:\datalogger\firmware\main.c
000020   ffe4                                                                                                               
000022   cfe2     MOVFF     0xfe2,0xfda                                                                                     
000024   ffda                                                                                                               
000026   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\datalogger\firmware\main.c
00002a   d7fe     BRA       0x28           	while(1)                                                                        C:\datalogger\firmware\main.c
000028   828c     BSF       0x8c,0x1,0x0   		LATDbits.LATD1 = 1; // Turn RD1 on                                             C:\datalogger\firmware\main.c
00002c   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\datalogger\firmware\main.c
00002e   cfe5     MOVFF     0xfe5,0xfda                                                                                     
000030   ffda                                                                                                               
000032   0011     RETFIE    0x1                                                                                             
                                                                                                                            C:\datalogger\firmware\main.c
                                           #pragma interruptlow low_isr                                                     C:\datalogger\firmware\main.c
000034   cfd8     MOVFF     0xfd8,0xfe4    void low_isr(void)                                                               C:\datalogger\firmware\main.c
000036   ffe4                                                                                                               
000038   cfe0     MOVFF     0xfe0,0xfe4                                                                                     
00003a   ffe4                                                                                                               
00003c   6ee4     MOVWF     0xe4,0x0                                                                                        
00003e   cfda     MOVFF     0xfda,0xfe4                                                                                     
000040   ffe4                                                                                                               
000042   cfe2     MOVFF     0xfe2,0xfda                                                                                     
000044   ffda                                                                                                               
000046   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\datalogger\firmware\main.c
00004a   d7fe     BRA       0x48           	while(1)                                                                        C:\datalogger\firmware\main.c
000048   828c     BSF       0x8c,0x1,0x0   		LATDbits.LATD1 = 1;                                                            C:\datalogger\firmware\main.c
00004c   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\datalogger\firmware\main.c
00004e   cfe5     MOVFF     0xfe5,0xfda                                                                                     
000050   ffda                                                                                                               
000052   50e5     MOVF      0xe5,0x0,0x0                                                                                    
000054   cfe5     MOVFF     0xfe5,0xfe0                                                                                     
000056   ffe0                                                                                                               
000058   cfe5     MOVFF     0xfe5,0xfd8                                                                                     
00005a   ffd8                                                                                                               
00005c   0010     RETFIE    0x0                                                                                             
                                                                                                                            C:\datalogger\firmware\main.c
                                           // End interrupt handling                                                        C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
                                           #pragma code                                                                     C:\datalogger\firmware\main.c
                                           void main(void)                                                                  C:\datalogger\firmware\main.c
                                           {                                                                                C:\datalogger\firmware\main.c
0018c6   d80d     RCALL     0x18e2             InitializeSystem();                                                          C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
                                           	// Enable interrupt priority                                                    C:\datalogger\firmware\main.c
0018c8   8ed0     BSF       0xd0,0x7,0x0   	RCONbits.IPEN = 1;                                                              C:\datalogger\firmware\main.c
                                           			                                                                              C:\datalogger\firmware\main.c
                                           	// global interrupts                                                            C:\datalogger\firmware\main.c
0018ca   8cf2     BSF       0xf2,0x6,0x0   	INTCONbits.GIEL  = 1;                                                           C:\datalogger\firmware\main.c
0018cc   8ef2     BSF       0xf2,0x7,0x0   	INTCONbits.GIEH = 1;                                                            C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
0018ce   92f2     BCF       0xf2,0x1,0x0   	INTCONbits.INT0IF = 0; // Clear overflow flag                                   C:\datalogger\firmware\main.c
0018d0   88f2     BSF       0xf2,0x4,0x0   	INTCONbits.INT0IE = 1; // Enable INT0 interrupt.                                C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
0018d2   928c     BCF       0x8c,0x1,0x0   	LATDbits.LATD1 = 0; // Check LED off.                                           C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
0018de   d7fa     BRA       0x18d4             while(1)                                                                     C:\datalogger\firmware\main.c
                                               {                                                                            C:\datalogger\firmware\main.c
0018d4   d808     RCALL     0x18e6                 USBTasks();         // USB Tasks                                         C:\datalogger\firmware\main.c
                                           		//UCAM                                                                         C:\datalogger\firmware\main.c
0018d6   ec1c     CALL      0x838,0x0              ProcessIO();        // See user\user.c & .h                              C:\datalogger\firmware\main.c
0018d8   f004                                                                                                               
0018da   ec36     CALL      0xe6c,0x0      		UserTasks();                                                                   C:\datalogger\firmware\main.c
0018dc   f007                                                                                                               
                                               }                                                                            C:\datalogger\firmware\main.c
0018e0   0012     RETURN    0x0            }                                                                                C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
                                           /* InitializeSystem is a centralize initialization routine.                      C:\datalogger\firmware\main.c
                                            * All required USB initialization routines are called from                      C:\datalogger\firmware\main.c
                                            * here.                                                                         C:\datalogger\firmware\main.c
                                            */                                                                              C:\datalogger\firmware\main.c
                                           static void InitializeSystem(void)                                               C:\datalogger\firmware\main.c
                                           {                                                                                C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
                                               #if defined(USE_USB_BUS_SENSE_IO)                                            C:\datalogger\firmware\main.c
                                               //tris_usb_bus_sense = INPUT_PIN; // See io_cfg.h                            C:\datalogger\firmware\main.c
                                               #endif                                                                       C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
                                               #if defined(USE_SELF_POWER_SENSE_IO)                                         C:\datalogger\firmware\main.c
                                               //tris_self_power = INPUT_PIN;                                               C:\datalogger\firmware\main.c
                                               #endif                                                                       C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
                                               //mInitializeUSBDriver();         // See usbdrv.h                            C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
0018e2   ef38     GOTO      0xe70              UserInit();                     // See user.c & .h                           C:\datalogger\firmware\main.c
0018e4   f007                                                                                                               
                                                                                                                            C:\datalogger\firmware\main.c
                                           }                                                                                C:\datalogger\firmware\main.c
                                                                                                                            C:\datalogger\firmware\main.c
                                           /*                                                                               C:\datalogger\firmware\main.c
                                            * Call this after InitializeSystem()                                            C:\datalogger\firmware\main.c
                                            */                                                                              C:\datalogger\firmware\main.c
                                           void USBTasks(void)                                                              C:\datalogger\firmware\main.c
                                           {                                                                                C:\datalogger\firmware\main.c
                                               // Servicing Hardware                                                        C:\datalogger\firmware\main.c
0018e6   ec1d     CALL      0x143a,0x0         USBCheckBusStatus();          // Must use polling method                     C:\datalogger\firmware\main.c
0018e8   f00a                                                                                                               
0018ea   be6f     BTFSC     0x6f,0x7,0x0       if(UCFGbits.UTEYE!=1)                                                        C:\datalogger\firmware\main.c
0018ec   d002     BRA       0x18f2                                                                                          
                                           	{                                                                               C:\datalogger\firmware\main.c
0018ee   ec39     CALL      0x1472,0x0             USBDriverService();     // Interrupt or polling method                   C:\datalogger\firmware\main.c
0018f0   f00a                                                                                                               
                                           	}                                                                               C:\datalogger\firmware\main.c
0018f2   0012     RETURN    0x0            }                                                                                C:\datalogger\firmware\main.c
                                           /*********************************************************************           C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                Microchip USB C18 Firmware Version 1.0                         C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            *********************************************************************           C:\datalogger\firmware\system\usb\usbmmap.c
                                            * FileName:        usbmmap.c                                                    C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Dependencies:    See INCLUDES section below                                   C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Processor:       PIC18                                                        C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Compiler:        C18 2.30.01+                                                 C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Company:         Microchip Technology, Inc.                                   C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Software License Agreement                                                    C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * The software supplied herewith by Microchip Technology Incorporated           C:\datalogger\firmware\system\usb\usbmmap.c
                                            * (the Company) for its PICmicro Microcontroller is intended and             C:\datalogger\firmware\system\usb\usbmmap.c
                                            * supplied to you, the Companys customer, for use solely and                   C:\datalogger\firmware\system\usb\usbmmap.c
                                            * exclusively on Microchip PICmicro Microcontroller products. The               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * software is owned by the Company and/or its supplier, and is                  C:\datalogger\firmware\system\usb\usbmmap.c
                                            * protected under applicable copyright laws. All rights are reserved.           C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Any use in violation of the foregoing restrictions may subject the            C:\datalogger\firmware\system\usb\usbmmap.c
                                            * user to criminal sanctions under applicable laws, as well as to               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * civil liability for the breach of the terms and conditions of this            C:\datalogger\firmware\system\usb\usbmmap.c
                                            * license.                                                                      C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * THIS SOFTWARE IS PROVIDED IN AN AS IS CONDITION. NO WARRANTIES,             C:\datalogger\firmware\system\usb\usbmmap.c
                                            * WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED             C:\datalogger\firmware\system\usb\usbmmap.c
                                            * TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                   C:\datalogger\firmware\system\usb\usbmmap.c
                                            * PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,             C:\datalogger\firmware\system\usb\usbmmap.c
                                            * IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                    C:\datalogger\firmware\system\usb\usbmmap.c
                                            * CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                             C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Author               Date        Comment                                      C:\datalogger\firmware\system\usb\usbmmap.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Rawin Rojvanit       11/19/04    Original.                                    C:\datalogger\firmware\system\usb\usbmmap.c
                                            ********************************************************************/           C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbmmap.c
                                            * -usbmmap.c-                                                                   C:\datalogger\firmware\system\usb\usbmmap.c
                                            * USB Memory Map                                                                C:\datalogger\firmware\system\usb\usbmmap.c
                                            * This file is the USB memory manager; it serves as a compile-time memory       C:\datalogger\firmware\system\usb\usbmmap.c
                                            * allocator for the USB endpoints. It uses the compile time options passed      C:\datalogger\firmware\system\usb\usbmmap.c
                                            * from usbcfg.h to instantiate endpoints and endpoint buffer.                   C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Each endpoint requires to have a set of Buffer Descriptor registers(BDT).     C:\datalogger\firmware\system\usb\usbmmap.c
                                            * A BDT is 4-byte long and has a specific RAM location for each endpoint.       C:\datalogger\firmware\system\usb\usbmmap.c
                                            * The BDT for endpoint 0 out is located at address 0x400 to 0x403.              C:\datalogger\firmware\system\usb\usbmmap.c
                                            * The BDT for endpoint 0 in is located at address 0x404 to 0x407.               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * The BDT for endpoint 1 out is located at address 0x408 to 0x40B.              C:\datalogger\firmware\system\usb\usbmmap.c
                                            * and so on... The above allocation assumes the Ping-Pong Buffer Mode 0 is      C:\datalogger\firmware\system\usb\usbmmap.c
                                            * used. These locations are already hard-wired in the silicon. The point        C:\datalogger\firmware\system\usb\usbmmap.c
                                            * of doing instantiation, i.e. volatile far BDT ep0Bo;, is to provide the       C:\datalogger\firmware\system\usb\usbmmap.c
                                            * C compiler a way to address each variable directly. This is very important    C:\datalogger\firmware\system\usb\usbmmap.c
                                            * because when a register can be accessed directly, it saves execution time     C:\datalogger\firmware\system\usb\usbmmap.c
                                            * and reduces program size.                                                     C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Endpoints are defined using the endpoint number and the direction             C:\datalogger\firmware\system\usb\usbmmap.c
                                            * of transfer. For simplicity, usbmmap.c only uses the endpoint number          C:\datalogger\firmware\system\usb\usbmmap.c
                                            * in the BDT register allocation scheme. This means if the usbcfg.h states      C:\datalogger\firmware\system\usb\usbmmap.c
                                            * that the MAX_EP_NUMBER is number 1, then four BDTs will be                    C:\datalogger\firmware\system\usb\usbmmap.c
                                            * instantiated: one each for endpoint0 in and endpoint0 out, which must         C:\datalogger\firmware\system\usb\usbmmap.c
                                            * always be instantiated for control transfer by default, and one each sets     C:\datalogger\firmware\system\usb\usbmmap.c
                                            * for endpoint1 in and endpoint1 out. The naming convention for instantiating   C:\datalogger\firmware\system\usb\usbmmap.c
                                            * BDT is                                                                        C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * ep<#>B<d>                                                                     C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * where # is the endpoint number, and d is the direction of                     C:\datalogger\firmware\system\usb\usbmmap.c
                                            * transfer, which could be either <i> or <o>.                                   C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * The USB memory manager uses MAX_EP_NUMBER, as defined in usbcfg.h, to define  C:\datalogger\firmware\system\usb\usbmmap.c
                                            * the endpoints to be instantiated. This represents the highest endpoint        C:\datalogger\firmware\system\usb\usbmmap.c
                                            * number to be allocated, not how many endpoints are used. Since the BDTs for   C:\datalogger\firmware\system\usb\usbmmap.c
                                            * endpoints have hardware-assigned addresses in Bank 4, setting this value too  C:\datalogger\firmware\system\usb\usbmmap.c
                                            * high may lead to inefficient use of data RAM. For example, if an application  C:\datalogger\firmware\system\usb\usbmmap.c
                                            * uses only endpoints EP0 and EP4, then the MAX_EP_NUMBER is 4, and not 2.      C:\datalogger\firmware\system\usb\usbmmap.c
                                            * The in-between endpoint BDTs in this example (EP1, EP2, and EP3) go unused,   C:\datalogger\firmware\system\usb\usbmmap.c
                                            * and the 24 bytes of memory associated with them are wasted. It does not make  C:\datalogger\firmware\system\usb\usbmmap.c
                                            * much sense to skip endpoints, but the final decision lies with the user.      C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * The next step is to assign the instantiated BDTs to different                 C:\datalogger\firmware\system\usb\usbmmap.c
                                            * USB functions. The firmware framework fundamentally assumes that every USB    C:\datalogger\firmware\system\usb\usbmmap.c
                                            * function should know which endpoint it is using, i.e., the default control    C:\datalogger\firmware\system\usb\usbmmap.c
                                            * transfer should know that it is using endpoint 0 in and endpoint 0 out.       C:\datalogger\firmware\system\usb\usbmmap.c
                                            * A HID class can choose which endpoint it wants to use, but once chosen, it    C:\datalogger\firmware\system\usb\usbmmap.c
                                            * should always know the number of the endpoint.                                C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * The assignment of endpoints to USB functions is managed centrally             C:\datalogger\firmware\system\usb\usbmmap.c
                                            * in usbcfg.h. This helps prevent the mistake of having more                    C:\datalogger\firmware\system\usb\usbmmap.c
                                            * than one USB function using the same endpoint. The "Endpoint Allocation"      C:\datalogger\firmware\system\usb\usbmmap.c
                                            * section in usbcfg.h provides examples for how to map USB endpoints to USB     C:\datalogger\firmware\system\usb\usbmmap.c
                                            * functions.                                                                    C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Quite a few things can be mapped in that section. There is no                 C:\datalogger\firmware\system\usb\usbmmap.c
                                            * one correct way to do the mapping and the user has the choice to              C:\datalogger\firmware\system\usb\usbmmap.c
                                            * choose a method that is most suitable to the application.                     C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Typically, however, a user will want to map the following for a given         C:\datalogger\firmware\system\usb\usbmmap.c
                                            * USB interface function:                                                       C:\datalogger\firmware\system\usb\usbmmap.c
                                            * 1. The USB interface ID                                                       C:\datalogger\firmware\system\usb\usbmmap.c
                                            * 2. The endpoint control registers (UEPn)                                      C:\datalogger\firmware\system\usb\usbmmap.c
                                            * 3. The BDT registers (ep<#>B<d>)                                              C:\datalogger\firmware\system\usb\usbmmap.c
                                            * 4. The endpoint size                                                          C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Example: Assume a USB device class "foo", which uses one out endpoint         C:\datalogger\firmware\system\usb\usbmmap.c
                                            *          of size 64-byte and one in endpoint of size 64-byte, then:           C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * #define FOO_INTF_ID          0x00                                             C:\datalogger\firmware\system\usb\usbmmap.c
                                            * #define FOO_UEP              UEP1                                             C:\datalogger\firmware\system\usb\usbmmap.c
                                            * #define FOO_BD_OUT           ep1Bo                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                            * #define FOO_BD_IN            ep1Bi                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                            * #define FOO_EP_SIZE          64                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * The mapping above has chosen class "foo" to use endpoint 1.                   C:\datalogger\firmware\system\usb\usbmmap.c
                                            * The names are arbitrary and can be anything other than FOO_??????.            C:\datalogger\firmware\system\usb\usbmmap.c
                                            * For abstraction, the code for class "foo" should use the abstract             C:\datalogger\firmware\system\usb\usbmmap.c
                                            * definitions of FOO_BD_OUT,FOO_BD_IN, and not ep1Bo or ep1Bi.                  C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Note that the endpoint size defined in the usbcfg.h file is again             C:\datalogger\firmware\system\usb\usbmmap.c
                                            * used in the usbmmap.c file. This shows that the relationship between          C:\datalogger\firmware\system\usb\usbmmap.c
                                            * the two files are tightly related.                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * The endpoint buffer for each USB function must be located in the              C:\datalogger\firmware\system\usb\usbmmap.c
                                            * dual-port RAM area and has to come after all the BDTs have been               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * instantiated. An example declaration is:                                      C:\datalogger\firmware\system\usb\usbmmap.c
                                            * volatile far unsigned char[FOO_EP_SIZE] data;                                 C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * The 'volatile' keyword tells the compiler not to perform any code             C:\datalogger\firmware\system\usb\usbmmap.c
                                            * optimization on this variable because its content could be modified           C:\datalogger\firmware\system\usb\usbmmap.c
                                            * by the hardware. The 'far' keyword tells the compiler that this variable      C:\datalogger\firmware\system\usb\usbmmap.c
                                            * is not located in the Access RAM area (0x000 - 0x05F).                        C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * For the variable to be globally accessible by other files, it should be       C:\datalogger\firmware\system\usb\usbmmap.c
                                            * declared in the header file usbmmap.h as an extern definition, such as        C:\datalogger\firmware\system\usb\usbmmap.c
                                            * extern volatile far unsigned char[FOO_EP_SIZE] data;                          C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Conclusion:                                                                   C:\datalogger\firmware\system\usb\usbmmap.c
                                            * In a short summary, the dependencies between usbcfg and usbmmap can           C:\datalogger\firmware\system\usb\usbmmap.c
                                            * be shown as:                                                                  C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * usbcfg[MAX_EP_NUMBER] -> usbmmap                                              C:\datalogger\firmware\system\usb\usbmmap.c
                                            * usbmmap[ep<#>B<d>] -> usbcfg                                                  C:\datalogger\firmware\system\usb\usbmmap.c
                                            * usbcfg[EP size] -> usbmmap                                                    C:\datalogger\firmware\system\usb\usbmmap.c
                                            * usbcfg[abstract ep definitions] -> usb9/hid/cdc/etc class code                C:\datalogger\firmware\system\usb\usbmmap.c
                                            * usbmmap[endpoint buffer variable] -> usb9/hid/cdc/etc class code              C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Data mapping provides a means for direct addressing of BDT and endpoint       C:\datalogger\firmware\system\usb\usbmmap.c
                                            * buffer. This means less usage of pointers, which equates to a faster and      C:\datalogger\firmware\system\usb\usbmmap.c
                                            * smaller program code.                                                         C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           /** I N C L U D E S **********************************************************/  C:\datalogger\firmware\system\usb\usbmmap.c
                                           #include "system\typedefs.h"                                                     C:\datalogger\firmware\system\usb\usbmmap.c
                                           #include "system\usb\usb.h"                                                      C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           /** U S B  G L O B A L  V A R I A B L E S ************************************/  C:\datalogger\firmware\system\usb\usbmmap.c
                                           #pragma udata                                                                    C:\datalogger\firmware\system\usb\usbmmap.c
                                           byte usb_device_state;          // Device States: DETACHED, ATTACHED, ...        C:\datalogger\firmware\system\usb\usbmmap.c
                                           USB_DEVICE_STATUS usb_stat;     // Global USB flags                              C:\datalogger\firmware\system\usb\usbmmap.c
                                           byte usb_active_cfg;            // Value of current configuration                C:\datalogger\firmware\system\usb\usbmmap.c
                                           byte usb_alt_intf[MAX_NUM_INT]; // Array to keep track of the current alternate  C:\datalogger\firmware\system\usb\usbmmap.c
                                                                           // setting for each interface ID                 C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           /** U S B  F I X E D  L O C A T I O N  V A R I A B L E S *********************/  C:\datalogger\firmware\system\usb\usbmmap.c
                                           #pragma udata usbram4=0x400     //See Linker Script,usb4:0x400-0x4FF(256-byte)   C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Section A: Buffer Descriptor Table                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                            * - 0x400 - 0x4FF(max)                                                          C:\datalogger\firmware\system\usb\usbmmap.c
                                            * - MAX_EP_NUMBER is defined in autofiles\usbcfg.h                              C:\datalogger\firmware\system\usb\usbmmap.c
                                            * - BDT data type is defined in system\usb\usbmmap.h                            C:\datalogger\firmware\system\usb\usbmmap.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           #if(0 <= MAX_EP_NUMBER)                                                          C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep0Bo;         //Endpoint #0 BD Out                             C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep0Bi;         //Endpoint #0 BD In                              C:\datalogger\firmware\system\usb\usbmmap.c
                                           #endif                                                                           C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           #if(1 <= MAX_EP_NUMBER)                                                          C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep1Bo;         //Endpoint #1 BD Out                             C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep1Bi;         //Endpoint #1 BD In                              C:\datalogger\firmware\system\usb\usbmmap.c
                                           #endif                                                                           C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           #if(2 <= MAX_EP_NUMBER)                                                          C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep2Bo;         //Endpoint #2 BD Out                             C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep2Bi;         //Endpoint #2 BD In                              C:\datalogger\firmware\system\usb\usbmmap.c
                                           #endif                                                                           C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           #if(3 <= MAX_EP_NUMBER)                                                          C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep3Bo;         //Endpoint #3 BD Out                             C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep3Bi;         //Endpoint #3 BD In                              C:\datalogger\firmware\system\usb\usbmmap.c
                                           #endif                                                                           C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           #if(4 <= MAX_EP_NUMBER)                                                          C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep4Bo;         //Endpoint #4 BD Out                             C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep4Bi;         //Endpoint #4 BD In                              C:\datalogger\firmware\system\usb\usbmmap.c
                                           #endif                                                                           C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           #if(5 <= MAX_EP_NUMBER)                                                          C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep5Bo;         //Endpoint #5 BD Out                             C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep5Bi;         //Endpoint #5 BD In                              C:\datalogger\firmware\system\usb\usbmmap.c
                                           #endif                                                                           C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           #if(6 <= MAX_EP_NUMBER)                                                          C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep6Bo;         //Endpoint #6 BD Out                             C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep6Bi;         //Endpoint #6 BD In                              C:\datalogger\firmware\system\usb\usbmmap.c
                                           #endif                                                                           C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           #if(7 <= MAX_EP_NUMBER)                                                          C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep7Bo;         //Endpoint #7 BD Out                             C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep7Bi;         //Endpoint #7 BD In                              C:\datalogger\firmware\system\usb\usbmmap.c
                                           #endif                                                                           C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           #if(8 <= MAX_EP_NUMBER)                                                          C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep8Bo;         //Endpoint #8 BD Out                             C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep8Bi;         //Endpoint #8 BD In                              C:\datalogger\firmware\system\usb\usbmmap.c
                                           #endif                                                                           C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           #if(9 <= MAX_EP_NUMBER)                                                          C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep9Bo;         //Endpoint #9 BD Out                             C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep9Bi;         //Endpoint #9 BD In                              C:\datalogger\firmware\system\usb\usbmmap.c
                                           #endif                                                                           C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           #if(10 <= MAX_EP_NUMBER)                                                         C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep10Bo;        //Endpoint #10 BD Out                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep10Bi;        //Endpoint #10 BD In                             C:\datalogger\firmware\system\usb\usbmmap.c
                                           #endif                                                                           C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           #if(11 <= MAX_EP_NUMBER)                                                         C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep11Bo;        //Endpoint #11 BD Out                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep11Bi;        //Endpoint #11 BD In                             C:\datalogger\firmware\system\usb\usbmmap.c
                                           #endif                                                                           C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           #if(12 <= MAX_EP_NUMBER)                                                         C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep12Bo;        //Endpoint #12 BD Out                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep12Bi;        //Endpoint #12 BD In                             C:\datalogger\firmware\system\usb\usbmmap.c
                                           #endif                                                                           C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           #if(13 <= MAX_EP_NUMBER)                                                         C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep13Bo;        //Endpoint #13 BD Out                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep13Bi;        //Endpoint #13 BD In                             C:\datalogger\firmware\system\usb\usbmmap.c
                                           #endif                                                                           C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           #if(14 <= MAX_EP_NUMBER)                                                         C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep14Bo;        //Endpoint #14 BD Out                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep14Bi;        //Endpoint #14 BD In                             C:\datalogger\firmware\system\usb\usbmmap.c
                                           #endif                                                                           C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           #if(15 <= MAX_EP_NUMBER)                                                         C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep15Bo;        //Endpoint #15 BD Out                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far BDT ep15Bi;        //Endpoint #15 BD In                             C:\datalogger\firmware\system\usb\usbmmap.c
                                           #endif                                                                           C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Section B: EP0 Buffer Space                                                   C:\datalogger\firmware\system\usb\usbmmap.c
                                            ******************************************************************************  C:\datalogger\firmware\system\usb\usbmmap.c
                                            * - Two buffer areas are defined:                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            *   A. CTRL_TRF_SETUP                                                           C:\datalogger\firmware\system\usb\usbmmap.c
                                            *      - Size = EP0_BUFF_SIZE as defined in autofiles\usbcfg.h                  C:\datalogger\firmware\system\usb\usbmmap.c
                                            *      - Detailed data structure allows direct adddressing of bits and bytes.   C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            *   B. CTRL_TRF_DATA                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                            *      - Size = EP0_BUFF_SIZE as defined in autofiles\usbcfg.h                  C:\datalogger\firmware\system\usb\usbmmap.c
                                            *      - Data structure allows direct adddressing of the first 8 bytes.         C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            * - Both data types are defined in system\usb\usbdefs\usbdefs_ep0_buff.h        C:\datalogger\firmware\system\usb\usbmmap.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far CTRL_TRF_SETUP SetupPkt;                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far CTRL_TRF_DATA CtrlTrfData;                                          C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbmmap.c
                                            * Section C: Buffer                                                             C:\datalogger\firmware\system\usb\usbmmap.c
                                            ******************************************************************************  C:\datalogger\firmware\system\usb\usbmmap.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbmmap.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far byte usbgen_out[USBGEN_EP_SIZE];                                    C:\datalogger\firmware\system\usb\usbmmap.c
                                           volatile far byte usbgen_in[USBGEN_EP_SIZE];                                     C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           #pragma udata                                                                    C:\datalogger\firmware\system\usb\usbmmap.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbmmap.c
                                           /** EOF usbmmap.c ************************************************************/  C:\datalogger\firmware\system\usb\usbmmap.c
                                           /** I N C L U D E S **********************************************************/  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           #include <p18cxxx.h>                                                             C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           #include "system\typedefs.h"                                                     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           #include "system\usb\usb.h"                                                      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           #include "io_cfg.h"             // Required for USBCheckBusStatus()              C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /** V A R I A B L E S ********************************************************/  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           #pragma udata                                                                    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USBModuleEnable(void);                                                      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USBModuleDisable(void);                                                     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USBSuspend(void);                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USBWakeFromSuspend(void);                                                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USBProtocolResetHandler(void);                                              C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USB_SOF_Handler(void);                                                      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USBStallHandler(void);                                                      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USBErrorHandler(void);                                                      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /** D E C L A R A T I O N S **************************************************/  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           #pragma code                                                                     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBCheckBusStatus(void)                                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Overview:        This routine enables/disables the USB module by monitoring   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  the USB power signal.                                        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USBCheckBusStatus(void)                                                     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               /**************************************************************************  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * Bus Attachment & Detachment Detection                                     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * usb_bus_sense is an i/o pin defined in io_cfg.h                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                *************************************************************************/  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               #define USB_BUS_ATTACHED    1                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               #define USB_BUS_DETACHED    0                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           //mod by Tim                                                                     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           //we're assuming the USB is attached - the PIC wouldn't be powered otherwise     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               //if(usb_bus_sense == USB_BUS_ATTACHED)       // Is USB bus attached?        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               //{                                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00143a   a66d     BTFSS     0x6d,0x3,0x0           if(UCONbits.USBEN == 0)                 // Is the module off?            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00143c   d80c     RCALL     0x1456                     USBModuleEnable();                  // Is off, enable it             C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               //}                                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /*                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               else //USB bus not attached                                                  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               {		                                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                   if(UCONbits.USBEN == 1)                 // Is the module on?             C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                       USBModuleDisable();                 // Is on, disable it             C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               }//end if(usb_bus_sense...)                                                  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           */                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           //end mod by Tim                                                                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * After enabling the USB module, it takes some time for the voltage         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * on the D+ or D- line to rise high enough to get out of the SE0 condition. C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * The USB Reset interrupt should not be unmasked until the SE0 condition is C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * cleared. This helps preventing the firmware from misinterpreting this     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * unique event as a USB bus reset from the USB host.                        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00143e   0100     MOVLB     0x0                if(usb_device_state == ATTACHED_STATE)                                       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001440   05f1     DECF      0xf1,0x0,0x1                                                                                    
001442   e108     BNZ       0x1454                                                                                          
                                               {                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001444   ba6d     BTFSC     0x6d,0x5,0x0           if(!UCONbits.SE0)                                                        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001446   d006     BRA       0x1454                                                                                          
                                                   {                                                                        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001448   6a68     CLRF      0x68,0x0                   UIR = 0;                        // Clear all USB interrupts          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00144a   6a69     CLRF      0x69,0x0                   UIE = 0;                        // Mask all USB interrupts           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00144c   8069     BSF       0x69,0x0,0x0               UIEbits.URSTIE = 1;             // Unmask RESET interrupt            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00144e   8869     BSF       0x69,0x4,0x0               UIEbits.IDLEIE = 1;             // Unmask IDLE interrupt             C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001450   0e02     MOVLW     0x2                        usb_device_state = POWERED_STATE;                                    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001452   6ff1     MOVWF     0xf1,0x1                                                                                        
                                                   }//end if                           // else wait until SE0 is cleared    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               }//end if(usb_device_state == ATTACHED_STATE)                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001454   0012     RETURN    0x0            }//end USBCheckBusStatus                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBModuleEnable(void)                                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Overview:        This routine enables the USB module.                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  An end designer should never have to call this routine       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  manually. This routine should only be called from            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  USBCheckBusStatus().                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Note:            See USBCheckBusStatus() for more information.                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USBModuleEnable(void)                                                       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001456   6a6d     CLRF      0x6d,0x0           UCON = 0;                                                                    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001458   6a69     CLRF      0x69,0x0           UIE = 0;                                // Mask all USB interrupts           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00145a   866d     BSF       0x6d,0x3,0x0       UCONbits.USBEN = 1;                     // Enable module & attach to bus     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00145c   0100     MOVLB     0x0                usb_device_state = ATTACHED_STATE;      // Defined in usbmmap.c & .h         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00145e   0e01     MOVLW     0x1                                                                                             
001460   6ff1     MOVWF     0xf1,0x1                                                                                        
001462   0012     RETURN    0x0            }//end USBModuleEnable                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBModuleDisable(void)                                  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Overview:        This routine disables the USB module.                        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  An end designer should never have to call this routine       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  manually. This routine should only be called from            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  USBCheckBusStatus().                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Note:            See USBCheckBusStatus() for more information.                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USBModuleDisable(void)                                                      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001464   6a6d     CLRF      0x6d,0x0           UCON = 0;                               // Disable module & detach from bus  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001466   6a69     CLRF      0x69,0x0           UIE = 0;                                // Mask all USB interrupts           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001468   0100     MOVLB     0x0                usb_device_state = DETACHED_STATE;      // Defined in usbmmap.c & .h         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00146a   6bf1     CLRF      0xf1,0x1                                                                                        
00146c   0012     RETURN    0x0            }//end USBModuleDisable                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBSoftDetach(void)                                     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    The device will have to be re-enumerated to function again.  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Overview:        USBSoftDetach electrically disconnects the device from       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  the bus. This is done by stop supplying Vusb voltage to      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  pull-up resistor. The pull-down resistors on the host        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  side will pull both differential signal lines low and        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  the host registers the event as a disconnect.                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  Since the USB cable is not physically disconnected, the      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  power supply through the cable can still be sensed by        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  the device. The next time USBCheckBusStatus() function       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  is called, it will reconnect the device back to the bus.     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USBSoftDetach(void)                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00146e   ef32     GOTO      0x1464             USBModuleDisable();                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001470   f00a                                                                                                               
                                           }//end USBSoftDetach                                                             C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBDriverService(void)                                  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Overview:        This routine is the heart of this firmware. It manages       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  all USB interrupts.                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Note:            Device state transitions through the following stages:       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  DETACHED -> ATTACHED -> POWERED -> DEFAULT ->                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  ADDRESS_PENDING -> ADDRESSED -> CONFIGURED -> READY          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USBDriverService(void)                                                      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * Pointless to continue servicing if USB cable is not even attached.        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001472   0100     MOVLB     0x0                if(usb_device_state == DETACHED_STATE) return;                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001474   51f1     MOVF      0xf1,0x0,0x1                                                                                    
001476   e101     BNZ       0x147a                                                                                          
001478   d03a     BRA       0x14ee                                                                                          
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * Task A: Service USB Activity Interrupt                                    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00147a   5068     MOVF      0x68,0x0,0x0       if(UIRbits.ACTVIF && UIEbits.ACTVIE)    USBWakeFromSuspend();                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00147c   0b04     ANDLW     0x4                                                                                             
00147e   e004     BZ        0x1488                                                                                          
001480   5069     MOVF      0x69,0x0,0x0                                                                                    
001482   0b04     ANDLW     0x4                                                                                             
001484   e001     BZ        0x1488                                                                                          
001486   d838     RCALL     0x14f8                                                                                          
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * Pointless to continue servicing if the device is in suspend mode.         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001488   b26d     BTFSC     0x6d,0x1,0x0       if(UCONbits.SUSPND==1) return;                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00148a   d031     BRA       0x14ee                                                                                          
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * Task B: Service USB Bus Reset Interrupt.                                  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * When bus reset is received during suspend, ACTVIF will be set first,      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * once the UCONbits.SUSPND is clear, then the URSTIF bit will be asserted.  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * This is why URSTIF is checked after ACTVIF.                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00148c   5068     MOVF      0x68,0x0,0x0       if(UIRbits.URSTIF && UIEbits.URSTIE)    USBProtocolResetHandler();           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00148e   0b01     ANDLW     0x1                                                                                             
001490   e004     BZ        0x149a                                                                                          
001492   5069     MOVF      0x69,0x0,0x0                                                                                    
001494   0b01     ANDLW     0x1                                                                                             
001496   e001     BZ        0x149a                                                                                          
001498   d850     RCALL     0x153a                                                                                          
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * Task C: Service other USB interrupts                                      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00149a   5068     MOVF      0x68,0x0,0x0       if(UIRbits.IDLEIF && UIEbits.IDLEIE)    USBSuspend();                        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00149c   0b10     ANDLW     0x10                                                                                            
00149e   e004     BZ        0x14a8                                                                                          
0014a0   5069     MOVF      0x69,0x0,0x0                                                                                    
0014a2   0b10     ANDLW     0x10                                                                                            
0014a4   e001     BZ        0x14a8                                                                                          
0014a6   d824     RCALL     0x14f0                                                                                          
0014a8   5068     MOVF      0x68,0x0,0x0       if(UIRbits.SOFIF && UIEbits.SOFIE)      USB_SOF_Handler();                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014aa   0b40     ANDLW     0x40                                                                                            
0014ac   e004     BZ        0x14b6                                                                                          
0014ae   5069     MOVF      0x69,0x0,0x0                                                                                    
0014b0   0b40     ANDLW     0x40                                                                                            
0014b2   e001     BZ        0x14b6                                                                                          
0014b4   d837     RCALL     0x1524                                                                                          
0014b6   5068     MOVF      0x68,0x0,0x0       if(UIRbits.STALLIF && UIEbits.STALLIE)  USBStallHandler();                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014b8   0b20     ANDLW     0x20                                                                                            
0014ba   e004     BZ        0x14c4                                                                                          
0014bc   5069     MOVF      0x69,0x0,0x0                                                                                    
0014be   0b20     ANDLW     0x20                                                                                            
0014c0   e001     BZ        0x14c4                                                                                          
0014c2   d832     RCALL     0x1528                                                                                          
0014c4   5068     MOVF      0x68,0x0,0x0       if(UIRbits.UERRIF && UIEbits.UERRIE)    USBErrorHandler();                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014c6   0b02     ANDLW     0x2                                                                                             
0014c8   e004     BZ        0x14d2                                                                                          
0014ca   5069     MOVF      0x69,0x0,0x0                                                                                    
0014cc   0b02     ANDLW     0x2                                                                                             
0014ce   e001     BZ        0x14d2                                                                                          
0014d0   d832     RCALL     0x1536                                                                                          
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * Pointless to continue servicing if the host has not sent a bus reset.     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * Once bus reset is received, the device transitions into the DEFAULT       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * state and is ready for communication.                                     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014d2   0e03     MOVLW     0x3                if(usb_device_state < DEFAULT_STATE) return;                                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014d4   0100     MOVLB     0x0                                                                                             
0014d6   5df1     SUBWF     0xf1,0x0,0x1                                                                                    
0014d8   e201     BC        0x14dc                                                                                          
0014da   d009     BRA       0x14ee                                                                                          
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * Task D: Servicing USB Transaction Complete Interrupt                      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014dc   5068     MOVF      0x68,0x0,0x0       if(UIRbits.TRNIF && UIEbits.TRNIE)                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014de   0b08     ANDLW     0x8                                                                                             
0014e0   e006     BZ        0x14ee                                                                                          
0014e2   5069     MOVF      0x69,0x0,0x0                                                                                    
0014e4   0b08     ANDLW     0x8                                                                                             
0014e6   e003     BZ        0x14ee                                                                                          
                                               {                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                   /*                                                                       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                    * USBCtrlEPService only services transactions over EP0.                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                    * It ignores all other EP transactions.                                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                    */                                                                      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014e8   ecc4     CALL      0x1188,0x0             USBCtrlEPService();                                                      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014ea   f008                                                                                                               
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                   /*                                                                       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                    * Other EP can be serviced later by responsible device class firmware.  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                    * Each device driver knows when an OUT or IN transaction is ready by    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                    * checking the buffer ownership bit.                                    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                    * An OUT EP should always be owned by SIE until the data is ready.      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                    * An IN EP should always be owned by CPU until the data is ready.       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                    *                                                                       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                    * Because of this logic, it is not necessary to save the USTAT value    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                    * of non-EP0 transactions.                                              C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                    */                                                                      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014ec   9668     BCF       0x68,0x3,0x0           UIRbits.TRNIF = 0;                                                       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               }//end if(UIRbits.TRNIF && UIEbits.TRNIE)                                    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014ee   0012     RETURN    0x0            }//end USBDriverService                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBSuspend(void)                                        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Overview:                                                                     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USBSuspend(void)                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * NOTE: Do not clear UIRbits.ACTVIF here!                                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * Reason:                                                                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * ACTVIF is only generated once an IDLEIF has been generated.               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * This is a 1:1 ratio interrupt generation.                                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * For every IDLEIF, there will be only one ACTVIF regardless of             C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * the number of subsequent bus transitions.                                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                *                                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * If the ACTIF is cleared here, a problem could occur when:                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * [       IDLE       ][bus activity ->                                      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * <--- 3 ms ----->     ^                                                    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                *                ^     ACTVIF=1                                             C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                *                IDLEIF=1                                                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                *  #           #           #           #   (#=Program polling flags)        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                *                          ^                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                *                          This polling loop will see both                  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                *                          IDLEIF=1 and ACTVIF=1.                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                *                          However, the program services IDLEIF first       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                *                          because ACTIVIE=0.                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                *                          If this routine clears the only ACTIVIF,         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                *                          then it can never get out of the suspend         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                *                          mode.                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014f0   8469     BSF       0x69,0x2,0x0       UIEbits.ACTVIE = 1;                     // Enable bus activity interrupt     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014f2   9868     BCF       0x68,0x4,0x0       UIRbits.IDLEIF = 0;                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014f4   826d     BSF       0x6d,0x1,0x0       UCONbits.SUSPND = 1;                    // Put USB module in power conserve  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                       // mode, SIE clock inactive          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * At this point the PIC can go into sleep,idle, or                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * switch to a slower clock, etc.                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               /* Modifiable Section */                                                     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               /* End Modifiable Section */                                                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014f6   0012     RETURN    0x0            }//end USBSuspend                                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBWakeFromSuspend(void)                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Overview:                                                                     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USBWakeFromSuspend(void)                                                    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * If using clock switching, this is the place to restore the                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * original clock frequency.                                                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014f8   926d     BCF       0x6d,0x1,0x0       UCONbits.SUSPND = 0;                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014fa   9469     BCF       0x69,0x2,0x0       UIEbits.ACTVIE = 0;                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014fc   9468     BCF       0x68,0x2,0x0       UIRbits.ACTVIF = 0;                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0014fe   0012     RETURN    0x0            }//end USBWakeFromSuspend                                                        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBRemoteWakeup(void)                                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Overview:        This function should be called by user when the device       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  is waken up by an external stimulus other than ACTIVIF.      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  Please read the note below to understand the limitations.    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Note:            The modifiable section in this routine should be changed     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  to meet the application needs. Current implementation        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  temporary blocks other functions from executing for a        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  period of 1-13 ms depending on the core frequency.           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  According to USB 2.0 specification section 7.1.7.7,          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  "The remote wakeup device must hold the resume signaling     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  for at lest 1 ms but for no more than 15 ms."                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  The idea here is to use a delay counter loop, using a        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  common value that would work over a wide range of core       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  frequencies.                                                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  That value selected is 1800. See table below:                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  ==========================================================   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  Core Freq(MHz)      MIP         RESUME Signal Period (ms)    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  ==========================================================   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                      48              12          1.05                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                       4              1           12.6                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  ==========================================================   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  * These timing could be incorrect when using code            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                    optimization or extended instruction mode,                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                    or when having other interrupts enabled.                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                    Make sure to verify using the MPLAB SIM's Stopwatch        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USBRemoteWakeup(void)                                                       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               static word delay_count;                                                     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001500   0100     MOVLB     0x0                if(usb_stat.RemoteWakeup == 1)          // Check if RemoteWakeup function    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001502   a1f2     BTFSS     0xf2,0x0,0x1                                                                                    
001504   d00e     BRA       0x1522                                                                                          
                                               {                                       // has been enabled by the host.     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001506   dff8     RCALL     0x14f8                 USBWakeFromSuspend();               // Unsuspend USB modue               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001508   846d     BSF       0x6d,0x2,0x0           UCONbits.RESUME = 1;                // Start RESUME signaling            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                   /* Modifiable Section */                                                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00150a   0100     MOVLB     0x0                    delay_count = 1800U;                // Set RESUME line for 1-13 ms       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00150c   0e08     MOVLW     0x8                                                                                             
00150e   6ff5     MOVWF     0xf5,0x1                                                                                        
001510   0e07     MOVLW     0x7                                                                                             
001512   6ff6     MOVWF     0xf6,0x1                                                                                        
                                                   do                                                                       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                   {                                                                        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001514   07f5     DECF      0xf5,0x1,0x1               delay_count--;                                                       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001516   0e00     MOVLW     0x0                                                                                             
001518   5bf6     SUBWFB    0xf6,0x1,0x1                                                                                    
00151a   51f5     MOVF      0xf5,0x0,0x1           }while(delay_count);                                                     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00151c   11f6     IORWF     0xf6,0x0,0x1                                                                                    
00151e   e1fa     BNZ       0x1514                                                                                          
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                   /* End Modifiable Section */                                             C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001520   946d     BCF       0x6d,0x2,0x0           UCONbits.RESUME = 0;                                                     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               }//endif                                                                     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001522   0012     RETURN    0x0            }//end USBRemoteWakeup                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USB_SOF_Handler(void)                                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Overview:        The USB host sends out a SOF packet to full-speed devices    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  every 1 ms. This interrupt may be useful for isochronous     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  pipes. End designers should implement callback routine       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  as necessary.                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USB_SOF_Handler(void)                                                       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               /* Callback routine here */                                                  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001524   9c68     BCF       0x68,0x6,0x0       UIRbits.SOFIF = 0;                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001526   0012     RETURN    0x0            }//end USB_SOF_Handler                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBStallHandler(void)                                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    A STALL packet is sent to the host by the SIE.               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Overview:        The STALLIF is set anytime the SIE sends out a STALL         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  packet regardless of which endpoint causes it.               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  A Setup transaction overrides the STALL function. A stalled  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  endpoint stops stalling once it receives a setup packet.     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  In this case, the SIE will accepts the Setup packet and      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  set the TRNIF flag to notify the firmware. STALL function    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  for that particular endpoint pipe will be automatically      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  disabled (direction specific).                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  There are a few reasons for an endpoint to be stalled.       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  1. When a non-supported USB request is received.             C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                     Example: GET_DESCRIPTOR(DEVICE_QUALIFIER)                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  2. When an endpoint is currently halted.                     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  3. When the device class specifies that an endpoint must     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                     stall in response to a specific event.                    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                     Example: Mass Storage Device Class                        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                              If the CBW is not valid, the device shall        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                              STALL the Bulk-In pipe.                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                              See USB Mass Storage Class Bulk-only Transport   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                              Specification for more details.                  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Note:            UEPn.EPSTALL can be scanned to see which endpoint causes     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  the stall event.                                             C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  If                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USBStallHandler(void)                                                       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * Does not really have to do anything here,                                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * even for the control endpoint.                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * All BDs of Endpoint 0 are owned by SIE right now,                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * but once a Setup Transaction is received, the ownership                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * for EP0_OUT will be returned to CPU.                                      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * When the Setup Transaction is serviced, the ownership                     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * for EP0_IN will then be forced back to CPU by firmware.                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                *                                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                * NOTE: Above description is not quite true at this point.                  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                *       It seems the SIE never returns the UOWN bit to CPU,                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                *       and a TRNIF is never generated upon successful                      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                *       reception of a SETUP transaction.                                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                *       Firmware work-around is implemented below.                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001528   a070     BTFSS     0x70,0x0,0x0       if(UEP0bits.EPSTALL == 1)                                                    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00152a   d003     BRA       0x1532                                                                                          
                                               {                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00152c   ec0f     CALL      0x141e,0x0             USBPrepareForNextSetupTrf();        // Firmware Work-Around              C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00152e   f00a                                                                                                               
001530   9070     BCF       0x70,0x0,0x0           UEP0bits.EPSTALL = 0;                                                    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                               }                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001532   9a68     BCF       0x68,0x5,0x0       UIRbits.STALLIF = 0;                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001534   0012     RETURN    0x0            }//end USBStallHandler                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBErrorHandler(void)                                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Overview:        The purpose of this interrupt is mainly for debugging        C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  during development. Check UEIR to see which error causes     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  the interrupt.                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USBErrorHandler(void)                                                       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001536   9268     BCF       0x68,0x1,0x0       UIRbits.UERRIF = 0;                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001538   0012     RETURN    0x0            }//end USBErrorHandler                                                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBProtocolResetHandler(void)                           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    A USB bus reset is received from the host.                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    Currently, this routine flushes any pending USB              C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  transactions. It empties out the USTAT FIFO. This action     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  might not be desirable in some applications.                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Overview:        Once a USB bus reset is received from the host, this         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  routine should be called. It resets the device address to    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  zero, disables all non-EP0 endpoints, initializes EP0 to     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  be ready for default communication, clears all USB           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  interrupt flags, unmasks applicable USB interrupts, and      C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                  reinitializes internal state-machine variables.              C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           void USBProtocolResetHandler(void)                                               C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00153a   6a6a     CLRF      0x6a,0x0           UEIR = 0;                       // Clear all USB error flags                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00153c   6a68     CLRF      0x68,0x0           UIR = 0;                        // Clears all USB interrupts                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00153e   0e9f     MOVLW     0x9f               UEIE = 0b10011111;              // Unmask all USB error interrupts           C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001540   6e6b     MOVWF     0x6b,0x0                                                                                        
001542   0e7b     MOVLW     0x7b               UIE = 0b01111011;               // Enable all interrupts except ACTVIE       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001544   6e69     MOVWF     0x69,0x0                                                                                        
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001546   6a6e     CLRF      0x6e,0x0           UADDR = 0x00;                   // Reset to default address                  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001548   0e0f     MOVLW     0xf                mDisableEP1to15();              // Reset all non-EP0 UEPn registers          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00154a   6ee6     MOVWF     0xe6,0x0                                                                                        
00154c   0e71     MOVLW     0x71                                                                                            
00154e   6ee6     MOVWF     0xe6,0x0                                                                                        
001550   0e0f     MOVLW     0xf                                                                                             
001552   6ee6     MOVWF     0xe6,0x0                                                                                        
001554   d814     RCALL     0x157e                                                                                          
001556   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001558   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00155a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00155c   0e16     MOVLW     0x16               UEP0 = EP_CTRL|HSHK_EN;         // Init EP0 as a Ctrl EP, see usbdrv.h       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00155e   6e70     MOVWF     0x70,0x0                                                                                        
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001560   a668     BTFSS     0x68,0x3,0x0       while(UIRbits.TRNIF == 1)       // Flush any pending transactions            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001562   d002     BRA       0x1568                                                                                          
001566   d7fc     BRA       0x1560                                                                                          
001564   9668     BCF       0x68,0x3,0x0           UIRbits.TRNIF = 0;                                                       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001568   986d     BCF       0x6d,0x4,0x0       UCONbits.PKTDIS = 0;            // Make sure packet processing is enabled    C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00156a   ec0f     CALL      0x141e,0x0         USBPrepareForNextSetupTrf();    // Declared in usbctrltrf.c                  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00156c   f00a                                                                                                               
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00156e   0100     MOVLB     0x0                usb_stat.RemoteWakeup = 0;      // Default status flag to disable            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001570   91f2     BCF       0xf2,0x0,0x1                                                                                    
001572   0100     MOVLB     0x0                usb_active_cfg = 0;             // Clear active configuration                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001574   6bf3     CLRF      0xf3,0x1                                                                                        
001576   0100     MOVLB     0x0                usb_device_state = DEFAULT_STATE;                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001578   0e03     MOVLW     0x3                                                                                             
00157a   6ff1     MOVWF     0xf1,0x1                                                                                        
00157c   0012     RETURN    0x0            }//end USBProtocolResetHandler                                                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /* Auxiliary Function */                                                         C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00157e   cfd9     MOVFF     0xfd9,0xfe6    void ClearArray(byte* startAdr,byte count)                                       C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001580   ffe6                                                                                                               
001582   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
001584   ffd9                                                                                                               
                                           {                                                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001586   0efd     MOVLW     0xfd               *startAdr;                                                                   C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001588   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00158a   ffe9                                                                                                               
00158c   0efe     MOVLW     0xfe                                                                                            
00158e   cfdb     MOVFF     0xfdb,0xfea                                                                                     
001590   ffea                                                                                                               
001592   0efc     MOVLW     0xfc               while(count)                                                                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001594   50db     MOVF      0xdb,0x0,0x0                                                                                    
001596   e004     BZ        0x15a0                                                                                          
00159e   d7f9     BRA       0x1592                                                                                          
                                               {                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                   _asm                                                                     C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
001598   6aee     CLRF      0xee,0x0               clrf POSTINC0,0                                                          C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                                   _endasm                                                                  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00159a   0efc     MOVLW     0xfc                   count--;                                                                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
00159c   06db     DECF      0xdb,0x1,0x0                                                                                    
                                               }//end while                                                                 C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0015a0   52e5     MOVF      0xe5,0x1,0x0   }//end ClearArray                                                                C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
0015a2   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0015a4   ffd9                                                                                                               
0015a6   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /** EOF usbdrv.c *************************************************************/  C:\datalogger\firmware\system\usb\usbdrv\usbdrv.c
                                           /** I N C L U D E S **********************************************************/  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           #include <p18cxxx.h>                                                             C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           #include "system\typedefs.h"                                                     C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           #include "system\usb\usb.h"                                                      C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           #include "io_cfg.h"                     // Required for self_power status        C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           /** V A R I A B L E S ********************************************************/  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           #pragma udata                                                                    C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           void USBStdGetDscHandler(void);                                                  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           void USBStdSetCfgHandler(void);                                                  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           void USBStdGetStatusHandler(void);                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           void USBStdFeatureReqHandler(void);                                              C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           /** D E C L A R A T I O N S **************************************************/  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           #pragma code                                                                     C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Function:        void USBCheckStdRequest(void)                                C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Overview:        This routine checks the setup data packet to see if it       C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                  knows how to handle it                                       C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Note:            None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           void USBCheckStdRequest(void)                                                    C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usb9\usb9.c
000e80   0104     MOVLB     0x4                if(SetupPkt.RequestType != STANDARD) return;                                 C:\datalogger\firmware\system\usb\usb9\usb9.c
000e82   5118     MOVF      0x18,0x0,0x1                                                                                    
000e84   0b60     ANDLW     0x60                                                                                            
000e86   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000e88   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000e8a   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000e8c   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000e8e   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000e90   0900     IORLW     0x0                                                                                             
000e92   e001     BZ        0xe96                                                                                           
000e94   d055     BRA       0xf40                                                                                           
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
000e96   5119     MOVF      0x19,0x0,0x1       switch(SetupPkt.bRequest)                                                    C:\datalogger\firmware\system\usb\usb9\usb9.c
000e98   0a07     XORLW     0x7                                                                                             
000e9a   e051     BZ        0xf3e                                                                                           
000e9c   0a0b     XORLW     0xb                                                                                             
000e9e   e04f     BZ        0xf3e                                                                                           
000ea0   0a07     XORLW     0x7                                                                                             
000ea2   e040     BZ        0xf24                                                                                           
000ea4   0a01     XORLW     0x1                                                                                             
000ea6   e02c     BZ        0xf00                                                                                           
000ea8   0a0b     XORLW     0xb                                                                                             
000eaa   e028     BZ        0xefc                                                                                           
000eac   0a02     XORLW     0x2                                                                                             
000eae   e026     BZ        0xefc                                                                                           
000eb0   0a03     XORLW     0x3                                                                                             
000eb2   e022     BZ        0xef8                                                                                           
000eb4   0a08     XORLW     0x8                                                                                             
000eb6   e012     BZ        0xedc                                                                                           
000eb8   0a01     XORLW     0x1                                                                                             
000eba   e00e     BZ        0xed8                                                                                           
000ebc   0a0f     XORLW     0xf                                                                                             
000ebe   e00a     BZ        0xed4                                                                                           
000ec0   0a03     XORLW     0x3                                                                                             
000ec2   e001     BZ        0xec6                                                                                           
000ec4   d03c     BRA       0xf3e                                                                                           
                                               {                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   case SET_ADR:                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
000ec6   0100     MOVLB     0x0                        ctrl_trf_session_owner = MUID_USB9;                                  C:\datalogger\firmware\system\usb\usb9\usb9.c
000ec8   0e01     MOVLW     0x1                                                                                             
000eca   6fea     MOVWF     0xea,0x1                                                                                        
000ecc   0100     MOVLB     0x0                        usb_device_state = ADR_PENDING_STATE;       // Update state only     C:\datalogger\firmware\system\usb\usb9\usb9.c
000ece   0e04     MOVLW     0x4                                                                                             
000ed0   6ff1     MOVWF     0xf1,0x1                                                                                        
                                                       /* See USBCtrlTrfInHandler() in usbctrltrf.c for the next step */    C:\datalogger\firmware\system\usb\usb9\usb9.c
000ed2   d036     BRA       0xf40                      break;                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   case GET_DSC:                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
000ed4   d836     RCALL     0xf42                      USBStdGetDscHandler();                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
000ed6   d034     BRA       0xf40                      break;                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   case SET_CFG:                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
000ed8   d890     RCALL     0xffa                      USBStdSetCfgHandler();                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
000eda   d032     BRA       0xf40                      break;                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   case GET_CFG:                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
000edc   0100     MOVLB     0x0                        ctrl_trf_session_owner = MUID_USB9;                                  C:\datalogger\firmware\system\usb\usb9\usb9.c
000ede   0e01     MOVLW     0x1                                                                                             
000ee0   6fea     MOVWF     0xea,0x1                                                                                        
000ee2   0100     MOVLB     0x0                        pSrc.bRam = (byte*)&usb_active_cfg;         // Set Source            C:\datalogger\firmware\system\usb\usb9\usb9.c
000ee4   0ef3     MOVLW     0xf3                                                                                            
000ee6   6feb     MOVWF     0xeb,0x1                                                                                        
000ee8   0e00     MOVLW     0x0                                                                                             
000eea   6fec     MOVWF     0xec,0x1                                                                                        
000eec   0100     MOVLB     0x0                        usb_stat.ctrl_trf_mem = _RAM;               // Set memory type       C:\datalogger\firmware\system\usb\usb9\usb9.c
000eee   93f2     BCF       0xf2,0x1,0x1                                                                                    
000ef0   0100     MOVLB     0x0                        LSB(wCount) = 1;                            // Set data count        C:\datalogger\firmware\system\usb\usb9\usb9.c
000ef2   0e01     MOVLW     0x1                                                                                             
000ef4   6fef     MOVWF     0xef,0x1                                                                                        
000ef6   d024     BRA       0xf40                      break;                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   case GET_STATUS:                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
000ef8   d8a8     RCALL     0x104a                     USBStdGetStatusHandler();                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
000efa   d022     BRA       0xf40                      break;                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   case CLR_FEATURE:                                                        C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   case SET_FEATURE:                                                        C:\datalogger\firmware\system\usb\usb9\usb9.c
000efc   d8f4     RCALL     0x10e6                     USBStdFeatureReqHandler();                                           C:\datalogger\firmware\system\usb\usb9\usb9.c
000efe   d020     BRA       0xf40                      break;                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   case GET_INTF:                                                           C:\datalogger\firmware\system\usb\usb9\usb9.c
000f00   0100     MOVLB     0x0                        ctrl_trf_session_owner = MUID_USB9;                                  C:\datalogger\firmware\system\usb\usb9\usb9.c
000f02   0e01     MOVLW     0x1                                                                                             
000f04   6fea     MOVWF     0xea,0x1                                                                                        
000f06   0104     MOVLB     0x4                        pSrc.bRam = (byte*)&usb_alt_intf+SetupPkt.bIntfID;  // Set source    C:\datalogger\firmware\system\usb\usb9\usb9.c
000f08   511c     MOVF      0x1c,0x0,0x1                                                                                    
000f0a   0100     MOVLB     0x0                                                                                             
000f0c   6feb     MOVWF     0xeb,0x1                                                                                        
000f0e   6bec     CLRF      0xec,0x1                                                                                        
000f10   0ef4     MOVLW     0xf4                                                                                            
000f12   27eb     ADDWF     0xeb,0x1,0x1                                                                                    
000f14   0e00     MOVLW     0x0                                                                                             
000f16   23ec     ADDWFC    0xec,0x1,0x1                                                                                    
000f18   0100     MOVLB     0x0                        usb_stat.ctrl_trf_mem = _RAM;               // Set memory type       C:\datalogger\firmware\system\usb\usb9\usb9.c
000f1a   93f2     BCF       0xf2,0x1,0x1                                                                                    
000f1c   0100     MOVLB     0x0                        LSB(wCount) = 1;                            // Set data count        C:\datalogger\firmware\system\usb\usb9\usb9.c
000f1e   0e01     MOVLW     0x1                                                                                             
000f20   6fef     MOVWF     0xef,0x1                                                                                        
000f22   d00e     BRA       0xf40                      break;                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   case SET_INTF:                                                           C:\datalogger\firmware\system\usb\usb9\usb9.c
000f24   0100     MOVLB     0x0                        ctrl_trf_session_owner = MUID_USB9;                                  C:\datalogger\firmware\system\usb\usb9\usb9.c
000f26   0e01     MOVLW     0x1                                                                                             
000f28   6fea     MOVWF     0xea,0x1                                                                                        
000f2a   0104     MOVLB     0x4                        usb_alt_intf[SetupPkt.bIntfID] = SetupPkt.bAltID;                    C:\datalogger\firmware\system\usb\usb9\usb9.c
000f2c   511c     MOVF      0x1c,0x0,0x1                                                                                    
000f2e   6aea     CLRF      0xea,0x0                                                                                        
000f30   0ff4     ADDLW     0xf4                                                                                            
000f32   6ee9     MOVWF     0xe9,0x0                                                                                        
000f34   0e00     MOVLW     0x0                                                                                             
000f36   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000f38   c41a     MOVFF     0x41a,0xfef                                                                                     
000f3a   ffef                                                                                                               
000f3c   d001     BRA       0xf40                      break;                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   case SET_DSC:                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   case SYNCH_FRAME:                                                        C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   default:                                                                 C:\datalogger\firmware\system\usb\usb9\usb9.c
000f3e   d000     BRA       0xf40                      break;                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                               }//end switch                                                                C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
000f40   0012     RETURN    0x0            }//end USBCheckStdRequest                                                        C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Function:        void USBStdGetDscHandler(void)                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Overview:        This routine handles the standard GET_DESCRIPTOR request.    C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                  It utilizes tables dynamically looks up descriptor size.     C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                  This routine should never have to be modified if the tables  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                  in usbdsc.c are declared correctly.                          C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Note:            None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           void USBStdGetDscHandler(void)                                                   C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usb9\usb9.c
000f42   0e80     MOVLW     0x80               if(SetupPkt.bmRequestType == 0x80)                                           C:\datalogger\firmware\system\usb\usb9\usb9.c
000f44   0104     MOVLB     0x4                                                                                             
000f46   5d18     SUBWF     0x18,0x0,0x1                                                                                    
000f48   e157     BNZ       0xff8                                                                                           
                                               {                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
000f4a   511b     MOVF      0x1b,0x0,0x1           switch(SetupPkt.bDscType)                                                C:\datalogger\firmware\system\usb\usb9\usb9.c
000f4c   0a03     XORLW     0x3                                                                                             
000f4e   e034     BZ        0xfb8                                                                                           
000f50   0a01     XORLW     0x1                                                                                             
000f52   e010     BZ        0xf74                                                                                           
000f54   0a03     XORLW     0x3                                                                                             
000f56   e001     BZ        0xf5a                                                                                           
000f58   d04d     BRA       0xff4                                                                                           
                                                   {                                                                        C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                       case DSC_DEV:                                                        C:\datalogger\firmware\system\usb\usb9\usb9.c
000f5a   0100     MOVLB     0x0                            ctrl_trf_session_owner = MUID_USB9;                              C:\datalogger\firmware\system\usb\usb9\usb9.c
000f5c   0e01     MOVLW     0x1                                                                                             
000f5e   6fea     MOVWF     0xea,0x1                                                                                        
000f60   0100     MOVLB     0x0                            pSrc.bRom = (rom byte*)&device_dsc;                              C:\datalogger\firmware\system\usb\usb9\usb9.c
000f62   0ec6     MOVLW     0xc6                                                                                            
000f64   6feb     MOVWF     0xeb,0x1                                                                                        
000f66   0e16     MOVLW     0x16                                                                                            
000f68   6fec     MOVWF     0xec,0x1                                                                                        
000f6a   0e12     MOVLW     0x12                           wCount._word = sizeof(device_dsc);          // Set data count    C:\datalogger\firmware\system\usb\usb9\usb9.c
000f6c   0100     MOVLB     0x0                                                                                             
000f6e   6fef     MOVWF     0xef,0x1                                                                                        
000f70   6bf0     CLRF      0xf0,0x1                                                                                        
000f72   d040     BRA       0xff4                          break;                                                           C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                       case DSC_CFG:                                                        C:\datalogger\firmware\system\usb\usb9\usb9.c
000f74   0100     MOVLB     0x0                            ctrl_trf_session_owner = MUID_USB9;                              C:\datalogger\firmware\system\usb\usb9\usb9.c
000f76   0e01     MOVLW     0x1                                                                                             
000f78   6fea     MOVWF     0xea,0x1                                                                                        
000f7a   0104     MOVLB     0x4                            pSrc.bRom = *(USB_CD_Ptr+SetupPkt.bDscIndex);                    C:\datalogger\firmware\system\usb\usb9\usb9.c
000f7c   511a     MOVF      0x1a,0x0,0x1                                                                                    
000f7e   6ef6     MOVWF     0xf6,0x0                                                                                        
000f80   6af7     CLRF      0xf7,0x0                                                                                        
000f82   90d8     BCF       0xd8,0x0,0x0                                                                                    
000f84   36f6     RLCF      0xf6,0x1,0x0                                                                                    
000f86   36f7     RLCF      0xf7,0x1,0x0                                                                                    
000f88   0e74     MOVLW     0x74                                                                                            
000f8a   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
000f8c   0e17     MOVLW     0x17                                                                                            
000f8e   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
000f90   0009     TBLRDPOSTINC                                                                                              
000f92   cff5     MOVFF     0xff5,0xeb                                                                                      
000f94   f0eb                                                                                                               
000f96   000a     TBLRDPOSTDEC                                                                                              
000f98   cff5     MOVFF     0xff5,0xec                                                                                      
000f9a   f0ec                                                                                                               
000f9c   0e02     MOVLW     0x2                            wCount._word = *(pSrc.wRom+1);              // Set data count    C:\datalogger\firmware\system\usb\usb9\usb9.c
000f9e   0100     MOVLB     0x0                                                                                             
000fa0   6af7     CLRF      0xf7,0x0                                                                                        
000fa2   25eb     ADDWF     0xeb,0x0,0x1                                                                                    
000fa4   6ef6     MOVWF     0xf6,0x0                                                                                        
000fa6   51ec     MOVF      0xec,0x0,0x1                                                                                    
000fa8   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
000faa   0009     TBLRDPOSTINC                                                                                              
000fac   cff5     MOVFF     0xff5,0xef                                                                                      
000fae   f0ef                                                                                                               
000fb0   000a     TBLRDPOSTDEC                                                                                              
000fb2   cff5     MOVFF     0xff5,0xf0                                                                                      
000fb4   f0f0                                                                                                               
000fb6   d01e     BRA       0xff4                          break;                                                           C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                       case DSC_STR:                                                        C:\datalogger\firmware\system\usb\usb9\usb9.c
000fb8   0100     MOVLB     0x0                            ctrl_trf_session_owner = MUID_USB9;                              C:\datalogger\firmware\system\usb\usb9\usb9.c
000fba   0e01     MOVLW     0x1                                                                                             
000fbc   6fea     MOVWF     0xea,0x1                                                                                        
000fbe   0104     MOVLB     0x4                            pSrc.bRom = *(USB_SD_Ptr+SetupPkt.bDscIndex);                    C:\datalogger\firmware\system\usb\usb9\usb9.c
000fc0   511a     MOVF      0x1a,0x0,0x1                                                                                    
000fc2   6ef6     MOVWF     0xf6,0x0                                                                                        
000fc4   6af7     CLRF      0xf7,0x0                                                                                        
000fc6   90d8     BCF       0xd8,0x0,0x0                                                                                    
000fc8   36f6     RLCF      0xf6,0x1,0x0                                                                                    
000fca   36f7     RLCF      0xf7,0x1,0x0                                                                                    
000fcc   0e78     MOVLW     0x78                                                                                            
000fce   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
000fd0   0e17     MOVLW     0x17                                                                                            
000fd2   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
000fd4   0009     TBLRDPOSTINC                                                                                              
000fd6   cff5     MOVFF     0xff5,0xeb                                                                                      
000fd8   f0eb                                                                                                               
000fda   000a     TBLRDPOSTDEC                                                                                              
000fdc   cff5     MOVFF     0xff5,0xec                                                                                      
000fde   f0ec                                                                                                               
000fe0   c0eb     MOVFF     0xeb,0xff6                     wCount._word = *pSrc.bRom;                  // Set data count    C:\datalogger\firmware\system\usb\usb9\usb9.c
000fe2   fff6                                                                                                               
000fe4   c0ec     MOVFF     0xec,0xff7                                                                                      
000fe6   fff7                                                                                                               
000fe8   0008     TBLRD                                                                                                     
000fea   50f5     MOVF      0xf5,0x0,0x0                                                                                    
000fec   0100     MOVLB     0x0                                                                                             
000fee   6fef     MOVWF     0xef,0x1                                                                                        
000ff0   6bf0     CLRF      0xf0,0x1                                                                                        
000ff2   d000     BRA       0xff4                          break;                                                           C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   }//end switch                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
000ff4   0100     MOVLB     0x0                    usb_stat.ctrl_trf_mem = _ROM;                       // Set memory type   C:\datalogger\firmware\system\usb\usb9\usb9.c
000ff6   83f2     BSF       0xf2,0x1,0x1                                                                                    
                                               }//end if                                                                    C:\datalogger\firmware\system\usb\usb9\usb9.c
000ff8   0012     RETURN    0x0            }//end USBStdGetDscHandler                                                       C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Function:        void USBStdSetCfgHandler(void)                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Overview:        This routine first disables all endpoints by clearing        C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                  UEP registers. It then configures (initializes) endpoints    C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                  specified in the modifiable section.                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Note:            None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           void USBStdSetCfgHandler(void)                                                   C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usb9\usb9.c
000ffa   0100     MOVLB     0x0                ctrl_trf_session_owner = MUID_USB9;                                          C:\datalogger\firmware\system\usb\usb9\usb9.c
000ffc   0e01     MOVLW     0x1                                                                                             
000ffe   6fea     MOVWF     0xea,0x1                                                                                        
001000   0e0f     MOVLW     0xf                mDisableEP1to15();                          // See usbdrv.h                  C:\datalogger\firmware\system\usb\usb9\usb9.c
001002   6ee6     MOVWF     0xe6,0x0                                                                                        
001004   0e71     MOVLW     0x71                                                                                            
001006   6ee6     MOVWF     0xe6,0x0                                                                                        
001008   0e0f     MOVLW     0xf                                                                                             
00100a   6ee6     MOVWF     0xe6,0x0                                                                                        
00100c   ecbf     CALL      0x157e,0x0                                                                                      
00100e   f00a                                                                                                               
001010   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001012   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001014   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001016   0e01     MOVLW     0x1                ClearArray((byte*)&usb_alt_intf,MAX_NUM_INT);                                C:\datalogger\firmware\system\usb\usb9\usb9.c
001018   6ee6     MOVWF     0xe6,0x0                                                                                        
00101a   0ef4     MOVLW     0xf4                                                                                            
00101c   6ee6     MOVWF     0xe6,0x0                                                                                        
00101e   0e00     MOVLW     0x0                                                                                             
001020   6ee6     MOVWF     0xe6,0x0                                                                                        
001022   ecbf     CALL      0x157e,0x0                                                                                      
001024   f00a                                                                                                               
001026   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001028   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00102a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00102c   c41a     MOVFF     0x41a,0xf3         usb_active_cfg = SetupPkt.bCfgValue;                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
00102e   f0f3                                                                                                               
001030   0104     MOVLB     0x4                if(SetupPkt.bCfgValue == 0)                                                  C:\datalogger\firmware\system\usb\usb9\usb9.c
001032   511a     MOVF      0x1a,0x0,0x1                                                                                    
001034   e104     BNZ       0x103e                                                                                          
001036   0100     MOVLB     0x0                    usb_device_state = ADDRESS_STATE;                                        C:\datalogger\firmware\system\usb\usb9\usb9.c
001038   0e05     MOVLW     0x5                                                                                             
00103a   6ff1     MOVWF     0xf1,0x1                                                                                        
00103c   d005     BRA       0x1048             else                                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                               {                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
00103e   0100     MOVLB     0x0                    usb_device_state = CONFIGURED_STATE;                                     C:\datalogger\firmware\system\usb\usb9\usb9.c
001040   0e06     MOVLW     0x6                                                                                             
001042   6ff1     MOVWF     0xf1,0x1                                                                                        
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   /* Modifiable Section */                                                 C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   #if defined(USB_USE_GEN)                // See autofiles\usbcfg.h        C:\datalogger\firmware\system\usb\usb9\usb9.c
001044   ecd4     CALL      0x15a8,0x0             USBGenInitEP();                                                          C:\datalogger\firmware\system\usb\usb9\usb9.c
001046   f00a                                                                                                               
                                                   #endif                                                                   C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   /* End modifiable section */                                             C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
                                               }//end if(SetupPkt.bcfgValue == 0)                                           C:\datalogger\firmware\system\usb\usb9\usb9.c
001048   0012     RETURN    0x0            }//end USBStdSetCfgHandler                                                       C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Function:        void USBStdGetStatusHandler(void)                            C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Overview:        This routine handles the standard GET_STATUS request         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Note:            None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           void USBStdGetStatusHandler(void)                                                C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usb9\usb9.c
00104a   0104     MOVLB     0x4                CtrlTrfData._byte0 = 0;                         // Initialize content        C:\datalogger\firmware\system\usb\usb9\usb9.c
00104c   6b20     CLRF      0x20,0x1                                                                                        
00104e   6b21     CLRF      0x21,0x1           CtrlTrfData._byte1 = 0;                                                      C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
001050   0104     MOVLB     0x4                switch(SetupPkt.Recipient)                                                   C:\datalogger\firmware\system\usb\usb9\usb9.c
001052   5118     MOVF      0x18,0x0,0x1                                                                                    
001054   0b1f     ANDLW     0x1f                                                                                            
001056   0a02     XORLW     0x2                                                                                             
001058   e014     BZ        0x1082                                                                                          
00105a   0a03     XORLW     0x3                                                                                             
00105c   e00e     BZ        0x107a                                                                                          
00105e   0a01     XORLW     0x1                                                                                             
001060   e001     BZ        0x1064                                                                                          
001062   d033     BRA       0x10ca                                                                                          
                                               {                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   case RCPT_DEV:                                                           C:\datalogger\firmware\system\usb\usb9\usb9.c
001064   0100     MOVLB     0x0                        ctrl_trf_session_owner = MUID_USB9;                                  C:\datalogger\firmware\system\usb\usb9\usb9.c
001066   0e01     MOVLW     0x1                                                                                             
001068   6fea     MOVWF     0xea,0x1                                                                                        
                                                       /*                                                                   C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                        * _byte0: bit0: Self-Powered Status [0] Bus-Powered [1] Self-Powered C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                        *         bit1: RemoteWakeup        [0] Disabled    [1] Enabled     C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                        */                                                                  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                       if(self_power == 1)                     // self_power defined in io_cfg.h C:\datalogger\firmware\system\usb\usb9\usb9.c
00106a   0104     MOVLB     0x4                            CtrlTrfData._byte0|=0b000000001;    // Set bit0                  C:\datalogger\firmware\system\usb\usb9\usb9.c
00106c   8120     BSF       0x20,0x0,0x1                                                                                    
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
00106e   0100     MOVLB     0x0                        if(usb_stat.RemoteWakeup == 1)          // usb_stat defined in usbmmap.c C:\datalogger\firmware\system\usb\usb9\usb9.c
001070   a1f2     BTFSS     0xf2,0x0,0x1                                                                                    
001072   d002     BRA       0x1078                                                                                          
001074   0104     MOVLB     0x4                            CtrlTrfData._byte0|=0b00000010;     // Set bit1                  C:\datalogger\firmware\system\usb\usb9\usb9.c
001076   8320     BSF       0x20,0x1,0x1                                                                                    
001078   d028     BRA       0x10ca                     break;                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   case RCPT_INTF:                                                          C:\datalogger\firmware\system\usb\usb9\usb9.c
00107a   0100     MOVLB     0x0                        ctrl_trf_session_owner = MUID_USB9;     // No data to update         C:\datalogger\firmware\system\usb\usb9\usb9.c
00107c   0e01     MOVLW     0x1                                                                                             
00107e   6fea     MOVWF     0xea,0x1                                                                                        
001080   d024     BRA       0x10ca                     break;                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   case RCPT_EP:                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
001082   0100     MOVLB     0x0                        ctrl_trf_session_owner = MUID_USB9;                                  C:\datalogger\firmware\system\usb\usb9\usb9.c
001084   0e01     MOVLW     0x1                                                                                             
001086   6fea     MOVWF     0xea,0x1                                                                                        
                                                       /*                                                                   C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                        * _byte0: bit0: Halt Status [0] Not Halted [1] Halted               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                        */                                                                  C:\datalogger\firmware\system\usb\usb9\usb9.c
001088   0104     MOVLB     0x4                        pDst.bRam = (byte*)&ep0Bo+(SetupPkt.EPNum*8)+(SetupPkt.EPDir*4);     C:\datalogger\firmware\system\usb\usb9\usb9.c
00108a   511c     MOVF      0x1c,0x0,0x1                                                                                    
00108c   0b0f     ANDLW     0xf                                                                                             
00108e   0d08     MULLW     0x8                                                                                             
001090   50f3     MOVF      0xf3,0x0,0x0                                                                                    
001092   6a15     CLRF      0x15,0x0                                                                                        
001094   0f00     ADDLW     0x0                                                                                             
001096   6e14     MOVWF     0x14,0x0                                                                                        
001098   0e04     MOVLW     0x4                                                                                             
00109a   2215     ADDWFC    0x15,0x1,0x0                                                                                    
00109c   511c     MOVF      0x1c,0x0,0x1                                                                                    
00109e   0b80     ANDLW     0x80                                                                                            
0010a0   e001     BZ        0x10a4                                                                                          
0010a2   0e01     MOVLW     0x1                                                                                             
0010a4   0d04     MULLW     0x4                                                                                             
0010a6   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0010a8   0100     MOVLB     0x0                                                                                             
0010aa   2414     ADDWF     0x14,0x0,0x0                                                                                    
0010ac   6fed     MOVWF     0xed,0x1                                                                                        
0010ae   0e00     MOVLW     0x0                                                                                             
0010b0   2015     ADDWFC    0x15,0x0,0x0                                                                                    
0010b2   6fee     MOVWF     0xee,0x1                                                                                        
0010b4   c0ed     MOVFF     0xed,0xfe9                 if(*pDst.bRam & _BSTALL)    // Use _BSTALL as a bit mask             C:\datalogger\firmware\system\usb\usb9\usb9.c
0010b6   ffe9                                                                                                               
0010b8   c0ee     MOVFF     0xee,0xfea                                                                                      
0010ba   ffea                                                                                                               
0010bc   50ef     MOVF      0xef,0x0,0x0                                                                                    
0010be   0b04     ANDLW     0x4                                                                                             
0010c0   e003     BZ        0x10c8                                                                                          
0010c2   0104     MOVLB     0x4                            CtrlTrfData._byte0=0x01;// Set bit0                              C:\datalogger\firmware\system\usb\usb9\usb9.c
0010c4   0e01     MOVLW     0x1                                                                                             
0010c6   6f20     MOVWF     0x20,0x1                                                                                        
0010c8   d000     BRA       0x10ca                     break;                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                               }//end switch                                                                C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
0010ca   0100     MOVLB     0x0                if(ctrl_trf_session_owner == MUID_USB9)                                      C:\datalogger\firmware\system\usb\usb9\usb9.c
0010cc   05ea     DECF      0xea,0x0,0x1                                                                                    
0010ce   e10a     BNZ       0x10e4                                                                                          
                                               {                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
0010d0   0100     MOVLB     0x0                    pSrc.bRam = (byte*)&CtrlTrfData;            // Set Source                C:\datalogger\firmware\system\usb\usb9\usb9.c
0010d2   0e20     MOVLW     0x20                                                                                            
0010d4   6feb     MOVWF     0xeb,0x1                                                                                        
0010d6   0e04     MOVLW     0x4                                                                                             
0010d8   6fec     MOVWF     0xec,0x1                                                                                        
0010da   0100     MOVLB     0x0                    usb_stat.ctrl_trf_mem = _RAM;               // Set memory type           C:\datalogger\firmware\system\usb\usb9\usb9.c
0010dc   93f2     BCF       0xf2,0x1,0x1                                                                                    
0010de   0100     MOVLB     0x0                    LSB(wCount) = 2;                            // Set data count            C:\datalogger\firmware\system\usb\usb9\usb9.c
0010e0   0e02     MOVLW     0x2                                                                                             
0010e2   6fef     MOVWF     0xef,0x1                                                                                        
                                               }//end if(...)                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
0010e4   0012     RETURN    0x0            }//end USBStdGetStatusHandler                                                    C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Function:        void USBStdFeatureReqHandler(void)                           C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Overview:        This routine handles the standard SET & CLEAR FEATURES       C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                  requests                                                     C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            * Note:            None                                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           void USBStdFeatureReqHandler(void)                                               C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usb9\usb9.c
0010e6   0104     MOVLB     0x4                if((SetupPkt.bFeature == DEVICE_REMOTE_WAKEUP)&&                             C:\datalogger\firmware\system\usb\usb9\usb9.c
0010e8   051a     DECF      0x1a,0x0,0x1                                                                                    
0010ea   e110     BNZ       0x110c                (SetupPkt.Recipient == RCPT_DEV))                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
0010ec   5118     MOVF      0x18,0x0,0x1                                                                                    
0010ee   0b1f     ANDLW     0x1f                                                                                            
0010f0   0900     IORLW     0x0                                                                                             
0010f2   e10c     BNZ       0x110c                                                                                          
                                               {                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
0010f4   0100     MOVLB     0x0                    ctrl_trf_session_owner = MUID_USB9;                                      C:\datalogger\firmware\system\usb\usb9\usb9.c
0010f6   0e01     MOVLW     0x1                                                                                             
0010f8   6fea     MOVWF     0xea,0x1                                                                                        
0010fa   0e03     MOVLW     0x3                    if(SetupPkt.bRequest == SET_FEATURE)                                     C:\datalogger\firmware\system\usb\usb9\usb9.c
0010fc   0104     MOVLB     0x4                                                                                             
0010fe   5d19     SUBWF     0x19,0x0,0x1                                                                                    
001100   e103     BNZ       0x1108                                                                                          
001102   0100     MOVLB     0x0                        usb_stat.RemoteWakeup = 1;                                           C:\datalogger\firmware\system\usb\usb9\usb9.c
001104   81f2     BSF       0xf2,0x0,0x1                                                                                    
001106   d002     BRA       0x110c                 else                                                                     C:\datalogger\firmware\system\usb\usb9\usb9.c
001108   0100     MOVLB     0x0                        usb_stat.RemoteWakeup = 0;                                           C:\datalogger\firmware\system\usb\usb9\usb9.c
00110a   91f2     BCF       0xf2,0x0,0x1                                                                                    
                                               }//end if                                                                    C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
00110c   0104     MOVLB     0x4                if((SetupPkt.bFeature == ENDPOINT_HALT)&&                                    C:\datalogger\firmware\system\usb\usb9\usb9.c
00110e   511a     MOVF      0x1a,0x0,0x1                                                                                    
001110   e13a     BNZ       0x1186                (SetupPkt.Recipient == RCPT_EP)&&                                         C:\datalogger\firmware\system\usb\usb9\usb9.c
001112   5118     MOVF      0x18,0x0,0x1                                                                                    
001114   0b1f     ANDLW     0x1f                                                                                            
001116   0802     SUBLW     0x2                                                                                             
001118   e136     BNZ       0x1186                                                                                          
00111a   511c     MOVF      0x1c,0x0,0x1          (SetupPkt.EPNum != 0))                                                    C:\datalogger\firmware\system\usb\usb9\usb9.c
00111c   0b0f     ANDLW     0xf                                                                                             
00111e   0900     IORLW     0x0                                                                                             
001120   e032     BZ        0x1186                                                                                          
                                               {                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
001122   0100     MOVLB     0x0                    ctrl_trf_session_owner = MUID_USB9;                                      C:\datalogger\firmware\system\usb\usb9\usb9.c
001124   0e01     MOVLW     0x1                                                                                             
001126   6fea     MOVWF     0xea,0x1                                                                                        
                                                   /* Must do address calculation here */                                   C:\datalogger\firmware\system\usb\usb9\usb9.c
001128   0104     MOVLB     0x4                    pDst.bRam = (byte*)&ep0Bo+(SetupPkt.EPNum*8)+(SetupPkt.EPDir*4);         C:\datalogger\firmware\system\usb\usb9\usb9.c
00112a   511c     MOVF      0x1c,0x0,0x1                                                                                    
00112c   0b0f     ANDLW     0xf                                                                                             
00112e   0d08     MULLW     0x8                                                                                             
001130   50f3     MOVF      0xf3,0x0,0x0                                                                                    
001132   6a15     CLRF      0x15,0x0                                                                                        
001134   0f00     ADDLW     0x0                                                                                             
001136   6e14     MOVWF     0x14,0x0                                                                                        
001138   0e04     MOVLW     0x4                                                                                             
00113a   2215     ADDWFC    0x15,0x1,0x0                                                                                    
00113c   511c     MOVF      0x1c,0x0,0x1                                                                                    
00113e   0b80     ANDLW     0x80                                                                                            
001140   e001     BZ        0x1144                                                                                          
001142   0e01     MOVLW     0x1                                                                                             
001144   0d04     MULLW     0x4                                                                                             
001146   50f3     MOVF      0xf3,0x0,0x0                                                                                    
001148   0100     MOVLB     0x0                                                                                             
00114a   2414     ADDWF     0x14,0x0,0x0                                                                                    
00114c   6fed     MOVWF     0xed,0x1                                                                                        
00114e   0e00     MOVLW     0x0                                                                                             
001150   2015     ADDWFC    0x15,0x0,0x0                                                                                    
001152   6fee     MOVWF     0xee,0x1                                                                                        
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
001154   0e03     MOVLW     0x3                    if(SetupPkt.bRequest == SET_FEATURE)                                     C:\datalogger\firmware\system\usb\usb9\usb9.c
001156   0104     MOVLB     0x4                                                                                             
001158   5d19     SUBWF     0x19,0x0,0x1                                                                                    
00115a   e107     BNZ       0x116a                                                                                          
00115c   0e84     MOVLW     0x84                       *pDst.bRam = _USIE|_BSTALL;                                          C:\datalogger\firmware\system\usb\usb9\usb9.c
00115e   c0ed     MOVFF     0xed,0xfe9                                                                                      
001160   ffe9                                                                                                               
001162   c0ee     MOVFF     0xee,0xfea                                                                                      
001164   ffea                                                                                                               
001166   6eef     MOVWF     0xef,0x0                                                                                        
001168   d00e     BRA       0x1186                 else                                                                     C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                   {                                                                        C:\datalogger\firmware\system\usb\usb9\usb9.c
00116a   af1c     BTFSS     0x1c,0x7,0x1               if(SetupPkt.EPDir == 1) // IN                                        C:\datalogger\firmware\system\usb\usb9\usb9.c
00116c   d006     BRA       0x117a                                                                                          
00116e   c0ed     MOVFF     0xed,0xfe9                     *pDst.bRam = _UCPU;                                              C:\datalogger\firmware\system\usb\usb9\usb9.c
001170   ffe9                                                                                                               
001172   c0ee     MOVFF     0xee,0xfea                                                                                      
001174   ffea                                                                                                               
001176   6aef     CLRF      0xef,0x0                                                                                        
001178   d006     BRA       0x1186                     else                                                                 C:\datalogger\firmware\system\usb\usb9\usb9.c
00117a   0e88     MOVLW     0x88                           *pDst.bRam = _USIE|_DAT0|_DTSEN;                                 C:\datalogger\firmware\system\usb\usb9\usb9.c
00117c   c0ed     MOVFF     0xed,0xfe9                                                                                      
00117e   ffe9                                                                                                               
001180   c0ee     MOVFF     0xee,0xfea                                                                                      
001182   ffea                                                                                                               
001184   6eef     MOVWF     0xef,0x0                                                                                        
                                                   }//end if                                                                C:\datalogger\firmware\system\usb\usb9\usb9.c
                                               }//end if                                                                    C:\datalogger\firmware\system\usb\usb9\usb9.c
001186   0012     RETURN    0x0            }//end USBStdFeatureReqHandler                                                   C:\datalogger\firmware\system\usb\usb9\usb9.c
                                                                                                                            C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           /** EOF usb9.c ***************************************************************/  C:\datalogger\firmware\system\usb\usb9\usb9.c
                                           /*********************************************************************           C:\datalogger\firmware\autofiles\usbdsc.c
                                            * -usbdsc.c-                                                                    C:\datalogger\firmware\autofiles\usbdsc.c
                                            * This file contains the USB descriptor information. It is used                 C:\datalogger\firmware\autofiles\usbdsc.c
                                            * in conjunction with the usbdsc.h file. When a descriptor is added             C:\datalogger\firmware\autofiles\usbdsc.c
                                            * or removed from the main configuration descriptor, i.e. CFG01,                C:\datalogger\firmware\autofiles\usbdsc.c
                                            * the user must also change the descriptor structure defined in                 C:\datalogger\firmware\autofiles\usbdsc.c
                                            * the usbdsc.h file. The structure is used to calculate the                     C:\datalogger\firmware\autofiles\usbdsc.c
                                            * descriptor size, i.e. sizeof(CFG01).                                          C:\datalogger\firmware\autofiles\usbdsc.c
                                            *                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * A typical configuration descriptor consists of:                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * At least one configuration descriptor (USB_CFG_DSC)                           C:\datalogger\firmware\autofiles\usbdsc.c
                                            * One or more interface descriptors (USB_INTF_DSC)                              C:\datalogger\firmware\autofiles\usbdsc.c
                                            * One or more endpoint descriptors (USB_EP_DSC)                                 C:\datalogger\firmware\autofiles\usbdsc.c
                                            *                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * Naming Convention:                                                            C:\datalogger\firmware\autofiles\usbdsc.c
                                            * To resolve ambiguity, the naming convention are as followed:                  C:\datalogger\firmware\autofiles\usbdsc.c
                                            * - USB_CFG_DSC type should be named cdxx, where xx is the                      C:\datalogger\firmware\autofiles\usbdsc.c
                                            *   configuration number. This number should match the actual                   C:\datalogger\firmware\autofiles\usbdsc.c
                                            *   index value of this configuration.                                          C:\datalogger\firmware\autofiles\usbdsc.c
                                            * - USB_INTF_DSC type should be named i<yy>a<zz>, where yy is the               C:\datalogger\firmware\autofiles\usbdsc.c
                                            *   interface number and zz is the alternate interface number.                  C:\datalogger\firmware\autofiles\usbdsc.c
                                            * - USB_EP_DSC type should be named ep<##><d>_i<yy>a<zz>, where                 C:\datalogger\firmware\autofiles\usbdsc.c
                                            *   ## is the endpoint number and d is the direction of transfer.               C:\datalogger\firmware\autofiles\usbdsc.c
                                            *   The interface name should also be listed as a suffix to identify            C:\datalogger\firmware\autofiles\usbdsc.c
                                            *   which interface does the endpoint belong to.                                C:\datalogger\firmware\autofiles\usbdsc.c
                                            *                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * Example:                                                                      C:\datalogger\firmware\autofiles\usbdsc.c
                                            * If a device has one configuration, two interfaces; interface 0                C:\datalogger\firmware\autofiles\usbdsc.c
                                            * has two endpoints (in and out), and interface 1 has one endpoint(in).         C:\datalogger\firmware\autofiles\usbdsc.c
                                            * Then the CFG01 structure in the usbdsc.h should be:                           C:\datalogger\firmware\autofiles\usbdsc.c
                                            *                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * #define CFG01 rom struct                            \                         C:\datalogger\firmware\autofiles\usbdsc.c
                                            * {   USB_CFG_DSC             cd01;                   \                         C:\datalogger\firmware\autofiles\usbdsc.c
                                            *     USB_INTF_DSC            i00a00;                 \                         C:\datalogger\firmware\autofiles\usbdsc.c
                                            *     USB_EP_DSC              ep01o_i00a00;           \                         C:\datalogger\firmware\autofiles\usbdsc.c
                                            *     USB_EP_DSC              ep01i_i00a00;           \                         C:\datalogger\firmware\autofiles\usbdsc.c
                                            *     USB_INTF_DSC            i01a00;                 \                         C:\datalogger\firmware\autofiles\usbdsc.c
                                            *     USB_EP_DSC              ep02i_i01a00;           \                         C:\datalogger\firmware\autofiles\usbdsc.c
                                            * } cfg01                                                                       C:\datalogger\firmware\autofiles\usbdsc.c
                                            *                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * Note the hierarchy of the descriptors above, it follows the USB               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * specification requirement. All endpoints belonging to an interface            C:\datalogger\firmware\autofiles\usbdsc.c
                                            * should be listed immediately after that interface.                            C:\datalogger\firmware\autofiles\usbdsc.c
                                            *                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * -------------------------------------------------------------------           C:\datalogger\firmware\autofiles\usbdsc.c
                                            * Filling in the descriptor values in the usbdsc.c file:                        C:\datalogger\firmware\autofiles\usbdsc.c
                                            * -------------------------------------------------------------------           C:\datalogger\firmware\autofiles\usbdsc.c
                                            * Most items should be self-explanatory, however, a few will be                 C:\datalogger\firmware\autofiles\usbdsc.c
                                            * explained for clarification.                                                  C:\datalogger\firmware\autofiles\usbdsc.c
                                            *                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * [Configuration Descriptor(USB_CFG_DSC)]                                       C:\datalogger\firmware\autofiles\usbdsc.c
                                            * The configuration attribute must always have the _DEFAULT                     C:\datalogger\firmware\autofiles\usbdsc.c
                                            * definition at the minimum. Additional options can be ORed                     C:\datalogger\firmware\autofiles\usbdsc.c
                                            * to the _DEFAULT attribute. Available options are _SELF and _RWU.              C:\datalogger\firmware\autofiles\usbdsc.c
                                            * These definitions are defined in the usbdefs_std_dsc.h file. The              C:\datalogger\firmware\autofiles\usbdsc.c
                                            * _SELF tells the USB host that this device is self-powered. The                C:\datalogger\firmware\autofiles\usbdsc.c
                                            * _RWU tells the USB host that this device supports Remote Wakeup.              C:\datalogger\firmware\autofiles\usbdsc.c
                                            *                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * [Endpoint Descriptor(USB_EP_DSC)]                                             C:\datalogger\firmware\autofiles\usbdsc.c
                                            * Assume the following example:                                                 C:\datalogger\firmware\autofiles\usbdsc.c
                                            * sizeof(USB_EP_DSC),DSC_EP,_EP01_OUT,_BULK,64,0x00                             C:\datalogger\firmware\autofiles\usbdsc.c
                                            *                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * The first two parameters are self-explanatory. They specify the               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * length of this endpoint descriptor (7) and the descriptor type.               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * The next parameter identifies the endpoint, the definitions are               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * defined in usbdefs_std_dsc.h and has the following naming                     C:\datalogger\firmware\autofiles\usbdsc.c
                                            * convention:                                                                   C:\datalogger\firmware\autofiles\usbdsc.c
                                            * _EP<##>_<dir>                                                                 C:\datalogger\firmware\autofiles\usbdsc.c
                                            * where ## is the endpoint number and dir is the direction of                   C:\datalogger\firmware\autofiles\usbdsc.c
                                            * transfer. The dir has the value of either 'OUT' or 'IN'.                      C:\datalogger\firmware\autofiles\usbdsc.c
                                            * The next parameter identifies the type of the endpoint. Available             C:\datalogger\firmware\autofiles\usbdsc.c
                                            * options are _BULK, _INT, _ISO, and _CTRL. The _CTRL is not                    C:\datalogger\firmware\autofiles\usbdsc.c
                                            * typically used because the default control transfer endpoint is               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * not defined in the USB descriptors. When _ISO option is used,                 C:\datalogger\firmware\autofiles\usbdsc.c
                                            * addition options can be ORed to _ISO. Example:                                C:\datalogger\firmware\autofiles\usbdsc.c
                                            * _ISO|_AD|_FE                                                                  C:\datalogger\firmware\autofiles\usbdsc.c
                                            * This describes the endpoint as an isochronous pipe with adaptive              C:\datalogger\firmware\autofiles\usbdsc.c
                                            * and feedback attributes. See usbdefs_std_dsc.h and the USB                    C:\datalogger\firmware\autofiles\usbdsc.c
                                            * specification for details. The next parameter defines the size of             C:\datalogger\firmware\autofiles\usbdsc.c
                                            * the endpoint. The last parameter in the polling interval.                     C:\datalogger\firmware\autofiles\usbdsc.c
                                            *                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * -------------------------------------------------------------------           C:\datalogger\firmware\autofiles\usbdsc.c
                                            * Adding a USB String                                                           C:\datalogger\firmware\autofiles\usbdsc.c
                                            * -------------------------------------------------------------------           C:\datalogger\firmware\autofiles\usbdsc.c
                                            * A string descriptor array should have the following format:                   C:\datalogger\firmware\autofiles\usbdsc.c
                                            *                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * rom struct{byte bLength;byte bDscType;word string[size];}sdxxx={              C:\datalogger\firmware\autofiles\usbdsc.c
                                            * sizeof(sdxxx),DSC_STR,<text>};                                                C:\datalogger\firmware\autofiles\usbdsc.c
                                            *                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * The above structure provides a means for the C compiler to                    C:\datalogger\firmware\autofiles\usbdsc.c
                                            * calculate the length of string descriptor sdxxx, where xxx is the             C:\datalogger\firmware\autofiles\usbdsc.c
                                            * index number. The first two bytes of the descriptor are descriptor            C:\datalogger\firmware\autofiles\usbdsc.c
                                            * length and type. The rest <text> are string texts which must be               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * in the unicode format. The unicode format is achieved by declaring            C:\datalogger\firmware\autofiles\usbdsc.c
                                            * each character as a word type. The whole text string is declared              C:\datalogger\firmware\autofiles\usbdsc.c
                                            * as a word array with the number of characters equals to <size>.               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * <size> has to be manually counted and entered into the array                  C:\datalogger\firmware\autofiles\usbdsc.c
                                            * declaration. Let's study this through an example:                             C:\datalogger\firmware\autofiles\usbdsc.c
                                            * if the string is "USB" , then the string descriptor should be:                C:\datalogger\firmware\autofiles\usbdsc.c
                                            * (Using index 02)                                                              C:\datalogger\firmware\autofiles\usbdsc.c
                                            * rom struct{byte bLength;byte bDscType;word string[3];}sd002={                 C:\datalogger\firmware\autofiles\usbdsc.c
                                            * sizeof(sd002),DSC_STR,'U','S','B'};                                           C:\datalogger\firmware\autofiles\usbdsc.c
                                            *                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * A USB project may have multiple strings and the firmware supports             C:\datalogger\firmware\autofiles\usbdsc.c
                                            * the management of multiple strings through a look-up table.                   C:\datalogger\firmware\autofiles\usbdsc.c
                                            * The look-up table is defined as:                                              C:\datalogger\firmware\autofiles\usbdsc.c
                                            * rom const unsigned char *rom USB_SD_Ptr[]={&sd000,&sd001,&sd002};             C:\datalogger\firmware\autofiles\usbdsc.c
                                            *                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * The above declaration has 3 strings, sd000, sd001, and sd002.                 C:\datalogger\firmware\autofiles\usbdsc.c
                                            * Strings can be removed or added. sd000 is a specialized string                C:\datalogger\firmware\autofiles\usbdsc.c
                                            * descriptor. It defines the language code, usually this is                     C:\datalogger\firmware\autofiles\usbdsc.c
                                            * US English (0x0409). The index of the string must match the index             C:\datalogger\firmware\autofiles\usbdsc.c
                                            * position of the USB_SD_Ptr array, &sd000 must be in position                  C:\datalogger\firmware\autofiles\usbdsc.c
                                            * USB_SD_Ptr[0], &sd001 must be in position USB_SD_Ptr[1] and so on.            C:\datalogger\firmware\autofiles\usbdsc.c
                                            * The look-up table USB_SD_Ptr is used by the get string handler                C:\datalogger\firmware\autofiles\usbdsc.c
                                            * function in usb9.c.                                                           C:\datalogger\firmware\autofiles\usbdsc.c
                                            *                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * -------------------------------------------------------------------           C:\datalogger\firmware\autofiles\usbdsc.c
                                            *                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * The look-up table scheme also applies to the configuration                    C:\datalogger\firmware\autofiles\usbdsc.c
                                            * descriptor. A USB device may have multiple configuration                      C:\datalogger\firmware\autofiles\usbdsc.c
                                            * descriptors, i.e. CFG01, CFG02, etc. To add a configuration                   C:\datalogger\firmware\autofiles\usbdsc.c
                                            * descriptor, user must implement a structure similar to CFG01.                 C:\datalogger\firmware\autofiles\usbdsc.c
                                            * The next step is to add the configuration descriptor name, i.e.               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * cfg01, cfg02,.., to the look-up table USB_CD_Ptr. USB_CD_Ptr[0]               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * is a dummy place holder since configuration 0 is the un-configured            C:\datalogger\firmware\autofiles\usbdsc.c
                                            * state according to the definition in the USB specification.                   C:\datalogger\firmware\autofiles\usbdsc.c
                                            *                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            ********************************************************************/           C:\datalogger\firmware\autofiles\usbdsc.c
                                                                                                                            C:\datalogger\firmware\autofiles\usbdsc.c
                                           /*********************************************************************           C:\datalogger\firmware\autofiles\usbdsc.c
                                            * Descriptor specific type definitions are defined in:                          C:\datalogger\firmware\autofiles\usbdsc.c
                                            * system\usb\usbdefs\usbdefs_std_dsc.h                                          C:\datalogger\firmware\autofiles\usbdsc.c
                                            *                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                            * Configuration information is defined in:                                      C:\datalogger\firmware\autofiles\usbdsc.c
                                            * autofiles\usbcfg.h                                                            C:\datalogger\firmware\autofiles\usbdsc.c
                                            ********************************************************************/           C:\datalogger\firmware\autofiles\usbdsc.c
                                                                                                                            C:\datalogger\firmware\autofiles\usbdsc.c
                                           /** I N C L U D E S *************************************************/           C:\datalogger\firmware\autofiles\usbdsc.c
                                           #include "system\typedefs.h"                                                     C:\datalogger\firmware\autofiles\usbdsc.c
                                           #include "system\usb\usb.h"                                                      C:\datalogger\firmware\autofiles\usbdsc.c
                                                                                                                            C:\datalogger\firmware\autofiles\usbdsc.c
                                           /** C O N S T A N T S ************************************************/          C:\datalogger\firmware\autofiles\usbdsc.c
                                           #pragma romdata                                                                  C:\datalogger\firmware\autofiles\usbdsc.c
                                                                                                                            C:\datalogger\firmware\autofiles\usbdsc.c
                                           /* Device Descriptor */                                                          C:\datalogger\firmware\autofiles\usbdsc.c
                                           rom USB_DEV_DSC device_dsc=                                                      C:\datalogger\firmware\autofiles\usbdsc.c
                                           {                                                                                C:\datalogger\firmware\autofiles\usbdsc.c
                                               sizeof(USB_DEV_DSC),    // Size of this descriptor in bytes                  C:\datalogger\firmware\autofiles\usbdsc.c
                                               DSC_DEV,                // DEVICE descriptor type                            C:\datalogger\firmware\autofiles\usbdsc.c
                                               0x0200,                 // USB Spec Release Number in BCD format             C:\datalogger\firmware\autofiles\usbdsc.c
                                               0x00,                   // Class Code                                        C:\datalogger\firmware\autofiles\usbdsc.c
                                               0x00,                   // Subclass code                                     C:\datalogger\firmware\autofiles\usbdsc.c
                                               0x00,                   // Protocol code                                     C:\datalogger\firmware\autofiles\usbdsc.c
                                               EP0_BUFF_SIZE,          // Max packet size for EP0, see usbcfg.h             C:\datalogger\firmware\autofiles\usbdsc.c
                                               0x04D8,                 // Vendor ID                                         C:\datalogger\firmware\autofiles\usbdsc.c
                                               0x000C,                 // Product ID: PICDEM FS USB (DEMO Mode)             C:\datalogger\firmware\autofiles\usbdsc.c
                                               0x0000,                 // Device release number in BCD format               C:\datalogger\firmware\autofiles\usbdsc.c
                                               0x01,                   // Manufacturer string index                         C:\datalogger\firmware\autofiles\usbdsc.c
                                               0x02,                   // Product string index                              C:\datalogger\firmware\autofiles\usbdsc.c
                                               0x00,                   // Device serial number string index                 C:\datalogger\firmware\autofiles\usbdsc.c
                                               0x01                    // Number of possible configurations                 C:\datalogger\firmware\autofiles\usbdsc.c
                                           };                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                                                                                                            C:\datalogger\firmware\autofiles\usbdsc.c
                                           /* Configuration 1 Descriptor */                                                 C:\datalogger\firmware\autofiles\usbdsc.c
                                           CFG01=                                                                           C:\datalogger\firmware\autofiles\usbdsc.c
                                           {                                                                                C:\datalogger\firmware\autofiles\usbdsc.c
                                               /* Configuration Descriptor */                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                               sizeof(USB_CFG_DSC),    // Size of this descriptor in bytes                  C:\datalogger\firmware\autofiles\usbdsc.c
                                               DSC_CFG,                // CONFIGURATION descriptor type                     C:\datalogger\firmware\autofiles\usbdsc.c
                                               sizeof(cfg01),          // Total length of data for this cfg                 C:\datalogger\firmware\autofiles\usbdsc.c
                                               1,                      // Number of interfaces in this cfg                  C:\datalogger\firmware\autofiles\usbdsc.c
                                               1,                      // Index value of this configuration                 C:\datalogger\firmware\autofiles\usbdsc.c
                                               0,                      // Configuration string index                        C:\datalogger\firmware\autofiles\usbdsc.c
                                               _DEFAULT,               // Attributes, see usbdefs_std_dsc.h                 C:\datalogger\firmware\autofiles\usbdsc.c
                                               50,                     // Max power consumption (2X mA)                     C:\datalogger\firmware\autofiles\usbdsc.c
                                                                                                                            C:\datalogger\firmware\autofiles\usbdsc.c
                                               /* Interface Descriptor */                                                   C:\datalogger\firmware\autofiles\usbdsc.c
                                               sizeof(USB_INTF_DSC),   // Size of this descriptor in bytes                  C:\datalogger\firmware\autofiles\usbdsc.c
                                               DSC_INTF,               // INTERFACE descriptor type                         C:\datalogger\firmware\autofiles\usbdsc.c
                                               0,                      // Interface Number                                  C:\datalogger\firmware\autofiles\usbdsc.c
                                               0,                      // Alternate Setting Number                          C:\datalogger\firmware\autofiles\usbdsc.c
                                               2,                      // Number of endpoints in this intf                  C:\datalogger\firmware\autofiles\usbdsc.c
                                               0x00,                   // Class code                                        C:\datalogger\firmware\autofiles\usbdsc.c
                                               0x00,                   // Subclass code                                     C:\datalogger\firmware\autofiles\usbdsc.c
                                               0x00,                   // Protocol code                                     C:\datalogger\firmware\autofiles\usbdsc.c
                                               0,                      // Interface string index                            C:\datalogger\firmware\autofiles\usbdsc.c
                                                                                                                            C:\datalogger\firmware\autofiles\usbdsc.c
                                               /* Endpoint Descriptors */                                                   C:\datalogger\firmware\autofiles\usbdsc.c
                                           	//Mod by Tim                                                                    C:\datalogger\firmware\autofiles\usbdsc.c
                                               //sizeof(USB_EP_DSC),DSC_EP,_EP01_OUT,_INT,USBGEN_EP_SIZE,32,                C:\datalogger\firmware\autofiles\usbdsc.c
                                               //sizeof(USB_EP_DSC),DSC_EP,_EP01_IN,_INT,USBGEN_EP_SIZE,32                  C:\datalogger\firmware\autofiles\usbdsc.c
                                           	                                                                                C:\datalogger\firmware\autofiles\usbdsc.c
                                               sizeof(USB_EP_DSC),DSC_EP,_EP01_OUT,_BULK,USBGEN_EP_SIZE,32,                 C:\datalogger\firmware\autofiles\usbdsc.c
                                               sizeof(USB_EP_DSC),DSC_EP,_EP01_IN,_BULK,USBGEN_EP_SIZE,32                   C:\datalogger\firmware\autofiles\usbdsc.c
                                           	//end mod by Tim                                                                C:\datalogger\firmware\autofiles\usbdsc.c
                                           };                                                                               C:\datalogger\firmware\autofiles\usbdsc.c
                                                                                                                            C:\datalogger\firmware\autofiles\usbdsc.c
                                           rom struct{byte bLength;byte bDscType;word string[1];}sd000={                    C:\datalogger\firmware\autofiles\usbdsc.c
                                           sizeof(sd000),DSC_STR,0x0409};                                                   C:\datalogger\firmware\autofiles\usbdsc.c
                                                                                                                            C:\datalogger\firmware\autofiles\usbdsc.c
                                           rom struct{byte bLength;byte bDscType;word string[25];}sd001={                   C:\datalogger\firmware\autofiles\usbdsc.c
                                           sizeof(sd001),DSC_STR,                                                           C:\datalogger\firmware\autofiles\usbdsc.c
                                           'M','i','c','r','o','c','h','i','p',' ',                                         C:\datalogger\firmware\autofiles\usbdsc.c
                                           'T','e','c','h','n','o','l','o','g','y',' ','I','n','c','.'};                    C:\datalogger\firmware\autofiles\usbdsc.c
                                                                                                                            C:\datalogger\firmware\autofiles\usbdsc.c
                                           rom struct{byte bLength;byte bDscType;word string[33];}sd002={                   C:\datalogger\firmware\autofiles\usbdsc.c
                                           sizeof(sd002),DSC_STR,                                                           C:\datalogger\firmware\autofiles\usbdsc.c
                                           'P','I','C','D','E','M',' ','F','S',' ','U','S','B',' ',                         C:\datalogger\firmware\autofiles\usbdsc.c
                                           'D','e','m','o',' ','B','o','a','r','d',' ','(','C',')',                         C:\datalogger\firmware\autofiles\usbdsc.c
                                           ' ','2','0','0','4'};                                                            C:\datalogger\firmware\autofiles\usbdsc.c
                                                                                                                            C:\datalogger\firmware\autofiles\usbdsc.c
                                           rom const unsigned char *rom USB_CD_Ptr[]={&cfg01,&cfg01};                       C:\datalogger\firmware\autofiles\usbdsc.c
                                           rom const unsigned char *rom USB_SD_Ptr[]={&sd000,&sd001,&sd002};                C:\datalogger\firmware\autofiles\usbdsc.c
                                                                                                                            C:\datalogger\firmware\autofiles\usbdsc.c
                                                                                                                            C:\datalogger\firmware\autofiles\usbdsc.c
                                           #pragma code                                                                     C:\datalogger\firmware\autofiles\usbdsc.c
                                                                                                                            C:\datalogger\firmware\autofiles\usbdsc.c
                                           /** EOF usbdsc.c ****************************************************/           C:\datalogger\firmware\autofiles\usbdsc.c
                                           /*********************************************************************           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                Microchip USB C18 Firmware Version 1.0                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *********************************************************************           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * FileName:        usbctrltrf.c                                                 C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Dependencies:    See INCLUDES section below                                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Processor:       PIC18                                                        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Compiler:        C18 2.30.01+                                                 C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Company:         Microchip Technology, Inc.                                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Software License Agreement                                                    C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * The software supplied herewith by Microchip Technology Incorporated           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * (the Company) for its PICmicro Microcontroller is intended and             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * supplied to you, the Companys customer, for use solely and                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * exclusively on Microchip PICmicro Microcontroller products. The               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * software is owned by the Company and/or its supplier, and is                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * protected under applicable copyright laws. All rights are reserved.           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Any use in violation of the foregoing restrictions may subject the            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * user to criminal sanctions under applicable laws, as well as to               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * civil liability for the breach of the terms and conditions of this            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * license.                                                                      C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * THIS SOFTWARE IS PROVIDED IN AN AS IS CONDITION. NO WARRANTIES,             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                    C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Author               Date        Comment                                      C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Rawin Rojvanit       11/19/04    Original.                                    C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            ********************************************************************/           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           /** I N C L U D E S **********************************************************/  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           #include <p18cxxx.h>                                                             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           #include "system\typedefs.h"                                                     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           #include "system\usb\usb.h"                                                      C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           /** V A R I A B L E S ********************************************************/  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           #pragma udata                                                                    C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           byte ctrl_trf_state;                // Control Transfer State                    C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           byte ctrl_trf_session_owner;        // Current transfer session owner            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           POINTER pSrc;                       // Data source pointer                       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           POINTER pDst;                       // Data destination pointer                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           WORD wCount;                        // Data counter                              C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlTrfSetupHandler(void);                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlTrfOutHandler(void);                                                 C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlTrfInHandler(void);                                                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           /** D E C L A R A T I O N S **************************************************/  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           #pragma code                                                                     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlEPService(void)                                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    USTAT is loaded with a valid endpoint address.               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        USBCtrlEPService checks for three transaction types that     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  it knows how to service and services them:                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  1. EP0 SETUP                                                 C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  2. EP0 OUT                                                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  3. EP0 IN                                                    C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  It ignores all other types (i.e. EP1, EP2, etc.)             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlEPService(void)                                                      C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001188   506c     MOVF      0x6c,0x0,0x0       if(USTAT == EP00_OUT)                                                        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00118a   e002     BZ        0x1190                                                                                          
00118c   0e00     MOVLW     0x0                                                                                             
00118e   d001     BRA       0x1192                                                                                          
001190   0e01     MOVLW     0x1                                                                                             
001192   0900     IORLW     0x0                                                                                             
001194   e00b     BZ        0x11ac                                                                                          
                                               {                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001196   0104     MOVLB     0x4                    if(ep0Bo.Stat.PID == SETUP_TOKEN)           // EP0 SETUP                 C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001198   5100     MOVF      0x0,0x0,0x1                                                                                     
00119a   0b3c     ANDLW     0x3c                                                                                            
00119c   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00119e   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0011a0   080d     SUBLW     0xd                                                                                             
0011a2   e102     BNZ       0x11a8                                                                                          
0011a4   d80c     RCALL     0x11be                     USBCtrlTrfSetupHandler();                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011a6   d001     BRA       0x11aa                 else                                        // EP0 OUT                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011a8   d81c     RCALL     0x11e2                     USBCtrlTrfOutHandler();                                              C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               }                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011aa   d008     BRA       0x11bc             else if(USTAT == EP00_IN)                       // EP0 IN                    C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011ac   506c     MOVF      0x6c,0x0,0x0                                                                                    
0011ae   e002     BZ        0x11b4                                                                                          
0011b0   0e00     MOVLW     0x0                                                                                             
0011b2   d001     BRA       0x11b6                                                                                          
0011b4   0e01     MOVLW     0x1                                                                                             
0011b6   0904     IORLW     0x4                                                                                             
0011b8   e001     BZ        0x11bc                                                                                          
0011ba   d823     RCALL     0x1202                 USBCtrlTrfInHandler();                                                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011bc   0012     RETURN    0x0            }//end USBCtrlEPService                                                          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlTrfSetupHandler(void)                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    SetupPkt buffer is loaded with valid USB Setup Data          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        This routine is a task dispatcher and has 3 stages.          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  1. It initializes the control transfer state machine.        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  2. It calls on each of the module that may know how to       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     service the Setup Request from the host.                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     Module Example: USB9, HID, CDC, MSD, ...                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     As new classes are added, ClassReqHandler table in        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     usbdsc.c should be updated to call all available          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     class handlers.                                           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  3. Once each of the modules has had a chance to check if     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     it is responsible for servicing the request, stage 3      C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     then checks direction of the transfer to determine how    C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     to prepare EP0 for the control transfer.                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     Refer to USBCtrlEPServiceComplete() for more details.     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            Microchip USB Firmware has three different states for        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  the control transfer state machine:                          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  1. WAIT_SETUP                                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  2. CTRL_TRF_TX                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  3. CTRL_TRF_RX                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  Refer to firmware manual to find out how one state           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  is transitioned to another.                                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  A Control Transfer is composed of many USB transactions.     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  When transferring data over multiple transactions,           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  it is important to keep track of data source, data           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  destination, and data count. These three parameters are      C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  stored in pSrc,pDst, and wCount. A flag is used to           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  note if the data source is from ROM or RAM.                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011be   cfd9     MOVFF     0xfd9,0xfe6    void USBCtrlTrfSetupHandler(void)                                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011c0   ffe6                                                                                                               
0011c2   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0011c4   ffd9                                                                                                               
0011c6   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               byte i;                                                                      C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               /* Stage 1 */                                                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011c8   0100     MOVLB     0x0                ctrl_trf_state = WAIT_SETUP;                                                 C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011ca   6be9     CLRF      0xe9,0x1                                                                                        
0011cc   6bea     CLRF      0xea,0x1           ctrl_trf_session_owner = MUID_NULL;     // Set owner to NULL                 C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011ce   6bef     CLRF      0xef,0x1           wCount._word = 0;                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011d0   6bf0     CLRF      0xf0,0x1                                                                                        
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               /* Stage 2 */                                                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011d2   ec40     CALL      0xe80,0x0          USBCheckStdRequest();                   // See system\usb9\usb9.c            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011d4   f007                                                                                                               
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               /* Modifiable Section */                                                     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               // Insert other USB Device Class Request Handlers here                       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               /* End Modifiable Section */                                                 C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               /* Stage 3 */                                                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011d6   d8dd     RCALL     0x1392             USBCtrlEPServiceComplete();                                                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011d8   52e5     MOVF      0xe5,0x1,0x0   }//end USBCtrlTrfSetupHandler                                                    C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011da   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0011dc   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0011de   ffd9                                                                                                               
0011e0   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlTrfOutHandler(void)                              C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        This routine handles an OUT transaction according to         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  which control transfer state is currently active.            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            Note that if the the control transfer was from               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  host to device, the session owner should be notified         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  at the end of each OUT transaction to service the            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  received data.                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlTrfOutHandler(void)                                                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011e2   0e02     MOVLW     0x2                if(ctrl_trf_state == CTRL_TRF_RX)                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011e4   0100     MOVLB     0x0                                                                                             
0011e6   5de9     SUBWF     0xe9,0x0,0x1                                                                                    
0011e8   e10a     BNZ       0x11fe                                                                                          
                                               {                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011ea   d896     RCALL     0x1318                 USBCtrlTrfRxService();                                                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                   /*                                                                       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                    * Don't have to worry about overwriting _KEEP bit                       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                    * because if _KEEP was set, TRNIF would not have been                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                    * generated in the first place.                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                    */                                                                      C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011ec   0104     MOVLB     0x4                    if(ep0Bo.Stat.DTS == 0)                                                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011ee   bd00     BTFSC     0x0,0x6,0x1                                                                                     
0011f0   d003     BRA       0x11f8                                                                                          
0011f2   0ec8     MOVLW     0xc8                       ep0Bo.Stat._byte = _USIE|_DAT1|_DTSEN;                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011f4   6f00     MOVWF     0x0,0x1                                                                                         
0011f6   d002     BRA       0x11fc                 else                                                                     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011f8   0e88     MOVLW     0x88                       ep0Bo.Stat._byte = _USIE|_DAT0|_DTSEN;                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011fa   6f00     MOVWF     0x0,0x1                                                                                         
                                               }                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011fc   d001     BRA       0x1200             else    // CTRL_TRF_TX                                                       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0011fe   d90f     RCALL     0x141e                 USBPrepareForNextSetupTrf();                                             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001200   0012     RETURN    0x0            }//end USBCtrlTrfOutHandler                                                      C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlTrfInHandler(void)                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        This routine handles an IN transaction according to          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  which control transfer state is currently active.            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            A Set Address Request must not change the acutal address     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  of the device until the completion of the control            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  transfer. The end of the control transfer for Set Address    C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  Request is an IN transaction. Therefore it is necessary      C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  to service this unique situation when the condition is       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  right. Macro mUSBCheckAdrPendingState is defined in          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  usb9.h and its function is to specifically service this      C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  event.                                                       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlTrfInHandler(void)                                                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001202   0e04     MOVLW     0x4                mUSBCheckAdrPendingState();         // Must check if in ADR_PENDING_STATE    C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001204   0100     MOVLB     0x0                                                                                             
001206   5df1     SUBWF     0xf1,0x0,0x1                                                                                    
001208   e10a     BNZ       0x121e                                                                                          
00120a   c41a     MOVFF     0x41a,0xf6e                                                                                     
00120c   ff6e                                                                                                               
00120e   506e     MOVF      0x6e,0x0,0x0                                                                                    
001210   0800     SUBLW     0x0                                                                                             
001212   e203     BC        0x121a                                                                                          
001214   0e05     MOVLW     0x5                                                                                             
001216   6ff1     MOVWF     0xf1,0x1                                                                                        
001218   d002     BRA       0x121e                                                                                          
00121a   0e03     MOVLW     0x3                                                                                             
00121c   6ff1     MOVWF     0xf1,0x1                                                                                        
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00121e   0100     MOVLB     0x0                if(ctrl_trf_state == CTRL_TRF_TX)                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001220   05e9     DECF      0xe9,0x0,0x1                                                                                    
001222   e10a     BNZ       0x1238                                                                                          
                                               {                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001224   d80b     RCALL     0x123c                 USBCtrlTrfTxService();                                                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001226   0104     MOVLB     0x4                    if(ep0Bi.Stat.DTS == 0)                                                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001228   bd04     BTFSC     0x4,0x6,0x1                                                                                     
00122a   d003     BRA       0x1232                                                                                          
00122c   0ec8     MOVLW     0xc8                       ep0Bi.Stat._byte = _USIE|_DAT1|_DTSEN;                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00122e   6f04     MOVWF     0x4,0x1                                                                                         
001230   d002     BRA       0x1236                 else                                                                     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001232   0e88     MOVLW     0x88                       ep0Bi.Stat._byte = _USIE|_DAT0|_DTSEN;                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001234   6f04     MOVWF     0x4,0x1                                                                                         
                                               }                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001236   d001     BRA       0x123a             else // CTRL_TRF_RX                                                          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001238   d8f2     RCALL     0x141e                 USBPrepareForNextSetupTrf();                                             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00123a   0012     RETURN    0x0            }//end USBCtrlTrfInHandler                                                       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlTrfTxService(void)                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    pSrc, wCount, and usb_stat.ctrl_trf_mem are setup properly.  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        This routine should be called from only two places.          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  One from USBCtrlEPServiceComplete() and one from             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  USBCtrlTrfInHandler(). It takes care of managing a           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  transfer over multiple USB transactions.                     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            This routine works with isochronous endpoint larger than     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  256 bytes and is shown here as an example of how to deal     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  with BC9 and BC8. In reality, a control endpoint can never   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  be larger than 64 bytes.                                     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00123c   cfd9     MOVFF     0xfd9,0xfe6    void USBCtrlTrfTxService(void)                                                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00123e   ffe6                                                                                                               
001240   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
001242   ffd9                                                                                                               
001244   0e02     MOVLW     0x2                                                                                             
001246   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               WORD byte_to_send;                                                           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                * First, have to figure out how many byte of data to send.                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                */                                                                          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001248   0100     MOVLB     0x0                if(wCount._word < EP0_BUFF_SIZE)                                             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00124a   0e08     MOVLW     0x8                                                                                             
00124c   5def     SUBWF     0xef,0x0,0x1                                                                                    
00124e   0e00     MOVLW     0x0                                                                                             
001250   59f0     SUBWFB    0xf0,0x0,0x1                                                                                    
001252   e205     BC        0x125e                                                                                          
001254   c0ef     MOVFF     0xef,0xfde             byte_to_send._word = wCount._word;                                       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001256   ffde                                                                                                               
001258   c0f0     MOVFF     0xf0,0xfdd                                                                                      
00125a   ffdd                                                                                                               
00125c   d003     BRA       0x1264             else                                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00125e   0e08     MOVLW     0x8                    byte_to_send._word = EP0_BUFF_SIZE;                                      C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001260   6ede     MOVWF     0xde,0x0                                                                                        
001262   6add     CLRF      0xdd,0x0                                                                                        
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                * Next, load the number of bytes to send to BC9..0 in buffer descriptor     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                */                                                                          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001264   0104     MOVLB     0x4                ep0Bi.Stat.BC9 = 0;                                                          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001266   9304     BCF       0x4,0x1,0x1                                                                                     
001268   9104     BCF       0x4,0x0,0x1        ep0Bi.Stat.BC8 = 0;                                                          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00126a   0e01     MOVLW     0x1                ep0Bi.Stat._byte |= MSB(byte_to_send);                                       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00126c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00126e   1304     IORWF     0x4,0x1,0x1                                                                                     
001270   cfdf     MOVFF     0xfdf,0x405        ep0Bi.Cnt = LSB(byte_to_send);                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001272   f405                                                                                                               
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                * Subtract the number of bytes just about to be sent from the total.        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                */                                                                          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001274   0e00     MOVLW     0x0                wCount._word = wCount._word - byte_to_send._word;                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001276   50db     MOVF      0xdb,0x0,0x0                                                                                    
001278   0100     MOVLB     0x0                                                                                             
00127a   5fef     SUBWF     0xef,0x1,0x1                                                                                    
00127c   0e01     MOVLW     0x1                                                                                             
00127e   50db     MOVF      0xdb,0x0,0x0                                                                                    
001280   5bf0     SUBWFB    0xf0,0x1,0x1                                                                                    
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001282   0e20     MOVLW     0x20               pDst.bRam = (byte*)&CtrlTrfData;        // Set destination pointer           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001284   6fed     MOVWF     0xed,0x1                                                                                        
001286   0e04     MOVLW     0x4                                                                                             
001288   6fee     MOVWF     0xee,0x1                                                                                        
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00128a   0100     MOVLB     0x0                if(usb_stat.ctrl_trf_mem == _ROM)       // Determine type of memory source   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00128c   a3f2     BTFSS     0xf2,0x1,0x1                                                                                    
00128e   d01e     BRA       0x12cc                                                                                          
                                               {                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001290   cfd9     MOVFF     0xfd9,0xfe9            while(byte_to_send._word)                                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001292   ffe9                                                                                                               
001294   cfda     MOVFF     0xfda,0xfea                                                                                     
001296   ffea                                                                                                               
001298   50ee     MOVF      0xee,0x0,0x0                                                                                    
00129a   10ed     IORWF     0xed,0x0,0x0                                                                                    
00129c   e016     BZ        0x12ca                                                                                          
0012c8   d7e3     BRA       0x1290                                                                                          
                                                   {                                                                        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00129e   c0eb     MOVFF     0xeb,0xff6                 *pDst.bRam = *pSrc.bRom;                                             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0012a0   fff6                                                                                                               
0012a2   c0ec     MOVFF     0xec,0xff7                                                                                      
0012a4   fff7                                                                                                               
0012a6   0008     TBLRD                                                                                                     
0012a8   50f5     MOVF      0xf5,0x0,0x0                                                                                    
0012aa   c0ed     MOVFF     0xed,0xfe9                                                                                      
0012ac   ffe9                                                                                                               
0012ae   c0ee     MOVFF     0xee,0xfea                                                                                      
0012b0   ffea                                                                                                               
0012b2   6eef     MOVWF     0xef,0x0                                                                                        
0012b4   0100     MOVLB     0x0                        pDst.bRam++;                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0012b6   2bed     INCF      0xed,0x1,0x1                                                                                    
0012b8   0e00     MOVLW     0x0                                                                                             
0012ba   23ee     ADDWFC    0xee,0x1,0x1                                                                                    
0012bc   2beb     INCF      0xeb,0x1,0x1               pSrc.bRom++;                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0012be   23ec     ADDWFC    0xec,0x1,0x1                                                                                    
0012c0   06df     DECF      0xdf,0x1,0x0               byte_to_send._word--;                                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0012c2   0e01     MOVLW     0x1                                                                                             
0012c4   e201     BC        0x12c8                                                                                          
0012c6   06db     DECF      0xdb,0x1,0x0                                                                                    
                                                   }//end while(byte_to_send._word)                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               }                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0012ca   d01c     BRA       0x1304             else // RAM                                                                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               {                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0012cc   cfd9     MOVFF     0xfd9,0xfe9            while(byte_to_send._word)                                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0012ce   ffe9                                                                                                               
0012d0   cfda     MOVFF     0xfda,0xfea                                                                                     
0012d2   ffea                                                                                                               
0012d4   50ee     MOVF      0xee,0x0,0x0                                                                                    
0012d6   10ed     IORWF     0xed,0x0,0x0                                                                                    
0012d8   e015     BZ        0x1304                                                                                          
001302   d7e4     BRA       0x12cc                                                                                          
                                                   {                                                                        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0012da   c0eb     MOVFF     0xeb,0xfe9                 *pDst.bRam = *pSrc.bRam;                                             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0012dc   ffe9                                                                                                               
0012de   c0ec     MOVFF     0xec,0xfea                                                                                      
0012e0   ffea                                                                                                               
0012e2   50ef     MOVF      0xef,0x0,0x0                                                                                    
0012e4   c0ed     MOVFF     0xed,0xfe9                                                                                      
0012e6   ffe9                                                                                                               
0012e8   c0ee     MOVFF     0xee,0xfea                                                                                      
0012ea   ffea                                                                                                               
0012ec   6eef     MOVWF     0xef,0x0                                                                                        
0012ee   0100     MOVLB     0x0                        pDst.bRam++;                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0012f0   2bed     INCF      0xed,0x1,0x1                                                                                    
0012f2   0e00     MOVLW     0x0                                                                                             
0012f4   23ee     ADDWFC    0xee,0x1,0x1                                                                                    
0012f6   2beb     INCF      0xeb,0x1,0x1               pSrc.bRam++;                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0012f8   23ec     ADDWFC    0xec,0x1,0x1                                                                                    
0012fa   06df     DECF      0xdf,0x1,0x0               byte_to_send._word--;                                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0012fc   0e01     MOVLW     0x1                                                                                             
0012fe   e201     BC        0x1302                                                                                          
001300   06db     DECF      0xdb,0x1,0x0                                                                                    
                                                   }//end while(byte_to_send._word)                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               }//end if(usb_stat.ctrl_trf_mem == _ROM)                                     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001304   0e02     MOVLW     0x2            }//end USBCtrlTrfTxService                                                       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001306   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001308   e202     BC        0x130e                                                                                          
00130a   6ae1     CLRF      0xe1,0x0                                                                                        
00130c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00130e   6ee1     MOVWF     0xe1,0x0                                                                                        
001310   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001312   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001314   ffd9                                                                                                               
001316   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlTrfRxService(void)                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    pDst and wCount are setup properly.                          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  pSrc is always &CtrlTrfData                                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  usb_stat.ctrl_trf_mem is always _RAM.                        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  wCount should be set to 0 at the start of each control       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  transfer.                                                    C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        *** This routine is only partially complete. Check for       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  new version of the firmware.                                 C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001318   cfd9     MOVFF     0xfd9,0xfe6    void USBCtrlTrfRxService(void)                                                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00131a   ffe6                                                                                                               
00131c   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00131e   ffd9                                                                                                               
001320   0e02     MOVLW     0x2                                                                                             
001322   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               WORD byte_to_read;                                                           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001324   0e03     MOVLW     0x3                MSB(byte_to_read) = 0x03 & ep0Bo.Stat._byte;    // Filter out last 2 bits    C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001326   0104     MOVLB     0x4                                                                                             
001328   1500     ANDWF     0x0,0x0,0x1                                                                                     
00132a   6ee7     MOVWF     0xe7,0x0                                                                                        
00132c   0e01     MOVLW     0x1                                                                                             
00132e   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
001330   ffdb                                                                                                               
001332   c401     MOVFF     0x401,0xfdf        LSB(byte_to_read) = ep0Bo.Cnt;                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001334   ffdf                                                                                                               
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                * Accumulate total number of bytes read                                     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                */                                                                          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001336   50de     MOVF      0xde,0x0,0x0       wCount._word = wCount._word + byte_to_read._word;                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001338   0100     MOVLB     0x0                                                                                             
00133a   27ef     ADDWF     0xef,0x1,0x1                                                                                    
00133c   50dd     MOVF      0xdd,0x0,0x0                                                                                    
00133e   23f0     ADDWFC    0xf0,0x1,0x1                                                                                    
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001340   0e20     MOVLW     0x20               pSrc.bRam = (byte*)&CtrlTrfData;                                             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001342   6feb     MOVWF     0xeb,0x1                                                                                        
001344   0e04     MOVLW     0x4                                                                                             
001346   6fec     MOVWF     0xec,0x1                                                                                        
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001348   cfd9     MOVFF     0xfd9,0xfe9        while(byte_to_read._word)                                                    C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00134a   ffe9                                                                                                               
00134c   cfda     MOVFF     0xfda,0xfea                                                                                     
00134e   ffea                                                                                                               
001350   50ee     MOVF      0xee,0x0,0x0                                                                                    
001352   10ed     IORWF     0xed,0x0,0x0                                                                                    
001354   e014     BZ        0x137e                                                                                          
00137c   d7e5     BRA       0x1348                                                                                          
                                               {                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001356   c0eb     MOVFF     0xeb,0xfe9             *pDst.bRam = *pSrc.bRam;                                                 C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001358   ffe9                                                                                                               
00135a   c0ec     MOVFF     0xec,0xfea                                                                                      
00135c   ffea                                                                                                               
00135e   50ef     MOVF      0xef,0x0,0x0                                                                                    
001360   c0ed     MOVFF     0xed,0xfe9                                                                                      
001362   ffe9                                                                                                               
001364   c0ee     MOVFF     0xee,0xfea                                                                                      
001366   ffea                                                                                                               
001368   6eef     MOVWF     0xef,0x0                                                                                        
00136a   2bed     INCF      0xed,0x1,0x1           pDst.bRam++;                                                             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00136c   0e00     MOVLW     0x0                                                                                             
00136e   23ee     ADDWFC    0xee,0x1,0x1                                                                                    
001370   2beb     INCF      0xeb,0x1,0x1           pSrc.bRam++;                                                             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001372   23ec     ADDWFC    0xec,0x1,0x1                                                                                    
001374   06df     DECF      0xdf,0x1,0x0           byte_to_read._word--;                                                    C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001376   0e01     MOVLW     0x1                                                                                             
001378   e201     BC        0x137c                                                                                          
00137a   06db     DECF      0xdb,0x1,0x0                                                                                    
                                               }//end while(byte_to_read._word)                                             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00137e   0e02     MOVLW     0x2            }//end USBCtrlTrfRxService                                                       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001380   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001382   e202     BC        0x1388                                                                                          
001384   6ae1     CLRF      0xe1,0x0                                                                                        
001386   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001388   6ee1     MOVWF     0xe1,0x0                                                                                        
00138a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00138c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00138e   ffd9                                                                                                               
001390   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlEPServiceComplete(void)                          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        This routine wrap up the ramaining tasks in servicing        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  a Setup Request. Its main task is to set the endpoint        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  controls appropriately for a given situation. See code       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  below.                                                       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  There are three main scenarios:                              C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  a) There was no handler for the Request, in this case        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     a STALL should be sent out.                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  b) The host has requested a read control transfer,           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     endpoints are required to be setup in a specific way.     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  c) The host has requested a write control transfer, or       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     a control data stage is not required, endpoints are       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     required to be setup in a specific way.                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  Packet processing is resumed by clearing PKTDIS bit.         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlEPServiceComplete(void)                                              C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001392   0100     MOVLB     0x0                if(ctrl_trf_session_owner == MUID_NULL)                                      C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001394   51ea     MOVF      0xea,0x0,0x1                                                                                    
001396   e10c     BNZ       0x13b0                                                                                          
                                               {                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                   /*                                                                       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                    * If no one knows how to service this request then stall.               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                    * Must also prepare EP0 to receive the next SETUP transaction.          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                    */                                                                      C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001398   0104     MOVLB     0x4                    ep0Bo.Cnt = EP0_BUFF_SIZE;                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00139a   0e08     MOVLW     0x8                                                                                             
00139c   6f01     MOVWF     0x1,0x1                                                                                         
00139e   0e18     MOVLW     0x18                   ep0Bo.ADR = (byte*)&SetupPkt;                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013a0   6f02     MOVWF     0x2,0x1                                                                                         
0013a2   0e04     MOVLW     0x4                                                                                             
0013a4   6f03     MOVWF     0x3,0x1                                                                                         
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013a6   0e84     MOVLW     0x84                   ep0Bo.Stat._byte = _USIE|_BSTALL;                                        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013a8   6f00     MOVWF     0x0,0x1                                                                                         
0013aa   0104     MOVLB     0x4                    ep0Bi.Stat._byte = _USIE|_BSTALL;                                        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013ac   6f04     MOVWF     0x4,0x1                                                                                         
                                               }                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013ae   d035     BRA       0x141a             else    // A module has claimed ownership of the control transfer session.   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               {                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013b0   0104     MOVLB     0x4                    if(SetupPkt.DataDir == DEV_TO_HOST)                                      C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013b2   af18     BTFSS     0x18,0x7,0x1                                                                                    
0013b4   d022     BRA       0x13fa                                                                                          
                                                   {                                                                        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013b6   0100     MOVLB     0x0                        if(SetupPkt.wLength < wCount._word)                                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013b8   51ef     MOVF      0xef,0x0,0x1                                                                                    
0013ba   0104     MOVLB     0x4                                                                                             
0013bc   5d1e     SUBWF     0x1e,0x0,0x1                                                                                    
0013be   0100     MOVLB     0x0                                                                                             
0013c0   51f0     MOVF      0xf0,0x0,0x1                                                                                    
0013c2   0104     MOVLB     0x4                                                                                             
0013c4   591f     SUBWFB    0x1f,0x0,0x1                                                                                    
0013c6   e204     BC        0x13d0                                                                                          
0013c8   c41e     MOVFF     0x41e,0xef                     wCount._word = SetupPkt.wLength;                                 C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013ca   f0ef                                                                                                               
0013cc   c41f     MOVFF     0x41f,0xf0                                                                                      
0013ce   f0f0                                                                                                               
0013d0   df35     RCALL     0x123c                     USBCtrlTrfTxService();                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013d2   0100     MOVLB     0x0                        ctrl_trf_state = CTRL_TRF_TX;                                        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013d4   0e01     MOVLW     0x1                                                                                             
0013d6   6fe9     MOVWF     0xe9,0x1                                                                                        
                                                       /*                                                                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * Control Read:                                                     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * <SETUP[0]><IN[1]><IN[0]>...<OUT[1]> | <SETUP[0]>                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * 1. Prepare OUT EP to respond to early termination                 C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        *                                                                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * NOTE:                                                             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * If something went wrong during the control transfer,              C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * the last status stage may not be sent by the host.                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * When this happens, two different things could happen              C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * depending on the host.                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * a) The host could send out a RESET.                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * b) The host could send out a new SETUP transaction                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        *    without sending a RESET first.                                 C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * To properly handle case (b), the OUT EP must be setup             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * to receive either a zero length OUT transaction, or a             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * new SETUP transaction.                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        *                                                                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * Since the SETUP transaction requires the DTS bit to be            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * DAT0 while the zero length OUT status requires the DTS            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * bit to be DAT1, the DTS bit check by the hardware should          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * be disabled. This way the SIE could accept either of              C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * the two transactions.                                             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        *                                                                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * Furthermore, the Cnt byte should be set to prepare for            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * the SETUP data (8-byte or more), and the buffer address           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * should be pointed to SetupPkt.                                    C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        */                                                                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013d8   0104     MOVLB     0x4                        ep0Bo.Cnt = EP0_BUFF_SIZE;                                           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013da   0e08     MOVLW     0x8                                                                                             
0013dc   6f01     MOVWF     0x1,0x1                                                                                         
0013de   0e18     MOVLW     0x18                       ep0Bo.ADR = (byte*)&SetupPkt;                                        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013e0   6f02     MOVWF     0x2,0x1                                                                                         
0013e2   0e04     MOVLW     0x4                                                                                             
0013e4   6f03     MOVWF     0x3,0x1                                                                                         
0013e6   0e80     MOVLW     0x80                       ep0Bo.Stat._byte = _USIE;           // Note: DTSEN is 0!             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013e8   6f00     MOVWF     0x0,0x1                                                                                         
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                       /*                                                                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * 2. Prepare IN EP to transfer data, Cnt should have                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        *    been initialized by responsible request owner.                 C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        */                                                                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013ea   0104     MOVLB     0x4                        ep0Bi.ADR = (byte*)&CtrlTrfData;                                     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013ec   0e20     MOVLW     0x20                                                                                            
0013ee   6f06     MOVWF     0x6,0x1                                                                                         
0013f0   0e04     MOVLW     0x4                                                                                             
0013f2   6f07     MOVWF     0x7,0x1                                                                                         
0013f4   0ec8     MOVLW     0xc8                       ep0Bi.Stat._byte = _USIE|_DAT1|_DTSEN;                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013f6   6f04     MOVWF     0x4,0x1                                                                                         
                                                   }                                                                        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013f8   d010     BRA       0x141a                 else    // (SetupPkt.DataDir == HOST_TO_DEV)                             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                   {                                                                        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013fa   0100     MOVLB     0x0                        ctrl_trf_state = CTRL_TRF_RX;                                        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
0013fc   0e02     MOVLW     0x2                                                                                             
0013fe   6fe9     MOVWF     0xe9,0x1                                                                                        
                                                       /*                                                                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * Control Write:                                                    C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * <SETUP[0]><OUT[1]><OUT[0]>...<IN[1]> | <SETUP[0]>                 C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        *                                                                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * 1. Prepare IN EP to respond to early termination                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        *                                                                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        *    This is the same as a Zero Length Packet Response              C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        *    for control transfer without a data stage                      C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        */                                                                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001400   0104     MOVLB     0x4                        ep0Bi.Cnt = 0;                                                       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001402   6b05     CLRF      0x5,0x1                                                                                         
001404   0ec8     MOVLW     0xc8                       ep0Bi.Stat._byte = _USIE|_DAT1|_DTSEN;                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001406   6f04     MOVWF     0x4,0x1                                                                                         
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                       /*                                                                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        * 2. Prepare OUT EP to receive data.                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                        */                                                                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001408   0104     MOVLB     0x4                        ep0Bo.Cnt = EP0_BUFF_SIZE;                                           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00140a   0e08     MOVLW     0x8                                                                                             
00140c   6f01     MOVWF     0x1,0x1                                                                                         
00140e   0e20     MOVLW     0x20                       ep0Bo.ADR = (byte*)&CtrlTrfData;                                     C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001410   6f02     MOVWF     0x2,0x1                                                                                         
001412   0e04     MOVLW     0x4                                                                                             
001414   6f03     MOVWF     0x3,0x1                                                                                         
001416   0ec8     MOVLW     0xc8                       ep0Bo.Stat._byte = _USIE|_DAT1|_DTSEN;                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001418   6f00     MOVWF     0x0,0x1                                                                                         
                                                   }//end if(SetupPkt.DataDir == DEV_TO_HOST)                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               }//end if(ctrl_trf_session_owner == MUID_NULL)                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                * PKTDIS bit is set when a Setup Transaction is received.                   C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                * Clear to resume packet processing.                                        C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                */                                                                          C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00141a   986d     BCF       0x6d,0x4,0x0       UCONbits.PKTDIS = 0;                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00141c   0012     RETURN    0x0            }//end USBCtrlEPServiceComplete                                                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBPrepareForNextSetupTrf(void)                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        The routine forces EP0 OUT to be ready for a new Setup       C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  transaction, and forces EP0 IN to be owned by CPU.           C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            None                                                         C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBPrepareForNextSetupTrf(void)                                             C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           {                                                                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00141e   0100     MOVLB     0x0                ctrl_trf_state = WAIT_SETUP;            // See usbctrltrf.h                  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001420   6be9     CLRF      0xe9,0x1                                                                                        
001422   0104     MOVLB     0x4                ep0Bo.Cnt = EP0_BUFF_SIZE;              // Defined in usbcfg.h               C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001424   0e08     MOVLW     0x8                                                                                             
001426   6f01     MOVWF     0x1,0x1                                                                                         
001428   0e18     MOVLW     0x18               ep0Bo.ADR = (byte*)&SetupPkt;                                                C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
00142a   6f02     MOVWF     0x2,0x1                                                                                         
00142c   0e04     MOVLW     0x4                                                                                             
00142e   6f03     MOVWF     0x3,0x1                                                                                         
001430   0e88     MOVLW     0x88               ep0Bo.Stat._byte = _USIE|_DAT0|_DTSEN;  // EP0 buff dsc init, see usbmmap.h  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001432   6f00     MOVWF     0x0,0x1                                                                                         
001434   0104     MOVLB     0x4                ep0Bi.Stat._byte = _UCPU;               // EP0 IN buffer initialization      C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
001436   6b04     CLRF      0x4,0x1                                                                                         
001438   0012     RETURN    0x0            }//end USBPrepareForNextSetupTrf                                                 C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           /** EOF usbctrltrf.c *********************************************************/  C:\datalogger\firmware\system\usb\usbctrltrf\usbctrltrf.c
                                           /**                                                                              C:\datalogger\firmware\user\user.c
                                            * SB3 Datalogger Project                                                        C:\datalogger\firmware\user\user.c
                                            * David Turner & Jon Sowman                                                     C:\datalogger\firmware\user\user.c
                                            * May 2012                                                                      C:\datalogger\firmware\user\user.c
                                            */                                                                              C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                            // Includes from PATH                                                           C:\datalogger\firmware\user\user.c
                                           #include <p18cxxx.h>                                                             C:\datalogger\firmware\user\user.c
                                           #include <usart.h>                                                               C:\datalogger\firmware\user\user.c
                                           #include <timers.h>                                                              C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           // Includes from local repo                                                      C:\datalogger\firmware\user\user.c
                                           #include "system\typedefs.h"                                                     C:\datalogger\firmware\user\user.c
                                           #include "system\usb\usb.h"                                                      C:\datalogger\firmware\user\user.c
                                           #include "io_cfg.h"             // I/O pin mapping                               C:\datalogger\firmware\user\user.c
                                           #include "user\user.h"                                                           C:\datalogger\firmware\user\user.c
                                           #include "logic\logic.h"                                                         C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           // Variables                                                                     C:\datalogger\firmware\user\user.c
                                           #pragma udata                                                                    C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           byte trf_state;                                                                  C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           DATA_PACKET dataPacket;                                                          C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           byte pTemp;                     // Pointer to current logging position, will     C:\datalogger\firmware\user\user.c
                                                                           // loop to zero once the max index is reached    C:\datalogger\firmware\user\user.c
                                           byte valid_temp;                // Keeps count of the valid data points          C:\datalogger\firmware\user\user.c
                                           word temp_data[30];             // 30 points of data                             C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           // Timer0 - 1 second interval setup.                                             C:\datalogger\firmware\user\user.c
                                           // Fosc/4 = 12MHz                                                                C:\datalogger\firmware\user\user.c
                                           // Use /256 prescalar, this brings counter freq down to 46,875 Hz                C:\datalogger\firmware\user\user.c
                                           // Timer0 should = 65536 - 46875 = 18661 or 0x48E5                               C:\datalogger\firmware\user\user.c
                                           #define TIMER0L_VAL         0xE5                                                 C:\datalogger\firmware\user\user.c
                                           #define TIMER0H_VAL         0x48                                                 C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           // Private prototypes                                                            C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           void BlinkUSBStatus(void);                                                       C:\datalogger\firmware\user\user.c
                                           void ServiceRequests(void);                                                      C:\datalogger\firmware\user\user.c
                                           void ResetTempLog(void);                                                         C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           // Added by CUED                                                                 C:\datalogger\firmware\user\user.c
                                           byte ReadPOT(void);                                                              C:\datalogger\firmware\user\user.c
                                           void Blink(byte);                                                                C:\datalogger\firmware\user\user.c
                                           void nullSampler(void);                                                          C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           #pragma code                                                                     C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           void ProcessIO(void)                                                             C:\datalogger\firmware\user\user.c
                                           {                                                                                C:\datalogger\firmware\user\user.c
                                               //BlinkUSBStatus();                                                          C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                               // User Application USB tasks                                                C:\datalogger\firmware\user\user.c
000838   0e06     MOVLW     0x6                if((usb_device_state < CONFIGURED_STATE)||(UCONbits.SUSPND==1)) return;      C:\datalogger\firmware\user\user.c
00083a   0100     MOVLB     0x0                                                                                             
00083c   5df1     SUBWF     0xf1,0x0,0x1                                                                                    
00083e   e303     BNC       0x846                                                                                           
000840   506d     MOVF      0x6d,0x0,0x0                                                                                    
000842   0b02     ANDLW     0x2                                                                                             
000844   e001     BZ        0x848                                                                                           
000846   d001     BRA       0x84a                                                                                           
                                                                                                                            C:\datalogger\firmware\user\user.c
                                               // UCAM                                                                      C:\datalogger\firmware\user\user.c
000848   d801     RCALL     0x84c              ServiceRequests();                                                           C:\datalogger\firmware\user\user.c
00084a   0012     RETURN    0x0            }                                                                                C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
00084c   cfd9     MOVFF     0xfd9,0xfe6    void ServiceRequests(void)                                                       C:\datalogger\firmware\user\user.c
00084e   ffe6                                                                                                               
000850   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000852   ffd9                                                                                                               
000854   0e0d     MOVLW     0xd                                                                                             
000856   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\datalogger\firmware\user\user.c
                                               byte index;                                                                  C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
000858   0e01     MOVLW     0x1            	int i = 0;                                                                      C:\datalogger\firmware\user\user.c
00085a   6adb     CLRF      0xdb,0x0                                                                                        
00085c   0e02     MOVLW     0x2                                                                                             
00085e   6adb     CLRF      0xdb,0x0                                                                                        
000860   0e03     MOVLW     0x3            	int q = 0;                                                                      C:\datalogger\firmware\user\user.c
000862   6adb     CLRF      0xdb,0x0                                                                                        
000864   0e04     MOVLW     0x4                                                                                             
000866   6adb     CLRF      0xdb,0x0                                                                                        
000868   0e05     MOVLW     0x5            	int temp = 0;                                                                   C:\datalogger\firmware\user\user.c
00086a   6adb     CLRF      0xdb,0x0                                                                                        
00086c   0e06     MOVLW     0x6                                                                                             
00086e   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            C:\datalogger\firmware\user\user.c
000870   0e40     MOVLW     0x40               if(USBGenRead((byte*)&dataPacket,sizeof(dataPacket)))                        C:\datalogger\firmware\user\user.c
000872   6ee6     MOVWF     0xe6,0x0                                                                                        
000874   0e61     MOVLW     0x61                                                                                            
000876   6ee6     MOVWF     0xe6,0x0                                                                                        
000878   0e00     MOVLW     0x0                                                                                             
00087a   6ee6     MOVWF     0xe6,0x0                                                                                        
00087c   ec23     CALL      0x1646,0x0                                                                                      
00087e   f00b                                                                                                               
000880   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000882   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000884   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000886   0900     IORLW     0x0                                                                                             
000888   e101     BNZ       0x88c                                                                                           
00088a   d0fe     BRA       0xa88                                                                                           
                                               {                                                                            C:\datalogger\firmware\user\user.c
                                           	    // Pointer to the data packet                                               C:\datalogger\firmware\user\user.c
00088c   50d9     MOVF      0xd9,0x0,0x0   	    uint8_t* usbptr = dataPacket._byte;                                         C:\datalogger\firmware\user\user.c
00088e   0f07     ADDLW     0x7                                                                                             
000890   6ee9     MOVWF     0xe9,0x0                                                                                        
000892   cfda     MOVFF     0xfda,0xfea                                                                                     
000894   ffea                                                                                                               
000896   0e61     MOVLW     0x61                                                                                            
000898   6eee     MOVWF     0xee,0x0                                                                                        
00089a   0e00     MOVLW     0x0                                                                                             
00089c   6eed     MOVWF     0xed,0x0                                                                                        
00089e   0e07     MOVLW     0x7            	    uint8_t* usbcmd = usbptr;                                                   C:\datalogger\firmware\user\user.c
0008a0   cfdb     MOVFF     0xfdb,0x8                                                                                       
0008a2   f008                                                                                                               
0008a4   0e08     MOVLW     0x8                                                                                             
0008a6   cfdb     MOVFF     0xfdb,0x9                                                                                       
0008a8   f009                                                                                                               
0008aa   0e09     MOVLW     0x9                                                                                             
0008ac   c008     MOVFF     0x8,0xfdb                                                                                       
0008ae   ffdb                                                                                                               
0008b0   0e0a     MOVLW     0xa                                                                                             
0008b2   c009     MOVFF     0x9,0xfdb                                                                                       
0008b4   ffdb                                                                                                               
0008b6   0e01     MOVLW     0x1            	    uint8_t* usblen = usbptr + 1;                                               C:\datalogger\firmware\user\user.c
0008b8   6ee7     MOVWF     0xe7,0x0                                                                                        
0008ba   0e07     MOVLW     0x7                                                                                             
0008bc   cfdb     MOVFF     0xfdb,0x14                                                                                      
0008be   f014                                                                                                               
0008c0   0e08     MOVLW     0x8                                                                                             
0008c2   cfdb     MOVFF     0xfdb,0x15                                                                                      
0008c4   f015                                                                                                               
0008c6   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0008c8   2614     ADDWF     0x14,0x1,0x0                                                                                    
0008ca   0e00     MOVLW     0x0                                                                                             
0008cc   2215     ADDWFC    0x15,0x1,0x0                                                                                    
0008ce   0e0b     MOVLW     0xb                                                                                             
0008d0   c014     MOVFF     0x14,0xfdb                                                                                      
0008d2   ffdb                                                                                                               
0008d4   0e0c     MOVLW     0xc                                                                                             
0008d6   c015     MOVFF     0x15,0xfdb                                                                                      
0008d8   ffdb                                                                                                               
0008da   50d9     MOVF      0xd9,0x0,0x0   	    usbptr += 2; // Now points to beginning of payload                          C:\datalogger\firmware\user\user.c
0008dc   0f07     ADDLW     0x7                                                                                             
0008de   6ee9     MOVWF     0xe9,0x0                                                                                        
0008e0   cfda     MOVFF     0xfda,0xfea                                                                                     
0008e2   ffea                                                                                                               
0008e4   0e02     MOVLW     0x2                                                                                             
0008e6   26ee     ADDWF     0xee,0x1,0x0                                                                                    
0008e8   0e00     MOVLW     0x0                                                                                             
0008ea   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
                                           		                                                                               C:\datalogger\firmware\user\user.c
                                           		// Switch on the command byte of the USB packet we got from the PC             C:\datalogger\firmware\user\user.c
0008ec   0100     MOVLB     0x0                    switch(dataPacket.CMD)                                                   C:\datalogger\firmware\user\user.c
0008ee   5161     MOVF      0x61,0x0,0x1                                                                                    
0008f0   0aff     XORLW     0xff                                                                                            
0008f2   e101     BNZ       0x8f6                                                                                           
0008f4   d08f     BRA       0xa14                                                                                           
0008f6   0a12     XORLW     0x12                                                                                            
0008f8   e101     BNZ       0x8fc                                                                                           
0008fa   d078     BRA       0x9ec                                                                                           
0008fc   0a03     XORLW     0x3                                                                                             
0008fe   e06c     BZ        0x9d8                                                                                           
000900   0adc     XORLW     0xdc                                                                                            
000902   e021     BZ        0x946                                                                                           
000904   0a32     XORLW     0x32                                                                                            
000906   e001     BZ        0x90a                                                                                           
000908   d087     BRA       0xa18                                                                                           
                                                   {                                                                        C:\datalogger\firmware\user\user.c
                                                       case READ_VERSION:                                                   C:\datalogger\firmware\user\user.c
00090a   0e07     MOVLW     0x7                            *usbptr++ = MINOR_VERSION;                                       C:\datalogger\firmware\user\user.c
00090c   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00090e   ffe9                                                                                                               
000910   2adb     INCF      0xdb,0x1,0x0                                                                                    
000912   0e08     MOVLW     0x8                                                                                             
000914   cfdb     MOVFF     0xfdb,0xfea                                                                                     
000916   ffea                                                                                                               
000918   e301     BNC       0x91c                                                                                           
00091a   2adb     INCF      0xdb,0x1,0x0                                                                                    
00091c   6aef     CLRF      0xef,0x0                                                                                        
00091e   0e07     MOVLW     0x7                            *usbptr++ = MAJOR_VERSION;                                       C:\datalogger\firmware\user\user.c
000920   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
000922   ffe9                                                                                                               
000924   2adb     INCF      0xdb,0x1,0x0                                                                                    
000926   0e08     MOVLW     0x8                                                                                             
000928   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00092a   ffea                                                                                                               
00092c   e301     BNC       0x930                                                                                           
00092e   2adb     INCF      0xdb,0x1,0x0                                                                                    
000930   0e01     MOVLW     0x1                                                                                             
000932   6eef     MOVWF     0xef,0x0                                                                                        
000934   0e0b     MOVLW     0xb                            *usblen = 4;                                                     C:\datalogger\firmware\user\user.c
000936   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
000938   ffe9                                                                                                               
00093a   0e0c     MOVLW     0xc                                                                                             
00093c   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00093e   ffea                                                                                                               
000940   0e04     MOVLW     0x4                                                                                             
000942   6eef     MOVWF     0xef,0x0                                                                                        
000944   d085     BRA       0xa50                          break;                                                           C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                                       case UPDATE_LED:                                                     C:\datalogger\firmware\user\user.c
                                                           // LED1 & LED2 are USB event indicators                          C:\datalogger\firmware\user\user.c
000946   0100     MOVLB     0x0                            if(dataPacket.led_num == 1)                                      C:\datalogger\firmware\user\user.c
000948   0562     DECF      0x62,0x0,0x1                                                                                    
00094a   e10e     BNZ       0x968                                                                                           
                                                           {                                                                C:\datalogger\firmware\user\user.c
00094c   0100     MOVLB     0x0                                mLED_1 = dataPacket.led_status;                              C:\datalogger\firmware\user\user.c
00094e   5163     MOVF      0x63,0x0,0x1                                                                                    
000950   b0e8     BTFSC     0xe8,0x0,0x0                                                                                    
000952   808c     BSF       0x8c,0x0,0x0                                                                                    
000954   a0e8     BTFSS     0xe8,0x0,0x0                                                                                    
000956   908c     BCF       0x8c,0x0,0x0                                                                                    
000958   0e0b     MOVLW     0xb                                *usblen = 1;                                                 C:\datalogger\firmware\user\user.c
00095a   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00095c   ffe9                                                                                                               
00095e   0e0c     MOVLW     0xc                                                                                             
000960   cfdb     MOVFF     0xfdb,0xfea                                                                                     
000962   ffea                                                                                                               
000964   0e01     MOVLW     0x1                                                                                             
000966   6eef     MOVWF     0xef,0x0                                                                                        
                                                           }                                                                C:\datalogger\firmware\user\user.c
000968   0e02     MOVLW     0x2                            if(dataPacket.led_num == 2)                                      C:\datalogger\firmware\user\user.c
00096a   0100     MOVLB     0x0                                                                                             
00096c   5d62     SUBWF     0x62,0x0,0x1                                                                                    
00096e   e10e     BNZ       0x98c                                                                                           
                                                           {                                                                C:\datalogger\firmware\user\user.c
000970   0100     MOVLB     0x0                                mLED_2 = dataPacket.led_status;                              C:\datalogger\firmware\user\user.c
000972   5163     MOVF      0x63,0x0,0x1                                                                                    
000974   b0e8     BTFSC     0xe8,0x0,0x0                                                                                    
000976   828c     BSF       0x8c,0x1,0x0                                                                                    
000978   a0e8     BTFSS     0xe8,0x0,0x0                                                                                    
00097a   928c     BCF       0x8c,0x1,0x0                                                                                    
00097c   0e0b     MOVLW     0xb                                *usblen = 1;                                                 C:\datalogger\firmware\user\user.c
00097e   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
000980   ffe9                                                                                                               
000982   0e0c     MOVLW     0xc                                                                                             
000984   cfdb     MOVFF     0xfdb,0xfea                                                                                     
000986   ffea                                                                                                               
000988   0e01     MOVLW     0x1                                                                                             
00098a   6eef     MOVWF     0xef,0x0                                                                                        
                                                           }                                                                C:\datalogger\firmware\user\user.c
00098c   0e03     MOVLW     0x3                            if(dataPacket.led_num == 3)                                      C:\datalogger\firmware\user\user.c
00098e   0100     MOVLB     0x0                                                                                             
000990   5d62     SUBWF     0x62,0x0,0x1                                                                                    
000992   e10f     BNZ       0x9b2                                                                                           
                                                           {                                                                C:\datalogger\firmware\user\user.c
000994   0100     MOVLB     0x0                                mLED_3 = dataPacket.led_status;                              C:\datalogger\firmware\user\user.c
000996   5163     MOVF      0x63,0x0,0x1                                                                                    
000998   b0e8     BTFSC     0xe8,0x0,0x0                                                                                    
00099a   848c     BSF       0x8c,0x2,0x0                                                                                    
00099c   a0e8     BTFSS     0xe8,0x0,0x0                                                                                    
00099e   948c     BCF       0x8c,0x2,0x0                                                                                    
0009a0   0e0b     MOVLW     0xb                                *usblen = 1;                                                 C:\datalogger\firmware\user\user.c
0009a2   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0009a4   ffe9                                                                                                               
0009a6   0e0c     MOVLW     0xc                                                                                             
0009a8   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0009aa   ffea                                                                                                               
0009ac   0e01     MOVLW     0x1                                                                                             
0009ae   6eef     MOVWF     0xef,0x0                                                                                        
                                                           }                                                                C:\datalogger\firmware\user\user.c
0009b0   d012     BRA       0x9d6                          else if(dataPacket.led_num == 4)                                 C:\datalogger\firmware\user\user.c
0009b2   0e04     MOVLW     0x4                                                                                             
0009b4   0100     MOVLB     0x0                                                                                             
0009b6   5d62     SUBWF     0x62,0x0,0x1                                                                                    
0009b8   e10e     BNZ       0x9d6                                                                                           
                                                           {                                                                C:\datalogger\firmware\user\user.c
0009ba   0100     MOVLB     0x0                                mLED_4 = dataPacket.led_status;                              C:\datalogger\firmware\user\user.c
0009bc   5163     MOVF      0x63,0x0,0x1                                                                                    
0009be   b0e8     BTFSC     0xe8,0x0,0x0                                                                                    
0009c0   868c     BSF       0x8c,0x3,0x0                                                                                    
0009c2   a0e8     BTFSS     0xe8,0x0,0x0                                                                                    
0009c4   968c     BCF       0x8c,0x3,0x0                                                                                    
0009c6   0e0b     MOVLW     0xb                                *usblen = 1;                                                 C:\datalogger\firmware\user\user.c
0009c8   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0009ca   ffe9                                                                                                               
0009cc   0e0c     MOVLW     0xc                                                                                             
0009ce   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0009d0   ffea                                                                                                               
0009d2   0e01     MOVLW     0x1                                                                                             
0009d4   6eef     MOVWF     0xef,0x0                                                                                        
                                                           }                                                                C:\datalogger\firmware\user\user.c
0009d6   d03c     BRA       0xa50                          break;                                                           C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                                       // The following two commands break the the command/response         C:\datalogger\firmware\user\user.c
                                                       // protocol defined for the Logic Analyser, in order that they be    C:\datalogger\firmware\user\user.c
                                                       // back compatible with the provided example PC interface.           C:\datalogger\firmware\user\user.c
                                                       // (They are missing length field).                                  C:\datalogger\firmware\user\user.c
                                                       case BLINK_LED_COMMAND: //[0xEE, Onstate]                            C:\datalogger\firmware\user\user.c
0009d8   d8e0     RCALL     0xb9a          				nullSampler();                                                               C:\datalogger\firmware\user\user.c
0009da   0e0b     MOVLW     0xb                            *usblen = 2; //sends back same command                           C:\datalogger\firmware\user\user.c
0009dc   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0009de   ffe9                                                                                                               
0009e0   0e0c     MOVLW     0xc                                                                                             
0009e2   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0009e4   ffea                                                                                                               
0009e6   0e02     MOVLW     0x2                                                                                             
0009e8   6eef     MOVWF     0xef,0x0                                                                                        
0009ea   d032     BRA       0xa50                          break;                                                           C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                                      	case GET_ADC_COMMAND: //[0xED. 8-bit data]                           C:\datalogger\firmware\user\user.c
0009ec   d8ac     RCALL     0xb46                          *usbptr = ReadPOT();                                             C:\datalogger\firmware\user\user.c
0009ee   6ee6     MOVWF     0xe6,0x0                                                                                        
0009f0   0e07     MOVLW     0x7                                                                                             
0009f2   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0009f4   ffe9                                                                                                               
0009f6   0e08     MOVLW     0x8                                                                                             
0009f8   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0009fa   ffea                                                                                                               
0009fc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0009fe   50e7     MOVF      0xe7,0x0,0x0                                                                                    
000a00   6eef     MOVWF     0xef,0x0                                                                                        
000a02   0e0b     MOVLW     0xb                            *usblen = 2; //returns[0xED, command]                            C:\datalogger\firmware\user\user.c
000a04   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
000a06   ffe9                                                                                                               
000a08   0e0c     MOVLW     0xc                                                                                             
000a0a   cfdb     MOVFF     0xfdb,0xfea                                                                                     
000a0c   ffea                                                                                                               
000a0e   0e02     MOVLW     0x2                                                                                             
000a10   6eef     MOVWF     0xef,0x0                                                                                        
000a12   d01e     BRA       0xa50                          break;                                                           C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                                       case RESET:                                                          C:\datalogger\firmware\user\user.c
000a14   00ff     RESET                                    Reset();                                                         C:\datalogger\firmware\user\user.c
000a16   d01c     BRA       0xa50                          break;                                                           C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                                       default:                                                             C:\datalogger\firmware\user\user.c
                                                       	// We didn't understand the command the PC sent, so error           C:\datalogger\firmware\user\user.c
000a18   0e09     MOVLW     0x9                        	*usbcmd = LOGIC_ERROR;                                              C:\datalogger\firmware\user\user.c
000a1a   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
000a1c   ffe9                                                                                                               
000a1e   0e0a     MOVLW     0xa                                                                                             
000a20   cfdb     MOVFF     0xfdb,0xfea                                                                                     
000a22   ffea                                                                                                               
000a24   0eaa     MOVLW     0xaa                                                                                            
000a26   6eef     MOVWF     0xef,0x0                                                                                        
000a28   0e07     MOVLW     0x7                        	*usbptr++ = ERROR_CMD_NOT_FOUND;                                    C:\datalogger\firmware\user\user.c
000a2a   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
000a2c   ffe9                                                                                                               
000a2e   2adb     INCF      0xdb,0x1,0x0                                                                                    
000a30   0e08     MOVLW     0x8                                                                                             
000a32   cfdb     MOVFF     0xfdb,0xfea                                                                                     
000a34   ffea                                                                                                               
000a36   e301     BNC       0xa3a                                                                                           
000a38   2adb     INCF      0xdb,0x1,0x0                                                                                    
000a3a   0e01     MOVLW     0x1                                                                                             
000a3c   6eef     MOVWF     0xef,0x0                                                                                        
000a3e   0e0b     MOVLW     0xb                        	*usblen = 3;                                                        C:\datalogger\firmware\user\user.c
000a40   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
000a42   ffe9                                                                                                               
000a44   0e0c     MOVLW     0xc                                                                                             
000a46   cfdb     MOVFF     0xfdb,0xfea                                                                                     
000a48   ffea                                                                                                               
000a4a   0e03     MOVLW     0x3                                                                                             
000a4c   6eef     MOVWF     0xef,0x0                                                                                        
000a4e   d000     BRA       0xa50                          break;                                                           C:\datalogger\firmware\user\user.c
                                                   }                                                                        C:\datalogger\firmware\user\user.c
                                           		// If we've put data into the send buffer, then transmit                       C:\datalogger\firmware\user\user.c
000a50   0e0b     MOVLW     0xb                    if(*usblen != 0)                                                         C:\datalogger\firmware\user\user.c
000a52   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
000a54   ffe9                                                                                                               
000a56   0e0c     MOVLW     0xc                                                                                             
000a58   cfdb     MOVFF     0xfdb,0xfea                                                                                     
000a5a   ffea                                                                                                               
000a5c   50ef     MOVF      0xef,0x0,0x0                                                                                    
000a5e   e014     BZ        0xa88                                                                                           
                                                   {                                                                        C:\datalogger\firmware\user\user.c
000a60   0104     MOVLB     0x4                        if(!mUSBGenTxIsBusy())                                               C:\datalogger\firmware\user\user.c
000a62   bf0c     BTFSC     0xc,0x7,0x1                                                                                     
000a64   d011     BRA       0xa88                                                                                           
000a66   0e0b     MOVLW     0xb                            USBGenWrite((byte*)&dataPacket,*usblen);                         C:\datalogger\firmware\user\user.c
000a68   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
000a6a   ffe9                                                                                                               
000a6c   0e0c     MOVLW     0xc                                                                                             
000a6e   cfdb     MOVFF     0xfdb,0xfea                                                                                     
000a70   ffea                                                                                                               
000a72   50ef     MOVF      0xef,0x0,0x0                                                                                    
000a74   6ee6     MOVWF     0xe6,0x0                                                                                        
000a76   0e61     MOVLW     0x61                                                                                            
000a78   6ee6     MOVWF     0xe6,0x0                                                                                        
000a7a   0e00     MOVLW     0x0                                                                                             
000a7c   6ee6     MOVWF     0xe6,0x0                                                                                        
000a7e   ece9     CALL      0x15d2,0x0                                                                                      
000a80   f00a                                                                                                               
000a82   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000a84   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000a86   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                   }                                                                        C:\datalogger\firmware\user\user.c
                                               }                                                                            C:\datalogger\firmware\user\user.c
000a88   d000     BRA       0xa8a          return;                                                                          C:\datalogger\firmware\user\user.c
000a8a   0e0d     MOVLW     0xd            }                                                                                C:\datalogger\firmware\user\user.c
000a8c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
000a8e   e202     BC        0xa94                                                                                           
000a90   6ae1     CLRF      0xe1,0x0                                                                                        
000a92   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000a94   6ee1     MOVWF     0xe1,0x0                                                                                        
000a96   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000a98   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000a9a   ffd9                                                                                                               
000a9c   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           void BlinkUSBStatus(void)                                                        C:\datalogger\firmware\user\user.c
                                           {                                                                                C:\datalogger\firmware\user\user.c
                                               static word led_count=0;                                                     C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
000a9e   0100     MOVLB     0x0                if(led_count == 0)led_count = 10000U;                                        C:\datalogger\firmware\user\user.c
000aa0   51f7     MOVF      0xf7,0x0,0x1                                                                                    
000aa2   11f8     IORWF     0xf8,0x0,0x1                                                                                    
000aa4   e104     BNZ       0xaae                                                                                           
000aa6   0e10     MOVLW     0x10                                                                                            
000aa8   6ff7     MOVWF     0xf7,0x1                                                                                        
000aaa   0e27     MOVLW     0x27                                                                                            
000aac   6ff8     MOVWF     0xf8,0x1                                                                                        
000aae   07f7     DECF      0xf7,0x1,0x1       led_count--;                                                                 C:\datalogger\firmware\user\user.c
000ab0   0e00     MOVLW     0x0                                                                                             
000ab2   5bf8     SUBWFB    0xf8,0x1,0x1                                                                                    
                                                                                                                            C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                               #define mLED_Both_Off()         {mLED_1_Off();mLED_2_Off();}                 C:\datalogger\firmware\user\user.c
                                               #define mLED_Both_On()          {mLED_1_On();mLED_2_On();}                   C:\datalogger\firmware\user\user.c
                                               #define mLED_Only_1_On()        {mLED_1_On();mLED_2_Off();}                  C:\datalogger\firmware\user\user.c
                                               #define mLED_Only_2_On()        {mLED_1_Off();mLED_2_On();}                  C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
000ab4   a26d     BTFSS     0x6d,0x1,0x0       if(UCONbits.SUSPND == 1) //power conservation mode                           C:\datalogger\firmware\user\user.c
000ab6   d00b     BRA       0xace                                                                                           
                                               {                                                                            C:\datalogger\firmware\user\user.c
000ab8   51f7     MOVF      0xf7,0x0,0x1           if(led_count==0)                                                         C:\datalogger\firmware\user\user.c
000aba   11f8     IORWF     0xf8,0x0,0x1                                                                                    
000abc   e107     BNZ       0xacc                                                                                           
                                                   {                                                                        C:\datalogger\firmware\user\user.c
000abe   708c     BTG       0x8c,0x0,0x0               mLED_1_Toggle();                                                     C:\datalogger\firmware\user\user.c
000ac0   508c     MOVF      0x8c,0x0,0x0               mLED_2 = mLED_1;        // Both blink at the same time               C:\datalogger\firmware\user\user.c
000ac2   0b01     ANDLW     0x1                                                                                             
000ac4   e002     BZ        0xaca                                                                                           
000ac6   828c     BSF       0x8c,0x1,0x0                                                                                    
000ac8   d001     BRA       0xacc                                                                                           
000aca   928c     BCF       0x8c,0x1,0x0                                                                                    
                                                   }//end if                                                                C:\datalogger\firmware\user\user.c
                                               }                                                                            C:\datalogger\firmware\user\user.c
000acc   d02f     BRA       0xb2c              else                                                                         C:\datalogger\firmware\user\user.c
                                               {                                                                            C:\datalogger\firmware\user\user.c
000ace   0100     MOVLB     0x0                    if(usb_device_state == DETACHED_STATE)                                   C:\datalogger\firmware\user\user.c
000ad0   51f1     MOVF      0xf1,0x0,0x1                                                                                    
000ad2   e103     BNZ       0xada                                                                                           
                                                   {                                                                        C:\datalogger\firmware\user\user.c
000ad4   908c     BCF       0x8c,0x0,0x0               mLED_Both_Off();                                                     C:\datalogger\firmware\user\user.c
000ad6   928c     BCF       0x8c,0x1,0x0                                                                                    
                                                                                                                            C:\datalogger\firmware\user\user.c
                                                   }                                                                        C:\datalogger\firmware\user\user.c
000ad8   d029     BRA       0xb2c                  else if(usb_device_state == ATTACHED_STATE)                              C:\datalogger\firmware\user\user.c
000ada   05f1     DECF      0xf1,0x0,0x1                                                                                    
000adc   e103     BNZ       0xae4                                                                                           
                                                   {                                                                        C:\datalogger\firmware\user\user.c
000ade   808c     BSF       0x8c,0x0,0x0               mLED_Both_On();                                                      C:\datalogger\firmware\user\user.c
000ae0   828c     BSF       0x8c,0x1,0x0                                                                                    
                                                   }                                                                        C:\datalogger\firmware\user\user.c
000ae2   d024     BRA       0xb2c                  else if(usb_device_state == POWERED_STATE)                               C:\datalogger\firmware\user\user.c
000ae4   0e02     MOVLW     0x2                                                                                             
000ae6   5df1     SUBWF     0xf1,0x0,0x1                                                                                    
000ae8   e103     BNZ       0xaf0                                                                                           
                                                   {                                                                        C:\datalogger\firmware\user\user.c
000aea   808c     BSF       0x8c,0x0,0x0               mLED_Only_1_On();                                                    C:\datalogger\firmware\user\user.c
000aec   928c     BCF       0x8c,0x1,0x0                                                                                    
                                                   }                                                                        C:\datalogger\firmware\user\user.c
000aee   d01e     BRA       0xb2c                  else if(usb_device_state == DEFAULT_STATE)                               C:\datalogger\firmware\user\user.c
000af0   0e03     MOVLW     0x3                                                                                             
000af2   5df1     SUBWF     0xf1,0x0,0x1                                                                                    
000af4   e103     BNZ       0xafc                                                                                           
                                                   {                                                                        C:\datalogger\firmware\user\user.c
000af6   908c     BCF       0x8c,0x0,0x0               mLED_Only_2_On();                                                    C:\datalogger\firmware\user\user.c
000af8   828c     BSF       0x8c,0x1,0x0                                                                                    
                                                   }                                                                        C:\datalogger\firmware\user\user.c
000afa   d018     BRA       0xb2c                  else if(usb_device_state == ADDRESS_STATE)                               C:\datalogger\firmware\user\user.c
000afc   0e05     MOVLW     0x5                                                                                             
000afe   5df1     SUBWF     0xf1,0x0,0x1                                                                                    
000b00   e107     BNZ       0xb10                                                                                           
                                                   {                                                                        C:\datalogger\firmware\user\user.c
000b02   0100     MOVLB     0x0                        if(led_count == 0)                                                   C:\datalogger\firmware\user\user.c
000b04   51f7     MOVF      0xf7,0x0,0x1                                                                                    
000b06   11f8     IORWF     0xf8,0x0,0x1                                                                                    
000b08   e102     BNZ       0xb0e                                                                                           
                                                       {                                                                    C:\datalogger\firmware\user\user.c
000b0a   708c     BTG       0x8c,0x0,0x0                   mLED_1_Toggle();                                                 C:\datalogger\firmware\user\user.c
000b0c   928c     BCF       0x8c,0x1,0x0                   mLED_2_Off();                                                    C:\datalogger\firmware\user\user.c
                                                       }                                                                    C:\datalogger\firmware\user\user.c
                                                   }                                                                        C:\datalogger\firmware\user\user.c
000b0e   d00e     BRA       0xb2c                  else if(usb_device_state == CONFIGURED_STATE)                            C:\datalogger\firmware\user\user.c
000b10   0e06     MOVLW     0x6                                                                                             
000b12   5df1     SUBWF     0xf1,0x0,0x1                                                                                    
000b14   e10b     BNZ       0xb2c                                                                                           
                                                   {                                                                        C:\datalogger\firmware\user\user.c
000b16   0100     MOVLB     0x0                        if(led_count==0)                                                     C:\datalogger\firmware\user\user.c
000b18   51f7     MOVF      0xf7,0x0,0x1                                                                                    
000b1a   11f8     IORWF     0xf8,0x0,0x1                                                                                    
000b1c   e107     BNZ       0xb2c                                                                                           
                                                       {                                                                    C:\datalogger\firmware\user\user.c
000b1e   708c     BTG       0x8c,0x0,0x0                   mLED_1_Toggle();                                                 C:\datalogger\firmware\user\user.c
000b20   508c     MOVF      0x8c,0x0,0x0                   mLED_2 = !mLED_1;       // Alternate blink                       C:\datalogger\firmware\user\user.c
000b22   0b01     ANDLW     0x1                                                                                             
000b24   e002     BZ        0xb2a                                                                                           
000b26   928c     BCF       0x8c,0x1,0x0                                                                                    
000b28   d001     BRA       0xb2c                                                                                           
000b2a   828c     BSF       0x8c,0x1,0x0                                                                                    
                                                       }                                                                    C:\datalogger\firmware\user\user.c
                                                   }                                                                        C:\datalogger\firmware\user\user.c
                                               }                                                                            C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
000b2c   0012     RETURN    0x0            }                                                                                C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           //UCAM                                                                           C:\datalogger\firmware\user\user.c
                                           //code section will blink LEDs 5 times                                           C:\datalogger\firmware\user\user.c
                                           // For some reason this writes the ENTIRE PORTD                                  C:\datalogger\firmware\user\user.c
000b2e   cfd9     MOVFF     0xfd9,0xfe6    void Blink(byte onState)                                                         C:\datalogger\firmware\user\user.c
000b30   ffe6                                                                                                               
000b32   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000b34   ffd9                                                                                                               
                                           {                                                                                C:\datalogger\firmware\user\user.c
000b36   0efe     MOVLW     0xfe           	LATD = onState;                                                                 C:\datalogger\firmware\user\user.c
000b38   50db     MOVF      0xdb,0x0,0x0                                                                                    
000b3a   6e8c     MOVWF     0x8c,0x0                                                                                        
000b3c   d000     BRA       0xb3e          	return;                                                                         C:\datalogger\firmware\user\user.c
000b3e   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\datalogger\firmware\user\user.c
000b40   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000b42   ffd9                                                                                                               
000b44   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\datalogger\firmware\user\user.c
000b46   cfd9     MOVFF     0xfd9,0xfe6    byte ReadPOT(void)                                                               C:\datalogger\firmware\user\user.c
000b48   ffe6                                                                                                               
000b4a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000b4c   ffd9                                                                                                               
000b4e   0e02     MOVLW     0x2                                                                                             
000b50   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\datalogger\firmware\user\user.c
                                           	byte low, high;                                                                 C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
000b52   82c2     BSF       0xc2,0x1,0x0       ADCON0bits.GO = 1;              // Start AD conversion                       C:\datalogger\firmware\user\user.c
000b54   b2c2     BTFSC     0xc2,0x1,0x0       while(ADCON0bits.NOT_DONE);     // Wait for conversion                       C:\datalogger\firmware\user\user.c
000b56   d7fe     BRA       0xb54                                                                                           
000b58   50c3     MOVF      0xc3,0x0,0x0   	low = ADRESL;                                                                   C:\datalogger\firmware\user\user.c
000b5a   6edf     MOVWF     0xdf,0x0                                                                                        
000b5c   0e01     MOVLW     0x1            	high = ADRESH;                                                                  C:\datalogger\firmware\user\user.c
000b5e   cfc4     MOVFF     0xfc4,0xfdb                                                                                     
000b60   ffdb                                                                                                               
000b62   90d8     BCF       0xd8,0x0,0x0   	low >>= 2;                                                                      C:\datalogger\firmware\user\user.c
000b64   32df     RRCF      0xdf,0x1,0x0                                                                                    
000b66   90d8     BCF       0xd8,0x0,0x0                                                                                    
000b68   32df     RRCF      0xdf,0x1,0x0                                                                                    
000b6a   cfdb     MOVFF     0xfdb,0xff3    	high <<= 6;                                                                     C:\datalogger\firmware\user\user.c
000b6c   fff3                                                                                                               
000b6e   40f3     RRNCF     0xf3,0x0,0x0                                                                                    
000b70   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000b72   0bc0     ANDLW     0xc0                                                                                            
000b74   6ef3     MOVWF     0xf3,0x0                                                                                        
000b76   0e01     MOVLW     0x1                                                                                             
000b78   cff3     MOVFF     0xff3,0xfdb                                                                                     
000b7a   ffdb                                                                                                               
000b7c   50db     MOVF      0xdb,0x0,0x0       return (low | high);                                                         C:\datalogger\firmware\user\user.c
000b7e   10df     IORWF     0xdf,0x0,0x0                                                                                    
000b80   6e14     MOVWF     0x14,0x0       }                                                                                C:\datalogger\firmware\user\user.c
000b82   0e02     MOVLW     0x2                                                                                             
000b84   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
000b86   e203     BC        0xb8e                                                                                           
000b88   d000     BRA       0xb8a                                                                                           
000b8a   6ae1     CLRF      0xe1,0x0                                                                                        
000b8c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000b8e   6ee1     MOVWF     0xe1,0x0                                                                                        
000b90   5014     MOVF      0x14,0x0,0x0                                                                                    
000b92   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000b94   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000b96   ffd9                                                                                                               
000b98   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           /**                                                                              C:\datalogger\firmware\user\user.c
                                            * Run lots of ADC samples and toggle an IO                                      C:\datalogger\firmware\user\user.c
                                            * to test sampling rate.                                                        C:\datalogger\firmware\user\user.c
                                            */                                                                              C:\datalogger\firmware\user\user.c
000b9a   cfd9     MOVFF     0xfd9,0xfe6    void nullSampler(void)                                                           C:\datalogger\firmware\user\user.c
000b9c   ffe6                                                                                                               
000b9e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000ba0   ffd9                                                                                                               
000ba2   0e02     MOVLW     0x2                                                                                             
000ba4   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\datalogger\firmware\user\user.c
                                           	uint16_t i;                                                                     C:\datalogger\firmware\user\user.c
000ba6   6ade     CLRF      0xde,0x0       	for( i = 0; i < 65535; i++)                                                     C:\datalogger\firmware\user\user.c
000ba8   6add     CLRF      0xdd,0x0                                                                                        
000baa   cfde     MOVFF     0xfde,0x14                                                                                      
000bac   f014                                                                                                               
000bae   cfdd     MOVFF     0xfdd,0x15                                                                                      
000bb0   f015                                                                                                               
000bb2   6a16     CLRF      0x16,0x0                                                                                        
000bb4   90d8     BCF       0xd8,0x0,0x0                                                                                    
000bb6   5016     MOVF      0x16,0x0,0x0                                                                                    
000bb8   0a00     XORLW     0x0                                                                                             
000bba   e606     BN        0xbc8                                                                                           
000bbc   0eff     MOVLW     0xff                                                                                            
000bbe   5c14     SUBWF     0x14,0x0,0x0                                                                                    
000bc0   0eff     MOVLW     0xff                                                                                            
000bc2   5815     SUBWFB    0x15,0x0,0x0                                                                                    
000bc4   0e00     MOVLW     0x0                                                                                             
000bc6   5816     SUBWFB    0x16,0x0,0x0                                                                                    
000bc8   e20d     BC        0xbe4                                                                                           
000bda   2adf     INCF      0xdf,0x1,0x0                                                                                    
000bdc   0e01     MOVLW     0x1                                                                                             
000bde   e301     BNC       0xbe2                                                                                           
000be0   2adb     INCF      0xdb,0x1,0x0                                                                                    
000be2   d7e3     BRA       0xbaa                                                                                           
                                           	{                                                                               C:\datalogger\firmware\user\user.c
000bca   82c2     BSF       0xc2,0x1,0x0   		ADCON0bits.GO = 1;                                                             C:\datalogger\firmware\user\user.c
000bcc   b2c2     BTFSC     0xc2,0x1,0x0       	while(ADCON0bits.NOT_DONE);                                                 C:\datalogger\firmware\user\user.c
000bce   d7fe     BRA       0xbcc                                                                                           
000bd0   508c     MOVF      0x8c,0x0,0x0   		LATD = ~(LATDbits.LATD0) & 0x01;                                               C:\datalogger\firmware\user\user.c
000bd2   0b01     ANDLW     0x1                                                                                             
000bd4   1ce8     COMF      0xe8,0x0,0x0                                                                                    
000bd6   0b01     ANDLW     0x1                                                                                             
000bd8   6e8c     MOVWF     0x8c,0x0                                                                                        
                                           	}                                                                               C:\datalogger\firmware\user\user.c
                                           	return;                                                                         C:\datalogger\firmware\user\user.c
000be4   0e02     MOVLW     0x2            }                                                                                C:\datalogger\firmware\user\user.c
000be6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
000be8   e203     BC        0xbf0                                                                                           
000bea   d000     BRA       0xbec                                                                                           
000bec   6ae1     CLRF      0xe1,0x0                                                                                        
000bee   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000bf0   6ee1     MOVWF     0xe1,0x0                                                                                        
000bf2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000bf4   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000bf6   ffd9                                                                                                               
000bf8   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           void CheckButtons(void)                                                          C:\datalogger\firmware\user\user.c
                                           {                                                                                C:\datalogger\firmware\user\user.c
000bfa   d000     BRA       0xbfc          	return;                                                                         C:\datalogger\firmware\user\user.c
000bfc   0012     RETURN    0x0            }                                                                                C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           //Delay of 1 gives 6-8us (this is a totally useless number)                      C:\datalogger\firmware\user\user.c
000bfe   cfd9     MOVFF     0xfd9,0xfe6    void CallDelay(int delay)                                                        C:\datalogger\firmware\user\user.c
000c00   ffe6                                                                                                               
000c02   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000c04   ffd9                                                                                                               
000c06   0e02     MOVLW     0x2                                                                                             
000c08   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\datalogger\firmware\user\user.c
                                           	int i;                                                                          C:\datalogger\firmware\user\user.c
000c0a   6ade     CLRF      0xde,0x0       	for(i=0;i<delay;i++)                                                            C:\datalogger\firmware\user\user.c
000c0c   6add     CLRF      0xdd,0x0                                                                                        
000c0e   cfde     MOVFF     0xfde,0x14                                                                                      
000c10   f014                                                                                                               
000c12   cfdd     MOVFF     0xfdd,0x15                                                                                      
000c14   f015                                                                                                               
000c16   0efd     MOVLW     0xfd                                                                                            
000c18   cfdb     MOVFF     0xfdb,0x16                                                                                      
000c1a   f016                                                                                                               
000c1c   0efe     MOVLW     0xfe                                                                                            
000c1e   cfdb     MOVFF     0xfdb,0x17                                                                                      
000c20   f017                                                                                                               
000c22   5015     MOVF      0x15,0x0,0x0                                                                                    
000c24   1817     XORWF     0x17,0x0,0x0                                                                                    
000c26   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000c28   d002     BRA       0xc2e                                                                                           
000c2a   3417     RLCF      0x17,0x0,0x0                                                                                    
000c2c   d004     BRA       0xc36                                                                                           
000c2e   5016     MOVF      0x16,0x0,0x0                                                                                    
000c30   5c14     SUBWF     0x14,0x0,0x0                                                                                    
000c32   5017     MOVF      0x17,0x0,0x0                                                                                    
000c34   5815     SUBWFB    0x15,0x0,0x0                                                                                    
000c36   e205     BC        0xc42                                                                                           
000c38   2adf     INCF      0xdf,0x1,0x0                                                                                    
000c3a   0e01     MOVLW     0x1                                                                                             
000c3c   e301     BNC       0xc40                                                                                           
000c3e   2adb     INCF      0xdb,0x1,0x0                                                                                    
000c40   d7e6     BRA       0xc0e                                                                                           
                                           	{                                                                               C:\datalogger\firmware\user\user.c
                                           	}                                                                               C:\datalogger\firmware\user\user.c
                                           	return;                                                                         C:\datalogger\firmware\user\user.c
000c42   0e02     MOVLW     0x2            }                                                                                C:\datalogger\firmware\user\user.c
000c44   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
000c46   e203     BC        0xc4e                                                                                           
000c48   d000     BRA       0xc4a                                                                                           
000c4a   6ae1     CLRF      0xe1,0x0                                                                                        
000c4c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000c4e   6ee1     MOVWF     0xe1,0x0                                                                                        
000c50   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000c52   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000c54   ffd9                                                                                                               
000c56   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\datalogger\firmware\user\user.c
000c58   cfd9     MOVFF     0xfd9,0xfe6    void ThermWrite(int command)                                                     C:\datalogger\firmware\user\user.c
000c5a   ffe6                                                                                                               
000c5c   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000c5e   ffd9                                                                                                               
000c60   0e02     MOVLW     0x2                                                                                             
000c62   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\datalogger\firmware\user\user.c
                                           	int i;                                                                          C:\datalogger\firmware\user\user.c
                                           	//Set RD7 as OUTPUT                                                             C:\datalogger\firmware\user\user.c
                                           	                                                                                C:\datalogger\firmware\user\user.c
000c64   6ade     CLRF      0xde,0x0       	for (i=0;i<=15;i++)                                                             C:\datalogger\firmware\user\user.c
000c66   6add     CLRF      0xdd,0x0                                                                                        
000c68   cfde     MOVFF     0xfde,0x14                                                                                      
000c6a   f014                                                                                                               
000c6c   cfdd     MOVFF     0xfdd,0x15                                                                                      
000c6e   f015                                                                                                               
000c70   3415     RLCF      0x15,0x0,0x0                                                                                    
000c72   e204     BC        0xc7c                                                                                           
000c74   5014     MOVF      0x14,0x0,0x0                                                                                    
000c76   080f     SUBLW     0xf                                                                                             
000c78   0e00     MOVLW     0x0                                                                                             
000c7a   5415     SUBFWB    0x15,0x0,0x0                                                                                    
000c7c   e332     BNC       0xce2                                                                                           
000cd8   2adf     INCF      0xdf,0x1,0x0                                                                                    
000cda   0e01     MOVLW     0x1                                                                                             
000cdc   e301     BNC       0xce0                                                                                           
000cde   2adb     INCF      0xdb,0x1,0x0                                                                                    
000ce0   d7c3     BRA       0xc68                                                                                           
                                           	{                                                                               C:\datalogger\firmware\user\user.c
000c7e   0efd     MOVLW     0xfd           		if (command & 1)                                                               C:\datalogger\firmware\user\user.c
000c80   50db     MOVF      0xdb,0x0,0x0                                                                                    
000c82   0b01     ANDLW     0x1                                                                                             
000c84   e011     BZ        0xca8                                                                                           
                                           		{                                                                              C:\datalogger\firmware\user\user.c
000c86   0e18     MOVLW     0x18           			TRISD = 0x18;                                                                 C:\datalogger\firmware\user\user.c
000c88   6e95     MOVWF     0x95,0x0                                                                                        
000c8a   9c8c     BCF       0x8c,0x6,0x0   			LATDbits.LATD6 = 0;                                                           C:\datalogger\firmware\user\user.c
000c8c   0e01     MOVLW     0x1            			CallDelay(1);                                                                 C:\datalogger\firmware\user\user.c
000c8e   6ee6     MOVWF     0xe6,0x0                                                                                        
000c90   6ae6     CLRF      0xe6,0x0                                                                                        
000c92   dfb5     RCALL     0xbfe                                                                                           
000c94   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000c96   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000c98   8c8c     BSF       0x8c,0x6,0x0   			LATDbits.LATD6 = 1;                                                           C:\datalogger\firmware\user\user.c
                                           			//TRISD = 0xD8;                                                               C:\datalogger\firmware\user\user.c
000c9a   0e0a     MOVLW     0xa            			CallDelay(10);                                                                C:\datalogger\firmware\user\user.c
000c9c   6ee6     MOVWF     0xe6,0x0                                                                                        
000c9e   6ae6     CLRF      0xe6,0x0                                                                                        
000ca0   dfae     RCALL     0xbfe                                                                                           
000ca2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000ca4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           		}                                                                              C:\datalogger\firmware\user\user.c
000ca6   d009     BRA       0xcba          		else                                                                           C:\datalogger\firmware\user\user.c
                                           		{                                                                              C:\datalogger\firmware\user\user.c
000ca8   0e18     MOVLW     0x18           			TRISD = 0x18;                                                                 C:\datalogger\firmware\user\user.c
000caa   6e95     MOVWF     0x95,0x0                                                                                        
000cac   9c8c     BCF       0x8c,0x6,0x0   			LATDbits.LATD6 = 0;                                                           C:\datalogger\firmware\user\user.c
000cae   0e0b     MOVLW     0xb            			CallDelay(11);                                                                C:\datalogger\firmware\user\user.c
000cb0   6ee6     MOVWF     0xe6,0x0                                                                                        
000cb2   6ae6     CLRF      0xe6,0x0                                                                                        
000cb4   dfa4     RCALL     0xbfe                                                                                           
000cb6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000cb8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           			//CodeSectionAccessed(0x4);                                                   C:\datalogger\firmware\user\user.c
                                           		}                                                                              C:\datalogger\firmware\user\user.c
000cba   50d9     MOVF      0xd9,0x0,0x0   		command >>=1;                                                                  C:\datalogger\firmware\user\user.c
000cbc   0ffd     ADDLW     0xfd                                                                                            
000cbe   6ee9     MOVWF     0xe9,0x0                                                                                        
000cc0   0eff     MOVLW     0xff                                                                                            
000cc2   20da     ADDWFC    0xda,0x0,0x0                                                                                    
000cc4   6eea     MOVWF     0xea,0x0                                                                                        
000cc6   0e01     MOVLW     0x1                                                                                             
000cc8   0b0f     ANDLW     0xf                                                                                             
000cca   e006     BZ        0xcd8                                                                                           
000ccc   52ec     MOVF      0xec,0x1,0x0                                                                                    
000cce   90d8     BCF       0xd8,0x0,0x0                                                                                    
000cd0   32ed     RRCF      0xed,0x1,0x0                                                                                    
000cd2   32ef     RRCF      0xef,0x1,0x0                                                                                    
000cd4   06e8     DECF      0xe8,0x1,0x0                                                                                    
000cd6   e1fa     BNZ       0xccc                                                                                           
                                           	}                                                                               C:\datalogger\firmware\user\user.c
                                           	return;                                                                         C:\datalogger\firmware\user\user.c
000ce2   0e02     MOVLW     0x2            }                                                                                C:\datalogger\firmware\user\user.c
000ce4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
000ce6   e203     BC        0xcee                                                                                           
000ce8   d000     BRA       0xcea                                                                                           
000cea   6ae1     CLRF      0xe1,0x0                                                                                        
000cec   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000cee   6ee1     MOVWF     0xe1,0x0                                                                                        
000cf0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000cf2   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000cf4   ffd9                                                                                                               
000cf6   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\datalogger\firmware\user\user.c
000cf8   cfd9     MOVFF     0xfd9,0xfe6    int ThermReadTemp(void)                                                          C:\datalogger\firmware\user\user.c
000cfa   ffe6                                                                                                               
000cfc   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000cfe   ffd9                                                                                                               
000d00   0e12     MOVLW     0x12                                                                                            
000d02   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\datalogger\firmware\user\user.c
                                           	int i;                                                                          C:\datalogger\firmware\user\user.c
                                           	int finalTemp;                                                                  C:\datalogger\firmware\user\user.c
                                           	int temp[7];                                                                    C:\datalogger\firmware\user\user.c
000d04   6ade     CLRF      0xde,0x0       	for (i=0;i<=7;i++)                                                              C:\datalogger\firmware\user\user.c
000d06   6add     CLRF      0xdd,0x0                                                                                        
000d08   cfde     MOVFF     0xfde,0x14                                                                                      
000d0a   f014                                                                                                               
000d0c   cfdd     MOVFF     0xfdd,0x15                                                                                      
000d0e   f015                                                                                                               
000d10   3415     RLCF      0x15,0x0,0x0                                                                                    
000d12   e204     BC        0xd1c                                                                                           
000d14   5014     MOVF      0x14,0x0,0x0                                                                                    
000d16   0807     SUBLW     0x7                                                                                             
000d18   0e00     MOVLW     0x0                                                                                             
000d1a   5415     SUBFWB    0x15,0x0,0x0                                                                                    
000d1c   e35a     BNC       0xdd2                                                                                           
000dc8   2adf     INCF      0xdf,0x1,0x0                                                                                    
000dca   0e01     MOVLW     0x1                                                                                             
000dcc   e301     BNC       0xdd0                                                                                           
000dce   2adb     INCF      0xdb,0x1,0x0                                                                                    
000dd0   d79b     BRA       0xd08                                                                                           
                                           	{                                                                               C:\datalogger\firmware\user\user.c
000d1e   0e18     MOVLW     0x18           		TRISD = 0x18;                                                                  C:\datalogger\firmware\user\user.c
000d20   6e95     MOVWF     0x95,0x0                                                                                        
000d22   9e8c     BCF       0x8c,0x7,0x0   		LATDbits.LATD7 = 0;                                                            C:\datalogger\firmware\user\user.c
000d24   0e98     MOVLW     0x98           		TRISD = 0x98;                                                                  C:\datalogger\firmware\user\user.c
000d26   6e95     MOVWF     0x95,0x0                                                                                        
000d28   5083     MOVF      0x83,0x0,0x0   		temp[i] = temp_sense;                                                          C:\datalogger\firmware\user\user.c
000d2a   0b80     ANDLW     0x80                                                                                            
000d2c   e001     BZ        0xd30                                                                                           
000d2e   0e01     MOVLW     0x1                                                                                             
000d30   6ee6     MOVWF     0xe6,0x0                                                                                        
000d32   50d9     MOVF      0xd9,0x0,0x0                                                                                    
000d34   0f04     ADDLW     0x4                                                                                             
000d36   6e14     MOVWF     0x14,0x0                                                                                        
000d38   cfda     MOVFF     0xfda,0x15                                                                                      
000d3a   f015                                                                                                               
000d3c   0e02     MOVLW     0x2                                                                                             
000d3e   6e08     MOVWF     0x8,0x0                                                                                         
000d40   6a09     CLRF      0x9,0x0                                                                                         
000d42   cfde     MOVFF     0xfde,0xd                                                                                       
000d44   f00d                                                                                                               
000d46   cfdd     MOVFF     0xfdd,0xe                                                                                       
000d48   f00e                                                                                                               
000d4a   ec0e     CALL      0x181c,0x0                                                                                      
000d4c   f00c                                                                                                               
000d4e   5014     MOVF      0x14,0x0,0x0                                                                                    
000d50   2406     ADDWF     0x6,0x0,0x0                                                                                     
000d52   6ee9     MOVWF     0xe9,0x0                                                                                        
000d54   5015     MOVF      0x15,0x0,0x0                                                                                    
000d56   2007     ADDWFC    0x7,0x0,0x0                                                                                     
000d58   6eea     MOVWF     0xea,0x0                                                                                        
000d5a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000d5c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
000d5e   6eee     MOVWF     0xee,0x0                                                                                        
000d60   6aed     CLRF      0xed,0x0                                                                                        
000d62   0e08     MOVLW     0x8            		CallDelay(8);                                                                  C:\datalogger\firmware\user\user.c
000d64   6ee6     MOVWF     0xe6,0x0                                                                                        
000d66   6ae6     CLRF      0xe6,0x0                                                                                        
000d68   df4a     RCALL     0xbfe                                                                                           
000d6a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000d6c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000d6e   50d9     MOVF      0xd9,0x0,0x0   		if (temp[i]){                                                                  C:\datalogger\firmware\user\user.c
000d70   0f04     ADDLW     0x4                                                                                             
000d72   6e14     MOVWF     0x14,0x0                                                                                        
000d74   cfda     MOVFF     0xfda,0x15                                                                                      
000d76   f015                                                                                                               
000d78   0e02     MOVLW     0x2                                                                                             
000d7a   6e08     MOVWF     0x8,0x0                                                                                         
000d7c   6a09     CLRF      0x9,0x0                                                                                         
000d7e   cfde     MOVFF     0xfde,0xd                                                                                       
000d80   f00d                                                                                                               
000d82   cfdd     MOVFF     0xfdd,0xe                                                                                       
000d84   f00e                                                                                                               
000d86   ec0e     CALL      0x181c,0x0                                                                                      
000d88   f00c                                                                                                               
000d8a   5014     MOVF      0x14,0x0,0x0                                                                                    
000d8c   2406     ADDWF     0x6,0x0,0x0                                                                                     
000d8e   6ee9     MOVWF     0xe9,0x0                                                                                        
000d90   5015     MOVF      0x15,0x0,0x0                                                                                    
000d92   2007     ADDWFC    0x7,0x0,0x0                                                                                     
000d94   6eea     MOVWF     0xea,0x0                                                                                        
000d96   50ee     MOVF      0xee,0x0,0x0                                                                                    
000d98   10ed     IORWF     0xed,0x0,0x0                                                                                    
000d9a   e016     BZ        0xdc8                                                                                           
000d9c   0e01     MOVLW     0x1            			finalTemp += 1 << i;                                                          C:\datalogger\firmware\user\user.c
000d9e   52df     MOVF      0xdf,0x1,0x0                                                                                    
000da0   e006     BZ        0xdae                                                                                           
000da2   cfdf     MOVFF     0xfdf,0xff3                                                                                     
000da4   fff3                                                                                                               
000da6   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
000da8   0bfe     ANDLW     0xfe                                                                                            
000daa   06f3     DECF      0xf3,0x1,0x0                                                                                    
000dac   e1fc     BNZ       0xda6                                                                                           
000dae   6e14     MOVWF     0x14,0x0                                                                                        
000db0   6a15     CLRF      0x15,0x0                                                                                        
000db2   be14     BTFSC     0x14,0x7,0x0                                                                                    
000db4   6815     SETF      0x15,0x0                                                                                        
000db6   50d9     MOVF      0xd9,0x0,0x0                                                                                    
000db8   0f02     ADDLW     0x2                                                                                             
000dba   6ee9     MOVWF     0xe9,0x0                                                                                        
000dbc   cfda     MOVFF     0xfda,0xfea                                                                                     
000dbe   ffea                                                                                                               
000dc0   5014     MOVF      0x14,0x0,0x0                                                                                    
000dc2   26ee     ADDWF     0xee,0x1,0x0                                                                                    
000dc4   5015     MOVF      0x15,0x0,0x0                                                                                    
000dc6   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
                                           		}                                                                              C:\datalogger\firmware\user\user.c
                                           	}                                                                               C:\datalogger\firmware\user\user.c
                                           	//CodeSectionAccessed(0x4);                                                     C:\datalogger\firmware\user\user.c
000dd2   0e02     MOVLW     0x2            	return finalTemp;                                                               C:\datalogger\firmware\user\user.c
000dd4   cfdb     MOVFF     0xfdb,0x14                                                                                      
000dd6   f014                                                                                                               
000dd8   0e03     MOVLW     0x3                                                                                             
000dda   cfdb     MOVFF     0xfdb,0x15                                                                                      
000ddc   f015                                                                                                               
000dde   c014     MOVFF     0x14,0xff3                                                                                      
000de0   fff3                                                                                                               
000de2   c015     MOVFF     0x15,0xff4                                                                                      
000de4   fff4                                                                                                               
000de6   0e12     MOVLW     0x12           }                                                                                C:\datalogger\firmware\user\user.c
000de8   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
000dea   e203     BC        0xdf2                                                                                           
000dec   d000     BRA       0xdee                                                                                           
000dee   6ae1     CLRF      0xe1,0x0                                                                                        
000df0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000df2   6ee1     MOVWF     0xe1,0x0                                                                                        
000df4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000df6   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000df8   ffd9                                                                                                               
000dfa   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           void ThermSendReset(void)                                                        C:\datalogger\firmware\user\user.c
                                           {                                                                                C:\datalogger\firmware\user\user.c
000dfc   0e18     MOVLW     0x18           	TRISD = 0x18; //Set all but RD3, RD4 as output                                  C:\datalogger\firmware\user\user.c
000dfe   6e95     MOVWF     0x95,0x0                                                                                        
000e00   9e8c     BCF       0x8c,0x7,0x0   	LATDbits.LATD7 = 0;  //Pull Data line low                                       C:\datalogger\firmware\user\user.c
000e02   0e53     MOVLW     0x53           	CallDelay(83);//CallDelay gives 6-8us delay per unit, min. 480us required       C:\datalogger\firmware\user\user.c
000e04   6ee6     MOVWF     0xe6,0x0                                                                                        
000e06   6ae6     CLRF      0xe6,0x0                                                                                        
000e08   defa     RCALL     0xbfe                                                                                           
000e0a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000e0c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           	//After 30us, thermometer returns 112us (60-240us) presence pulse (line low)    C:\datalogger\firmware\user\user.c
000e0e   0e98     MOVLW     0x98           	TRISD = 0x98;	//Set RD7 as INPUT                                                C:\datalogger\firmware\user\user.c
000e10   6e95     MOVWF     0x95,0x0                                                                                        
000e12   0e02     MOVLW     0x2            	CallDelay(2);                                                                   C:\datalogger\firmware\user\user.c
000e14   6ee6     MOVWF     0xe6,0x0                                                                                        
000e16   6ae6     CLRF      0xe6,0x0                                                                                        
000e18   def2     RCALL     0xbfe                                                                                           
000e1a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000e1c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000e1e   d000     BRA       0xe20          	return;                                                                         C:\datalogger\firmware\user\user.c
000e20   0012     RETURN    0x0            }//end ThermSendReset                                                            C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
000e22   cfd9     MOVFF     0xfd9,0xfe6    int ReadTemp(void)                                                               C:\datalogger\firmware\user\user.c
000e24   ffe6                                                                                                               
000e26   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000e28   ffd9                                                                                                               
000e2a   0e02     MOVLW     0x2                                                                                             
000e2c   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\datalogger\firmware\user\user.c
                                           	int deg;                                                                        C:\datalogger\firmware\user\user.c
000e2e   dfe6     RCALL     0xdfc          	ThermSendReset();                                                               C:\datalogger\firmware\user\user.c
000e30   0eaa     MOVLW     0xaa           	ThermWrite(0xAA);//Request temp command                                         C:\datalogger\firmware\user\user.c
000e32   6ee6     MOVWF     0xe6,0x0                                                                                        
000e34   6ae6     CLRF      0xe6,0x0                                                                                        
000e36   df10     RCALL     0xc58                                                                                           
000e38   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000e3a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           	//ThermWrite(0xF);//Request temp command                                        C:\datalogger\firmware\user\user.c
000e3c   df5d     RCALL     0xcf8          	deg = ThermReadTemp();                                                          C:\datalogger\firmware\user\user.c
000e3e   cff3     MOVFF     0xff3,0xfde                                                                                     
000e40   ffde                                                                                                               
000e42   cff4     MOVFF     0xff4,0xfdd                                                                                     
000e44   ffdd                                                                                                               
000e46   cfde     MOVFF     0xfde,0x14     	return deg;                                                                     C:\datalogger\firmware\user\user.c
000e48   f014                                                                                                               
000e4a   cfdd     MOVFF     0xfdd,0x15                                                                                      
000e4c   f015                                                                                                               
000e4e   c014     MOVFF     0x14,0xff3                                                                                      
000e50   fff3                                                                                                               
000e52   c015     MOVFF     0x15,0xff4                                                                                      
000e54   fff4                                                                                                               
000e56   0e02     MOVLW     0x2            }//end ReadTemp                                                                  C:\datalogger\firmware\user\user.c
000e58   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
000e5a   e203     BC        0xe62                                                                                           
000e5c   d000     BRA       0xe5e                                                                                           
000e5e   6ae1     CLRF      0xe1,0x0                                                                                        
000e60   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000e62   6ee1     MOVWF     0xe1,0x0                                                                                        
000e64   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000e66   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000e68   ffd9                                                                                                               
000e6a   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           void UserTasks(void)                                                             C:\datalogger\firmware\user\user.c
                                           {                                                                                C:\datalogger\firmware\user\user.c
000e6c   d000     BRA       0xe6e          	return;                                                                         C:\datalogger\firmware\user\user.c
000e6e   0012     RETURN    0x0            }                                                                                C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           void UserInit(void)                                                              C:\datalogger\firmware\user\user.c
                                           {                                                                                C:\datalogger\firmware\user\user.c
                                               //mInitAllLEDs();                                                            C:\datalogger\firmware\user\user.c
                                           	//TRISAbits.TRISA0=1;                                                           C:\datalogger\firmware\user\user.c
                                           	//ADCON0=0x01;                                                                  C:\datalogger\firmware\user\user.c
                                           	//ADCON2=0x3C;                                                                  C:\datalogger\firmware\user\user.c
                                               //ADCON2bits.ADFM = 1;   // ADC result right justified                       C:\datalogger\firmware\user\user.c
                                           	// Set RD0 and RD1 as output                                                    C:\datalogger\firmware\user\user.c
000e70   80c1     BSF       0xc1,0x0,0x0   	ADCON1bits.PCFG0 = 1;                                                           C:\datalogger\firmware\user\user.c
000e72   82c1     BSF       0xc1,0x1,0x0   	ADCON1bits.PCFG1 = 1;                                                           C:\datalogger\firmware\user\user.c
000e74   84c1     BSF       0xc1,0x2,0x0   	ADCON1bits.PCFG2 = 1;                                                           C:\datalogger\firmware\user\user.c
000e76   86c1     BSF       0xc1,0x3,0x0   	ADCON1bits.PCFG3 = 1;                                                           C:\datalogger\firmware\user\user.c
000e78   8093     BSF       0x93,0x0,0x0   	TRISBbits.TRISB0 = 1;                                                           C:\datalogger\firmware\user\user.c
000e7a   9095     BCF       0x95,0x0,0x0   	TRISDbits.TRISD0 = 0;                                                           C:\datalogger\firmware\user\user.c
000e7c   9295     BCF       0x95,0x1,0x0   	TRISDbits.TRISD1 = 0;                                                           C:\datalogger\firmware\user\user.c
000e7e   0012     RETURN    0x0            }                                                                                C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                                                                                                            C:\datalogger\firmware\user\user.c
                                           /** EOF user.c ***************************************************************/  C:\datalogger\firmware\user\user.c
                                           /** I N C L U D E S **********************************************************/  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           #include <p18cxxx.h>                                                             C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           #include "system\typedefs.h"                                                     C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           #include "system\usb\usb.h"                                                      C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           #ifdef USB_USE_GEN                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           /** V A R I A B L E S ********************************************************/  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           #pragma udata                                                                    C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           byte usbgen_rx_len;                                                              C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           /** D E C L A R A T I O N S **************************************************/  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           #pragma code                                                                     C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           /** U S E R  A P I ***********************************************************/  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * Function:        void USBGenInitEP(void)                                      C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * PreCondition:    None                                                         C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * Input:           None                                                         C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * Overview:        USBGenInitEP initializes generic endpoints, buffer           C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  descriptors, internal state-machine, and variables.          C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  It should be called after the USB host has sent out a        C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  SET_CONFIGURATION request.                                   C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  See USBStdSetCfgHandler() in usb9.c for examples.            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * Note:            None                                                         C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           void USBGenInitEP(void)                                                          C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           {                                                                                C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015a8   0100     MOVLB     0x0                usbgen_rx_len = 0;                                                           C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015aa   6bf9     CLRF      0xf9,0x1                                                                                        
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015ac   0e1e     MOVLW     0x1e               USBGEN_UEP = EP_OUT_IN|HSHK_EN;             // Enable 2 data pipes           C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015ae   6e71     MOVWF     0x71,0x0                                                                                        
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                * Do not have to init Cnt of IN pipes here.                                 C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                * Reason:  Number of bytes to send to the host                              C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                *          varies from one transaction to                                   C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                *          another. Cnt should equal the exact                              C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                *          number of bytes to transmit for                                  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                *          a given IN transaction.                                          C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                *          This number of bytes will only                                   C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                *          be known right before the data is                                C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                *          sent.                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                */                                                                          C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015b0   0104     MOVLB     0x4                USBGEN_BD_OUT.Cnt = sizeof(usbgen_out);     // Set buffer size               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015b2   0e40     MOVLW     0x40                                                                                            
0015b4   6f09     MOVWF     0x9,0x1                                                                                         
0015b6   0e28     MOVLW     0x28               USBGEN_BD_OUT.ADR = (byte*)&usbgen_out;     // Set buffer address            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015b8   6f0a     MOVWF     0xa,0x1                                                                                         
0015ba   0e04     MOVLW     0x4                                                                                             
0015bc   6f0b     MOVWF     0xb,0x1                                                                                         
0015be   0e88     MOVLW     0x88               USBGEN_BD_OUT.Stat._byte = _USIE|_DAT0|_DTSEN;// Set status                  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015c0   6f08     MOVWF     0x8,0x1                                                                                         
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015c2   0104     MOVLB     0x4                USBGEN_BD_IN.ADR = (byte*)&usbgen_in;      // Set buffer address             C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015c4   0e68     MOVLW     0x68                                                                                            
0015c6   6f0e     MOVWF     0xe,0x1                                                                                         
0015c8   0e04     MOVLW     0x4                                                                                             
0015ca   6f0f     MOVWF     0xf,0x1                                                                                         
0015cc   0e40     MOVLW     0x40               USBGEN_BD_IN.Stat._byte = _UCPU|_DAT1;      // Set buffer status             C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015ce   6f0c     MOVWF     0xc,0x1                                                                                         
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015d0   0012     RETURN    0x0            }//end USBGenInitEP                                                              C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * Function:        void USBGenWrite(byte *buffer, byte len)                     C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * PreCondition:    mUSBGenTxIsBusy() must return false.                         C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  Value of 'len' must be equal to or smaller than              C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  USBGEN_EP_SIZE                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  For an interrupt/bulk endpoint, the largest buffer size is   C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  64 bytes.                                                    C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * Input:           buffer  : Pointer to the starting location of data bytes     C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  len     : Number of bytes to be transferred                  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * Output:          None                                                         C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * Side Effects:    None                                                         C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * Overview:        Use this macro to transfer data located in data memory.      C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  Remember: mUSBGenTxIsBusy() must return false before user    C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  can call this function.                                      C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  Unexpected behavior will occur if this function is called    C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  when mUSBGenTxIsBusy() != 0                                  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  Typical Usage:                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  if(!mUSBGenTxIsBusy())                                       C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                      USBGenWrite(buffer, 3);                                  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * Note:            None                                                         C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015d2   cfd9     MOVFF     0xfd9,0xfe6    void USBGenWrite(byte *buffer, byte len)                                         C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015d4   ffe6                                                                                                               
0015d6   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0015d8   ffd9                                                                                                               
0015da   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           	byte i;                                                                         C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           	                                                                                C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                               /*                                                                           C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                * Value of len should be equal to or smaller than USBGEN_EP_SIZE.           C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                * This check forces the value of len to meet the precondition.              C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                */                                                                          C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015dc   0efc     MOVLW     0xfc           	if(len > USBGEN_EP_SIZE)                                                        C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015de   50db     MOVF      0xdb,0x0,0x0                                                                                    
0015e0   0840     SUBLW     0x40                                                                                            
0015e2   e205     BC        0x15ee                                                                                          
0015e4   0e40     MOVLW     0x40           	    len = USBGEN_EP_SIZE;                                                       C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015e6   6ef3     MOVWF     0xf3,0x0                                                                                        
0015e8   0efc     MOVLW     0xfc                                                                                            
0015ea   cff3     MOVFF     0xff3,0xfdb                                                                                     
0015ec   ffdb                                                                                                               
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                              /*                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                               * Copy data from user's buffer to dual-ram buffer                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                               */                                                                           C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015ee   6adf     CLRF      0xdf,0x0           for (i = 0; i < len; i++)                                                    C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015f0   0efc     MOVLW     0xfc                                                                                            
0015f2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0015f4   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0015f6   e219     BC        0x162a                                                                                          
001626   2adf     INCF      0xdf,0x1,0x0                                                                                    
001628   d7e3     BRA       0x15f0                                                                                          
0015f8   50df     MOVF      0xdf,0x0,0x0       	usbgen_in[i] = buffer[i];                                                   C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0015fa   6ee7     MOVWF     0xe7,0x0                                                                                        
0015fc   0efd     MOVLW     0xfd                                                                                            
0015fe   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
001600   ffe9                                                                                                               
001602   0efe     MOVLW     0xfe                                                                                            
001604   cfdb     MOVFF     0xfdb,0xfea                                                                                     
001606   ffea                                                                                                               
001608   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00160a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00160c   0e00     MOVLW     0x0                                                                                             
00160e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001610   50ef     MOVF      0xef,0x0,0x0                                                                                    
001612   6ee6     MOVWF     0xe6,0x0                                                                                        
001614   50df     MOVF      0xdf,0x0,0x0                                                                                    
001616   6aea     CLRF      0xea,0x0                                                                                        
001618   0f68     ADDLW     0x68                                                                                            
00161a   6ee9     MOVWF     0xe9,0x0                                                                                        
00161c   0e04     MOVLW     0x4                                                                                             
00161e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001620   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001622   50e7     MOVF      0xe7,0x0,0x0                                                                                    
001624   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
00162a   0efc     MOVLW     0xfc               USBGEN_BD_IN.Cnt = len;                                                      C:\datalogger\firmware\system\usb\class\generic\usbgen.c
00162c   cfdb     MOVFF     0xfdb,0x40d                                                                                     
00162e   f40d                                                                                                               
001630   0e40     MOVLW     0x40               mUSBBufferReady(USBGEN_BD_IN);                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
001632   0104     MOVLB     0x4                                                                                             
001634   170c     ANDWF     0xc,0x1,0x1                                                                                     
001636   7d0c     BTG       0xc,0x6,0x1                                                                                     
001638   0e88     MOVLW     0x88                                                                                            
00163a   130c     IORWF     0xc,0x1,0x1                                                                                     
                                           		//mod by Tim                                                                   C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           		//CodeSectionAccessed(0x2);                                                    C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           		//end mod by Tim                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
00163c   52e5     MOVF      0xe5,0x1,0x0   }//end USBGenWrite                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
00163e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001640   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001642   ffd9                                                                                                               
001644   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           /******************************************************************************  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * Function:        byte USBGenRead(byte *buffer, byte len)                      C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * PreCondition:    Value of input argument 'len' should be smaller than the     C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  maximum endpoint size responsible for receiving report       C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  data from USB host for HID class.                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  Input argument 'buffer' should point to a buffer area that   C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  is bigger or equal to the size specified by 'len'.           C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * Input:           buffer  : Pointer to where received bytes are to be stored   C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  len     : The number of bytes expected.                      C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * Output:          The number of bytes copied to buffer.                        C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * Side Effects:    Publicly accessible variable usbgen_rx_len is updated        C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  with the number of bytes copied to buffer.                   C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  Once USBGenRead is called, subsequent retrieval of           C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  usbgen_rx_len can be done by calling macro                   C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  mUSBGenGetRxLength().                                        C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * Overview:        USBGenRead copies a string of bytes received through         C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  the OUT endpoint to a user's specified location.             C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  It is a non-blocking function. It does not wait              C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  for data if there is no data available. Instead it returns   C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  '0' to notify the caller that there is no data available.    C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                                                                               C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            * Note:            If the actual number of bytes received is larger than the    C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  number of bytes expected (len), only the expected number     C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  of bytes specified will be copied to buffer.                 C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  If the actual number of bytes received is smaller than the   C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  number of bytes expected (len), only the actual number       C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *                  of bytes received will be copied to buffer.                  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                            *****************************************************************************/  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
001646   cfd9     MOVFF     0xfd9,0xfe6    byte USBGenRead(byte *buffer, byte len)                                          C:\datalogger\firmware\system\usb\class\generic\usbgen.c
001648   ffe6                                                                                                               
00164a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00164c   ffd9                                                                                                               
                                           {                                                                                C:\datalogger\firmware\system\usb\class\generic\usbgen.c
00164e   0100     MOVLB     0x0                usbgen_rx_len = 0;                                                           C:\datalogger\firmware\system\usb\class\generic\usbgen.c
001650   6bf9     CLRF      0xf9,0x1                                                                                        
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
001652   0104     MOVLB     0x4                if(!mUSBGenRxIsBusy())                                                       C:\datalogger\firmware\system\usb\class\generic\usbgen.c
001654   bf08     BTFSC     0x8,0x7,0x1                                                                                     
001656   d030     BRA       0x16b8                                                                                          
                                               {                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                   /*                                                                       C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                    * Adjust the expected number of bytes to equal                          C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                    * the actual number of bytes received.                                  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                    */                                                                      C:\datalogger\firmware\system\usb\class\generic\usbgen.c
001658   0efc     MOVLW     0xfc                   if(len > USBGEN_BD_OUT.Cnt)                                              C:\datalogger\firmware\system\usb\class\generic\usbgen.c
00165a   cfdb     MOVFF     0xfdb,0x14                                                                                      
00165c   f014                                                                                                               
00165e   5109     MOVF      0x9,0x0,0x1                                                                                     
001660   80d8     BSF       0xd8,0x0,0x0                                                                                    
001662   5414     SUBFWB    0x14,0x0,0x0                                                                                    
001664   e203     BC        0x166c                                                                                          
001666   0efc     MOVLW     0xfc                       len = USBGEN_BD_OUT.Cnt;                                             C:\datalogger\firmware\system\usb\class\generic\usbgen.c
001668   c409     MOVFF     0x409,0xfdb                                                                                     
00166a   ffdb                                                                                                               
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                   /*                                                                       C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                    * Copy data from dual-ram buffer to user's buffer                       C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                    */                                                                      C:\datalogger\firmware\system\usb\class\generic\usbgen.c
00166c   0100     MOVLB     0x0                    for(usbgen_rx_len = 0; usbgen_rx_len < len; usbgen_rx_len++)             C:\datalogger\firmware\system\usb\class\generic\usbgen.c
00166e   6bf9     CLRF      0xf9,0x1                                                                                        
001670   0efc     MOVLW     0xfc                                                                                            
001672   50db     MOVF      0xdb,0x0,0x0                                                                                    
001674   5df9     SUBWF     0xf9,0x0,0x1                                                                                    
001676   e219     BC        0x16aa                                                                                          
0016a6   2bf9     INCF      0xf9,0x1,0x1                                                                                    
0016a8   d7e3     BRA       0x1670                                                                                          
001678   51f9     MOVF      0xf9,0x0,0x1               buffer[usbgen_rx_len] = usbgen_out[usbgen_rx_len];                   C:\datalogger\firmware\system\usb\class\generic\usbgen.c
00167a   6aea     CLRF      0xea,0x0                                                                                        
00167c   0f28     ADDLW     0x28                                                                                            
00167e   6ee9     MOVWF     0xe9,0x0                                                                                        
001680   0e04     MOVLW     0x4                                                                                             
001682   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001684   50ef     MOVF      0xef,0x0,0x0                                                                                    
001686   6ee6     MOVWF     0xe6,0x0                                                                                        
001688   51f9     MOVF      0xf9,0x0,0x1                                                                                    
00168a   6ee7     MOVWF     0xe7,0x0                                                                                        
00168c   0efd     MOVLW     0xfd                                                                                            
00168e   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
001690   ffe9                                                                                                               
001692   0efe     MOVLW     0xfe                                                                                            
001694   cfdb     MOVFF     0xfdb,0xfea                                                                                     
001696   ffea                                                                                                               
001698   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00169a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00169c   0e00     MOVLW     0x0                                                                                             
00169e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0016a0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0016a2   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0016a4   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                   /*                                                                       C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                    * Prepare dual-ram buffer for next OUT transaction                      C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                    */                                                                      C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0016aa   0104     MOVLB     0x4                    USBGEN_BD_OUT.Cnt = sizeof(usbgen_out);                                  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0016ac   0e40     MOVLW     0x40                                                                                            
0016ae   6f09     MOVWF     0x9,0x1                                                                                         
0016b0   1708     ANDWF     0x8,0x1,0x1            mUSBBufferReady(USBGEN_BD_OUT);                                          C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0016b2   7d08     BTG       0x8,0x6,0x1                                                                                     
0016b4   0e88     MOVLW     0x88                                                                                            
0016b6   1308     IORWF     0x8,0x1,0x1                                                                                     
                                               }//end if                                                                    C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0016b8   0100     MOVLB     0x0                return usbgen_rx_len;                                                        C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0016ba   51f9     MOVF      0xf9,0x0,0x1                                                                                    
0016bc   d000     BRA       0x16be                                                                                          
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0016be   52e5     MOVF      0xe5,0x1,0x0   }//end USBGenRead                                                                C:\datalogger\firmware\system\usb\class\generic\usbgen.c
0016c0   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0016c2   ffd9                                                                                                               
0016c4   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           #endif //def USB_USE_GEN                                                         C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                                                                                                            C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           /** EOF usbgen.c *************************************************************/  C:\datalogger\firmware\system\usb\class\generic\usbgen.c
                                           /**                                                                              C:\datalogger\firmware\logic\logic.c
                                            * SB3 Datalogger Project                                                        C:\datalogger\firmware\logic\logic.c
                                            * David Turner & Jon Sowman                                                     C:\datalogger\firmware\logic\logic.c
                                            * May 2012                                                                      C:\datalogger\firmware\logic\logic.c
                                            */                                                                              C:\datalogger\firmware\logic\logic.c
                                           #include <p18cxxx.h>                                                             C:\datalogger\firmware\logic\logic.c
                                           #include <usart.h>                                                               C:\datalogger\firmware\logic\logic.c
                                           #include <timers.h>                                                              C:\datalogger\firmware\logic\logic.c
                                           #include "system\typedefs.h"                                                     C:\datalogger\firmware\logic\logic.c
                                           #include "system\usb\usb.h"                                                      C:\datalogger\firmware\logic\logic.c
                                           #include "io_cfg.h"                                                              C:\datalogger\firmware\logic\logic.c
                                                                                                                            C:\datalogger\firmware\logic\logic.c
                                           /**                                                                              C:\datalogger\firmware\logic\logic.c
                                            * Configure the logic analyser, takes one byte bitfield                         C:\datalogger\firmware\logic\logic.c
                                            * containing the configuration options. See documentation                       C:\datalogger\firmware\logic\logic.c
                                            * for details.                                                                  C:\datalogger\firmware\logic\logic.c
                                            */                                                                              C:\datalogger\firmware\logic\logic.c
001876   cfd9     MOVFF     0xfd9,0xfe6    void logicConfig(uint8_t options)                                                C:\datalogger\firmware\logic\logic.c
001878   ffe6                                                                                                               
00187a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00187c   ffd9                                                                                                               
                                           {                                                                                C:\datalogger\firmware\logic\logic.c
00187e   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\datalogger\firmware\logic\logic.c
001880   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001882   ffd9                                                                                                               
001884   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\datalogger\firmware\logic\logic.c
                                           /**                                                                              C:\datalogger\firmware\logic\logic.c
                                            * If in async mode, start logging now and filling the SRAM                      C:\datalogger\firmware\logic\logic.c
                                            * buffer. If in sync mode, arm the analyser and start logging                   C:\datalogger\firmware\logic\logic.c
                                            * on the clock trigger.                                                         C:\datalogger\firmware\logic\logic.c
                                            */                                                                              C:\datalogger\firmware\logic\logic.c
                                           void logicStart(void)                                                            C:\datalogger\firmware\logic\logic.c
                                           {                                                                                C:\datalogger\firmware\logic\logic.c
001886   0012     RETURN    0x0            }                                                                                C:\datalogger\firmware\logic\logic.c
                                                                                                                            C:\datalogger\firmware\logic\logic.c
                                           /**                                                                              C:\datalogger\firmware\logic\logic.c
                                            * Set the sample rate for the analyser in kHz . We always sample                C:\datalogger\firmware\logic\logic.c
                                            * at the same rate, but oversample in the slower modes.                         C:\datalogger\firmware\logic\logic.c
                                            */                                                                              C:\datalogger\firmware\logic\logic.c
001888   cfd9     MOVFF     0xfd9,0xfe6    void setSampleRate(uint16_t samplerate)                                          C:\datalogger\firmware\logic\logic.c
00188a   ffe6                                                                                                               
00188c   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00188e   ffd9                                                                                                               
                                           {                                                                                C:\datalogger\firmware\logic\logic.c
001890   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\datalogger\firmware\logic\logic.c
001892   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001894   ffd9                                                                                                               
001896   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\datalogger\firmware\logic\logic.c
                                           /**                                                                              C:\datalogger\firmware\logic\logic.c
                                            * Get the currently set sample rate in kHz.                                     C:\datalogger\firmware\logic\logic.c
                                            */                                                                              C:\datalogger\firmware\logic\logic.c
                                           uint16_t getSampleRate(void)                                                     C:\datalogger\firmware\logic\logic.c
                                           {                                                                                C:\datalogger\firmware\logic\logic.c
001898   0012     RETURN    0x0            }                                                                                C:\datalogger\firmware\logic\logic.c
                                                                                                                            C:\datalogger\firmware\logic\logic.c
                                           /**                                                                              C:\datalogger\firmware\logic\logic.c
                                            * Set up an interrupt to run at the samplerate,                                 C:\datalogger\firmware\logic\logic.c
                                            * discard data for now.                                                         C:\datalogger\firmware\logic\logic.c
                                            */                                                                              C:\datalogger\firmware\logic\logic.c
00189a   cfd9     MOVFF     0xfd9,0xfe6    void startTimer(uint16_t samplerate)                                             C:\datalogger\firmware\logic\logic.c
00189c   ffe6                                                                                                               
00189e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0018a0   ffd9                                                                                                               
                                           {	                                                                               C:\datalogger\firmware\logic\logic.c
                                           	// Enable interrupt priority                                                    C:\datalogger\firmware\logic\logic.c
0018a2   8ed0     BSF       0xd0,0x7,0x0   	RCONbits.IPEN = 1;                                                              C:\datalogger\firmware\logic\logic.c
                                                                                                                            C:\datalogger\firmware\logic\logic.c
                                           	// Stop timer                                                                   C:\datalogger\firmware\logic\logic.c
0018a4   9ed5     BCF       0xd5,0x7,0x0   	T0CONbits.TMR0ON = 0;                                                           C:\datalogger\firmware\logic\logic.c
                                                                                                                            C:\datalogger\firmware\logic\logic.c
                                           	// Set to 8 bit mode                                                            C:\datalogger\firmware\logic\logic.c
0018a6   8cd5     BSF       0xd5,0x6,0x0   	T0CONbits.T08BIT = 1;                                                           C:\datalogger\firmware\logic\logic.c
                                                                                                                            C:\datalogger\firmware\logic\logic.c
                                           	// Clock on instruction clock cycles                                            C:\datalogger\firmware\logic\logic.c
0018a8   9ad5     BCF       0xd5,0x5,0x0   	T0CONbits.T0CS = 0;                                                             C:\datalogger\firmware\logic\logic.c
                                           	                                                                                C:\datalogger\firmware\logic\logic.c
                                           	// 256 prescaler                                                                C:\datalogger\firmware\logic\logic.c
0018aa   96d5     BCF       0xd5,0x3,0x0   	T0CONbits.PSA = 0;                                                              C:\datalogger\firmware\logic\logic.c
0018ac   84d5     BSF       0xd5,0x2,0x0   	T0CONbits.T0PS2 = 1;                                                            C:\datalogger\firmware\logic\logic.c
0018ae   82d5     BSF       0xd5,0x1,0x0   	T0CONbits.T0PS1  = 1;                                                           C:\datalogger\firmware\logic\logic.c
0018b0   80d5     BSF       0xd5,0x0,0x0   	T0CONbits.T0PS0 = 1;                                                            C:\datalogger\firmware\logic\logic.c
                                                                                                                            C:\datalogger\firmware\logic\logic.c
                                           	// Enable TIMER0 OVF interrupt, periph interrupt                                C:\datalogger\firmware\logic\logic.c
                                           	// and global interrupts                                                        C:\datalogger\firmware\logic\logic.c
0018b2   8af2     BSF       0xf2,0x5,0x0   	INTCONbits.TMR0IE = 1;                                                          C:\datalogger\firmware\logic\logic.c
0018b4   94f2     BCF       0xf2,0x2,0x0   	INTCONbits.TMR0IF = 0;                                                          C:\datalogger\firmware\logic\logic.c
0018b6   8cf2     BSF       0xf2,0x6,0x0   	INTCONbits.GIEL  = 1;                                                           C:\datalogger\firmware\logic\logic.c
0018b8   8ef2     BSF       0xf2,0x7,0x0   	INTCONbits.GIEH = 1;                                                            C:\datalogger\firmware\logic\logic.c
                                                                                                                            C:\datalogger\firmware\logic\logic.c
                                           	// Set TIMER0 OVF to high priority                                              C:\datalogger\firmware\logic\logic.c
0018ba   84f1     BSF       0xf1,0x2,0x0   	INTCON2bits.TMR0IP = 1;                                                         C:\datalogger\firmware\logic\logic.c
                                                                                                                            C:\datalogger\firmware\logic\logic.c
                                           	// Finally enable the timer                                                     C:\datalogger\firmware\logic\logic.c
0018bc   8ed5     BSF       0xd5,0x7,0x0   	T0CONbits.TMR0ON = 1;                                                           C:\datalogger\firmware\logic\logic.c
0018be   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\datalogger\firmware\logic\logic.c
0018c0   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0018c2   ffd9                                                                                                               
0018c4   0012     RETURN    0x0                                                                                             
                                                   LIST P=18F4550                                                           C:\MCC18\SRC\TRADIT~1\PROC\p18f4550.asm
                                                   LIST                                                                     C:\MCC18\SRC\TRADIT~1\PROC\p18f4550.asm
                                                   END                                                                      C:\MCC18\SRC\TRADIT~1\PROC\p18f4550.asm
                                           ;	RCS Header $Id: fxm1616s.asm,v 1.3 2006/01/12 23:16:38 rhinec Exp $            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;	$Revision: 1.3 $                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           	include <P18CXXX.INC>		; general Golden Gate definitions                        C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                   LIST                                                                     C:\MCC18\MPASM\P18CXXX.INC
                                           ; P18CXXX.INC  Standard Header File, Version 1.00   Microchip Technology, Inc.   C:\MCC18\MPASM\P18CXXX.INC
                                                   LIST                                                                     C:\MCC18\MPASM\P18C452.INC
                                           ; P18C452.INC  Standard Header File, Version 0.12   Microchip Technology, Inc.   C:\MCC18\MPASM\P18C452.INC
                                                   LIST                                                                     C:\MCC18\MPASM\P18C452.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C242                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C242.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F242                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F242.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F248                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F248.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C252                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C252.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F252                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F252.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F258                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F258.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C442                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C442.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F442                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F442.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F448                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F448.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C452                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C452.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F452                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F452.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F458                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F458.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C601                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C601.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C658                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C658.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C801                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C801.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C858                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C858.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F1220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F1220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F1320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F1320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6720                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6720.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8720                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8720.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2439                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2439.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2539                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2539.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4439                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4439.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4539                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4539.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6621                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6621.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8621                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8621.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2331                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2331.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2431                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2431.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4331                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4331.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4431                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4431.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2515                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2515.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2610                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2610.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4515                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4515.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4610                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4610.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6490                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6490.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8490                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8490.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2681                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2681.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4681                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4681.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2510                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2510.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4510                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4510.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2455                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2455.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2550                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2550.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4455                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4455.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4550                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4550.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2420                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2420.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4420                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4420.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2480                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2480.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2580                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2580.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4480                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4480.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4580                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4580.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6310                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6310.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6390                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6390.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8310                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8310.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8390                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8390.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6627                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6627.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6722                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6722.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8627                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8627.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8722                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8722.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F67J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F67J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F87J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F87J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6527                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6527.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6622                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6622.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8527                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8527.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8622                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8622.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F24J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F24J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F25J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F25J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F44J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F44J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F45J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F45J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2221                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2221.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2321                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2321.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4221                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4221.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4321                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4321.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F97J60                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F97J60.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F96J65                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F96J65.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F96J60                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F96J60.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F87J60                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F87J60.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J65                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J65.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J60                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J60.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F67J60                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F67J60.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J65                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J65.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J60                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J60.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F1331                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F1331.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F1330                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F1330.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F1231                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F1231.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F1230                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F1230.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4450                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4450.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2450                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2450.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4523                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4523.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4423                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4423.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2523                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2523.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2423                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2423.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J90                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J90.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F84J90                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F84J90.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F83J90                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F83J90.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J90                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J90.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F64J90                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F64J90.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F63J90                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F63J90.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F45K20                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F45K20.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F25K20                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F25K20.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4685                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4685.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2685                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2685.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J11                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J11.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F84J11                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F84J11.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F83J11                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F83J11.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J11                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J11.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F64J11                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F64J11.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F63J11                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F63J11.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4682                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4682.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2682                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2682.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F87J50                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F87J50.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J55                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J55.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J50                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J50.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J50                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J50.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F67J50                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F67J50.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J55                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J55.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J50                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J50.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J50                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J50.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F87J11                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F87J11.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J16                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J16.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J11                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J11.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F67J11                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F67J11.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J16                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J16.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J11                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J11.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F44K20                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F44K20.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F24K20                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F24K20.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2458                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2458.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2553                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2553.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4458                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4458.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4553                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4553.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                                                                                                            C:\MCC18\MPASM\P18CXXX.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           	include <CMATH18.INC>		; Math library definitions                               C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;	RCS Header $Id: cmath18.inc,v 1.3 2006/01/12 23:16:38 rhinec Exp $             C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                           ;	$Revision: 1.3 $                                                               C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                               LIST                                                                         C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                           ; CMATH18.INC  v1.0  Microchip Technology, Inc. / F.J. Testa                     C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                                   LIST                                                                     C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           	include <AARG.INC>		; AARG declarations                                         C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;	RCS Header $Id: aarg.inc,v 1.3 2006/01/12 23:16:38 rhinec Exp $                C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           ;       CMATH18 DATA DECLARATION FILE                                            C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           	EXTERN	__AARGB0, __AARGB1, __AARGB2, __AARGB3                                   C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                                   EXTERN  __AARGB4, __AARGB5, __AARGB6, __AARGB7                           C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           	EXTERN  __AEXP                                                                  C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           	EXTERN  __REMB3, __REMB2, __REMB1, __REMB0                                      C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           	                                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           	include <BARG.INC>		; BARG declarations                                         C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;	RCS Header $Id: barg.inc,v 1.3 2006/01/12 23:16:38 rhinec Exp $                C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                           ;       CMATH18 DATA DECLARATION FILE                                            C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                   EXTERN  __BARGB3, __BARGB2, __BARGB1, __BARGB0                           C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                   EXTERN  __BEXP                                                           C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           	include <TEMPARG.INC>		; TEMPARG declarations                                   C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;	RCS Header $Id: temparg.inc,v 1.3 2006/01/12 23:16:38 rhinec Exp $             C:\MCC18\SRC\TRADIT~1\MATH\TEMPARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\TEMPARG.INC
                                           ;       CMATH18 DATA DECLARATION FILE                                            C:\MCC18\SRC\TRADIT~1\MATH\TEMPARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\TEMPARG.INC
                                                   EXTERN  __TEMPB3, __TEMPB2, __TEMPB1, __TEMPB0, __TEMP                   C:\MCC18\SRC\TRADIT~1\MATH\TEMPARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;********************************************************************************************** C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;********************************************************************************************** C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;       16x16 Bit Signed Fixed Point Multiply 16 x 16 -> 32                      C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;       Input:  16 bit signed fixed point multiplicand in AARGB0, AARGB1         C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;               16 bit signed fixed point multiplier in BARGB0, BARGB1           C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;       Use:    CALL    FXM1616S                                                 C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;       Output: 32 bit signed fixed point product in AARGB0, AARGB1,             C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;               AARGB2, AARGB3                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;       Result: AARG  <--  AARG * BARG                                           C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;       Max Timing:     39 clks                                                  C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;       Min Timing:     31 clks                                                  C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;       PM: 38              DM: 8                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           PROG	CODE                                                                        C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           FXM1616S                                                                         C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           		GLOBAL	FXM1616S                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
00181c   c009     MOVFF     0x9,0x13       		MOVFF	__AARGB0,__TEMPB0                                                        C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
00181e   f013                                                                                                               
001820   c008     MOVFF     0x8,0x12       		MOVFF	__AARGB1,__TEMPB1	                                                       C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001822   f012                                                                                                               
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001824   5008     MOVF      0x8,0x0,0x0    		MOVF	__AARGB1,W                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001826   020d     MULWF     0xd,0x0        		MULWF	__BARGB1                                                                 C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001828   cff4     MOVFF     0xff4,0x7      		MOVFF	PRODH,__AARGB2                                                           C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
00182a   f007                                                                                                               
00182c   cff3     MOVFF     0xff3,0x6      		MOVFF	PRODL,__AARGB3                                                           C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
00182e   f006                                                                                                               
                                           		                                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001830   5009     MOVF      0x9,0x0,0x0    		MOVF	__AARGB0,W                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001832   020e     MULWF     0xe,0x0        		MULWF	__BARGB0                                                                 C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001834   cff4     MOVFF     0xff4,0x9      		MOVFF	PRODH,__AARGB0                                                           C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001836   f009                                                                                                               
001838   cff3     MOVFF     0xff3,0x8      		MOVFF	PRODL,__AARGB1                                                           C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
00183a   f008                                                                                                               
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
00183c   020d     MULWF     0xd,0x0        		MULWF	__BARGB1                                                                 C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
00183e   50f3     MOVF      0xf3,0x0,0x0   		MOVF	PRODL,W                                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001840   2607     ADDWF     0x7,0x1,0x0    		ADDWF	__AARGB2,F                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001842   50f4     MOVF      0xf4,0x0,0x0   		MOVF	PRODH,W                                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001844   2208     ADDWFC    0x8,0x1,0x0    		ADDWFC	__AARGB1,F                                                              C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001846   6ae8     CLRF      0xe8,0x0       		CLRF	WREG                                                                      C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001848   2209     ADDWFC    0x9,0x1,0x0    		ADDWFC	__AARGB0,F                                                              C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
00184a   5012     MOVF      0x12,0x0,0x0   		MOVF	__TEMPB1,W                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
00184c   020e     MULWF     0xe,0x0        		MULWF	__BARGB0                                                                 C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
00184e   50f3     MOVF      0xf3,0x0,0x0   		MOVF	PRODL,W                                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001850   2607     ADDWF     0x7,0x1,0x0    		ADDWF	__AARGB2,F                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001852   50f4     MOVF      0xf4,0x0,0x0   		MOVF	PRODH,W                                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001854   2208     ADDWFC    0x8,0x1,0x0    		ADDWFC	__AARGB1,F                                                              C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001856   6ae8     CLRF      0xe8,0x0       		CLRF	WREG                                                                      C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001858   2209     ADDWFC    0x9,0x1,0x0    		ADDWFC	__AARGB0,F                                                              C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
00185a   ae0e     BTFSS     0xe,0x7,0x0    		BTFSS	__BARGB0,MSB                                                             C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
00185c   ef34     GOTO      0x1868         		GOTO	TSIGN1616A                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
00185e   f00c                                                                                                               
001860   5012     MOVF      0x12,0x0,0x0   		MOVF	__TEMPB1,W                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001862   5e08     SUBWF     0x8,0x1,0x0    		SUBWF	__AARGB1,F                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001864   5013     MOVF      0x13,0x0,0x0   		MOVF	__TEMPB0,W                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001866   5a09     SUBWFB    0x9,0x1,0x0    		SUBWFB	__AARGB0,F                                                              C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           TSIGN1616A                                                                       C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001868   ae13     BTFSS     0x13,0x7,0x0   		BTFSS	__TEMPB0,MSB                                                             C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
00186a   0c00     RETLW     0x0            		RETLW	0x00                                                                     C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
00186c   500d     MOVF      0xd,0x0,0x0    		MOVF	__BARGB1,W                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
00186e   5e08     SUBWF     0x8,0x1,0x0    		SUBWF	__AARGB1,F                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001870   500e     MOVF      0xe,0x0,0x0    		MOVF	__BARGB0,W                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001872   5a09     SUBWFB    0x9,0x1,0x0    		SUBWFB	__AARGB0,F                                                              C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           		                                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
001874   0c00     RETLW     0x0            		RETLW	0x00                                                                     C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           		END                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;	RCS Header $Id: cmath18.asm,v 1.5 2006/01/12 23:16:38 rhinec Exp $             C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           ;       CMATH18 DATA DEFINITION FILE                                             C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           ;   VARIABLE ALLOCATION - Core math library routines                             C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           MATH_DATA      UDATA_ACS                                                         C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           SIGN		RES 1       ; save location for sign in MSB                                C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           __FPFLAGSbits                                                                    C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           __FPFLAGS		RES 1       ; floating point library exception flags                  C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                   GLOBAL  SIGN, __FPFLAGS, __FPFLAGSbits                                   C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           	                                                                                C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                   END                                                                      C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           ;	RCS Header $Id: aarg.asm,v 1.3 2006/01/12 23:16:38 rhinec Exp $                C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           ;       CMATH18 DATA DEFINITION FILE                                             C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           ;   VARIABLE ALLOCATION - Core math library routines                             C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           MATH_DATA      UDATA_ACS                                                         C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           __REMB3                                                                          C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           __AARGB7		RES 1                                                                  C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           __REMB2                                                                          C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           __AARGB6		RES 1                                                                  C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           __REMB1                                                                          C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           __AARGB5		RES 1                                                                  C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           __REMB0                                                                          C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           __AARGB4		RES 1                                                                  C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           __AARGB3		RES 1                                                                  C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           __AARGB2		RES 1                                                                  C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           __AARGB1		RES 1                                                                  C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           __AARGB0		RES 1                                                                  C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           __AEXP		RES 1       ; 8 bit biased exponent for argument A                       C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           	GLOBAL	__AARGB0, __AARGB1, __AARGB2, __AARGB3                                   C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                   GLOBAL  __AARGB4, __AARGB5, __AARGB6, __AARGB7                           C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           	GLOBAL  __AEXP                                                                  C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           	GLOBAL  __REMB3, __REMB2, __REMB1, __REMB0                                      C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                   END                                                                      C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           ;	RCS Header $Id: barg.asm,v 1.3 2006/01/12 23:16:38 rhinec Exp $                C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           ;       CMATH18 DATA DEFINITION FILE                                             C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           ;   VARIABLE ALLOCATION - Core math library routines                             C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           MATH_DATA      UDATA_ACS                                                         C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           __BARGB3		RES 1                                                                  C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           __BARGB2		RES 1                                                                  C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           __BARGB1		RES 1                                                                  C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           __BARGB0		RES 1       ; most significant byte of argument B                      C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           __BEXP		RES 1       ; 8 bit biased exponent for argument B                       C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                   GLOBAL  __BARGB3, __BARGB2, __BARGB1, __BARGB0                           C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                   GLOBAL  __BEXP                                                           C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                   END                                                                      C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           ;	RCS Header $Id: temparg.asm,v 1.3 2006/01/12 23:16:38 rhinec Exp $             C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           ;       CMATH18 DATA DEFINITION FILE                                             C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           ;   VARIABLE ALLOCATION - Core math library routines                             C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           MATH_DATA      UDATA_ACS                                                         C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           __TEMPB3		RES 1                                                                  C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           __TEMPB2		RES 1                                                                  C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           __TEMPB1		RES 1                                                                  C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           __TEMP                                                                           C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           __TEMPB0		RES 1       ; temporary storage                                        C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                                   GLOBAL  __TEMPB3, __TEMPB2, __TEMPB1, __TEMPB0, __TEMP                   C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           	                                                                                C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                                   END                                                                      C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                                                                                                            C:\MCC18\src\TRADIT~1\stdclib\__init.c
                                           /** @name __init                                                                 C:\MCC18\src\TRADIT~1\stdclib\__init.c
                                            * The {\bf __init} is called if the linker can not find a                       C:\MCC18\src\TRADIT~1\stdclib\__init.c
                                            * user defined version for it                                                   C:\MCC18\src\TRADIT~1\stdclib\__init.c
                                            */                                                                              C:\MCC18\src\TRADIT~1\stdclib\__init.c
                                                                                                                            C:\MCC18\src\TRADIT~1\stdclib\__init.c
                                           void __init (void)                                                               C:\MCC18\src\TRADIT~1\stdclib\__init.c
                                           {                                                                                C:\MCC18\src\TRADIT~1\stdclib\__init.c
001910   0012     RETURN    0x0            }                                                                                C:\MCC18\src\TRADIT~1\stdclib\__init.c
                                                                                                                            C:\MCC18\src\TRADIT~1\stdclib\__init.c
